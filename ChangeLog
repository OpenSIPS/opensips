=========================== Release 2.2.2 ==============================

2016-10-19  Razvan Crainea  <razvan at opensips dot org>
	* [9e406b2] :

	Increase version to 2.2.2


2016-10-19  Razvan Crainea  <razvan at opensips dot org>
	* [f79d3b4] :

	userblacklist: sync between reload and read
	This commit fixes possible crash due to concurrency between the data
	read while checking the blacklist and reload.

	Reported by Michele Pinassi

	Close #884
	(cherry picked from commit edad7265c71d2259003e7500872e51c1a461ad9f)


2016-10-19  Liviu Chircu  <liviu at opensips dot org>
	* [ab2a67b] :

	fraud_detection: Fix docs for "show_fraud_stats"
	(cherry picked from commit d25633505ceaf053bf96d78583f520e4f446d817)


2016-10-19  Liviu Chircu  <liviu at opensips dot org>
	* [243aacb] :

	fraud_detection: Fix "concurrent_calls" statistic
	Ensure the "concurrent_calls" stat is properly decremented for
	un-established dialogs as well (due to negative INVITE replies).

	Thanks to @Freenex for the bug report
	Closes #949
	(cherry picked from commit 703ce9098f0f91ee3ffa6ae0254d77903037b32a)


2016-10-19  Liviu Chircu  <liviu at opensips dot org>
	* [bb9fd7c] :

	fraud_detection: Fix shm memory leak
	(cherry picked from commit 4a0d22d95b34eed82c87b6b2f836b6d4789e4100)


2016-10-19  Razvan Crainea  <razvan at opensips dot org>
	* [14f72c6] :

	dns_cache: fix examples
	Credits go to Pete Kelly for reporting it.
	(cherry picked from commit 7cdd3ee99d6c46dcde238c8571f21c46e85e82b3)


2016-10-19  ionutrazvanionita  <ionutionita at opensips dot org>
	* [1c7e19d] :

	Fix broken ldap async engine
	   Previous ldap async engine implementation was broken. Now the
	module stores a pool of connections for each session which will
	be used for executing async queries and one separate connection
	that will be used for synchronous queries, in case the maximum number
	of open connections allowed(max_async_connections module parameter)
	is reached. The sync connection will also be used for synchronous
	queries from other functions.
	   The connection pool is stored per process, so each worker
	process will have its own pool and synchronous connection. For large
	numbers of asynchronous ldap calls per second, having a higher value
	for max_async_connections will result in better performance.
	(cherry picked from commit 7d7dd9effd82275b0727d99d2d11ea00e016cad2)


2016-10-19  Razvan Crainea  <razvan at opensips dot org>
	* [1c5911e] :

	Do not load a protocol module if there is no listener
	(cherry picked from commit 3593690d5a7da57a00280743a6effbb443be0c33)


2016-10-18  ionutrazvanionita  <ionutionita at opensips dot org>
	* [757389d] :

	[sst] fix using unallocated memory bus
	* sst was freeing shm memory after freeing it in dialog callbacs;
	* sst was using memory without checking if it was allocated;
	(cherry picked from commit 33dc084dd553a20cc691b3ec38e17993ac5ae5b6)


2016-10-13  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [9ed154b] :

	Fix CANCELLing of transactions not forwarded.
	Due async operations, a transaction may be created and it may exist for a long time before any branch is created for it (via a t_relay). The current fix takes care and does proper handling on incoming CANCELs matching the transaction while it has no branch (no t_relay() on it).
	Old behavior - the INVITE transaction was never getting a final reply
	New brhavior - the INVITE transaction gets an internally generated 487.
	(cherry picked from commit fb0d90ec75601304eed98168bb988ebdbf10c260)


2016-10-12  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [944fdc1] :

	Fix consistency and use dialog_id.
	Dialog_id is printed by dlg_list (along the h_label and h_id) as a simpler alternative to identify the dialog.
	Also, the dlg_end_dlg accepts both h_label and h_id or a dialog_id.
	This is needed as the DB exposes only the dialog_id, and the dialogs from DB cannot be correlated anymore with the MI commands. See #963

	Closes #963.


2016-10-12  Liviu Chircu  <liviu at opensips dot org>
	* [bea4f4a] :

	Fix a possible segmentation fault on startup
	Do not generate a corefile on "listen = udp:eth0:bad_port" errors
	(cherry picked from commit 2352d57e35c15dab34c046566e5a89cbc5d068aa)


2016-10-12  Liviu Chircu  <liviu at opensips dot org>
	* [de6dba0] :

	Fix "use_children" to work with interface names
	(cherry picked from commit c7da1af1642697269eb74865018d017f1a6ee664)


2016-10-12  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [b7ff6b3] :

	Fix documentation errors


2016-10-12  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [34bbe68] :

	Fix regression on is_registered() returning the contact ATTRibutes.
	The function, upon success, must also return the attributes of the first found contact for the searched AOR.

	Reported by Rik Broers ( @hydrosine ).
	Closes #960


2016-10-11  Liviu Chircu  <liviu at opensips dot org>
	* [e31aee8] :

	Improve parsing for "hep_udp" and "hep_tcp" literals
	(cherry picked from commit add97f8726a83aa0c408cd7701ce28f9d1f7ff62)


2016-10-11  Liviu Chircu  <liviu at opensips dot org>
	* [f94b24d] :

	proto_sctp: Fix startup bug caused by a typo
	(cherry picked from commit e8d9a71a44fc4d9a83ee2f8690904993330f05ef)


2016-10-07  Liviu Chircu  <liviu at opensips dot org>
	* [3fde889] :

	rest_client: Update documentation
	(cherry picked from commit efe5dd76e15b9ef06b7cf113c2e3fb7ec1e19d75)


2016-10-07  Liviu Chircu  <liviu at opensips dot org>
	* [7cdab71] :

	rest_client: Add "connect_poll_interval" module parameter
	Allows complete control over how quickly we want to detect libcurl's completed
	TCP handshakes, so the transfers can be started. A lower "connect_poll_interval"
	will speed up the HTTP transfer, but will also increase CPU usage.
	(cherry picked from commit f5abfb3dee649a14ae39ad74d7f04454f815748f)

	Conflicts:
		modules/rest_client/rest_methods.c

	Includes fix-commit 3ba7be6692c6987f.


2016-10-07  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [db433bc] :

	Downgrade logs from NOTICE to DBG - part 2
	(cherry picked from commit dd518ccdcdc02503ccdbead26f5fc44f2c405093)


2016-10-07  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [7b6d0d7] :

	Downgrade logs from NOTICE to DBG


2016-10-06  Daniel Fussia  <daniell at inatel dot br>
	* [8570c34] :

	Changed from VAL_STR to VAL_STRING in case DB_STRING


2016-10-05  Bogdan Andrei IANCU  <bogdan at opensips dot org>
	* [dfdb2d8] :

	Merge pull request #962 from tavyc/exec-flush
	exec: Flush the pipe after writing the message
	(cherry picked from commit bcf3118ec6b280d90f65a45747abd81c2fcfe44b)


2016-10-05  ionutrazvanionita  <ionutionita at opensips dot org>
	* [9a7aac3] :

	[sipcapture] memset contact uri structure to 0
	(cherry picked from commit ac66dc14bb736bb5afd70d923db7e7fa065462ff)


2016-10-04  rvlad-patrascu  <rvlad.patrascu at gmail dot com>
	* [70e1d6b] :

	Use signed type for computing timer drift
	(cherry picked from commit f8c11e17532db852901b7cc4a040b613d91ed5e3)


2016-10-03  Liviu Chircu  <liviu at opensips dot org>
	* [a9bdf7b] :

	usrloc User-Agent filtering: Fix memory corruption
	The "ua_re_check" macro added by commit e5cb9805bc is broken in several ways:
	    * unsafe read operation on shared memory
	    * unsafe write operation on shared memory
	    * incorrectly handled error case, without restoring the backup byte

	This patch corrects the above issues by extending the user_agent buffer.
	(cherry picked from commit 58a944cddbfbe7aab47a3e296d8aba5d36454a1e)

	Includes fix commits:
	    - 03398fbf
	    - e16abb4b


2016-09-29  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [c8ee7d5] :

	Fix computing the pinging partition in timer job.
	Avoid using static variables in timer jobs as they may be run in different processes, leading to unexpected results.
	Many thanks to Andrew ( @kertor on GITHUB) for spotting and reporting this.
	Fixes #959
	(cherry picked from commit 82fd3ae683b7fc108d47760f73cbdd80f2dd70af)


2016-09-29  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [f10e57f] :

	Fix documentation for calculate_ha1 parameter
	Reported by Aqs Younas on the mailing list.


2016-09-28  ionutrazvanionita  <ionutionita at opensips dot org>
	* [f22b884] :

	[proto_hep] fix bug introduced in 7190a2d
		Commit 7190a2d was freeing the extra chunks twice when
	the message was processed as SIP. Now the original hep context
	free function is not registered as a context free function, but
	called manually each time all the hep processing is done. This
	way we avoid the memory leaks that appeared when the message was
	not a SIP message, and the chunks were not freed.
	(cherry picked from commit 63b2a52c2c2d453ccf889cc5e74991a2c81aaccd)


2016-09-28  ionutrazvanionita  <ionutionita at opensips dot org>
	* [4198511] :

	[proto_hep] fix extra chunks memory leak
		Extra chunks (the ones that are not defined in the internal
	hep structure) were not freed, causing a memory leak for each hep
	packet that had such chunks.
	(cherry picked from commit 7190a2d89f54998a88a2b0b208bba50c9bb4027d)


2016-09-28  ionutrazvanionita  <ionutionita at opensips dot org>
	* [4e1ef8b] :

	[proto_hep] don't drop packets with port 0
	    This packets might be different than sip, internally generated
	that might not necessarily be related to a connection.
	(cherry picked from commit 7d2ab2bce0c5955b45cdbc88867e81c5e0d93908)


2016-09-28  ionutrazvanionita  <ionutionita at opensips dot org>
	* [3f26dc2] :

	[proto_hep] convert to host byte order before allocating custom chunk
	(cherry picked from commit 89f5ec299f2d9bcaa1a0f5933ab6f59638ee1aa6)


2016-09-26  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [9432241] :

	Extra logging to troubleshooting presence event handling
	(cherry picked from commit d536c3d41b3738842e531448c53a82791dd5e9b7)


2016-09-23  ionutrazvanionita  <ionutionita at opensips dot org>
	* [9a38079] :

	[acc] fixed missed calls callback registration
	If the missed calls callback was not registered the first time
	do_accounting was called then it wouldn't have been registered
	thereafter. A new internal flag was defined to know wheteher or
	not the callback has been registered before the current
	do_accounting call.
	(cherry picked from commit 0592ab6db2f00b586d5f74fadd9f7f65cc00a7cf)

	Conflicts:
		modules/acc/acc_logic.c
		modules/acc/acc_logic.h


2016-09-20  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [c26401a] :

	Fix socket selection for outbound UDP.
	Do not use the bind_address of the process when comes to send an UDP package (bind_address may be different from process to process, so the selection may give different results, depending on the processes sending the UDP).
	If you have a sip_msg, try using received interface of the msg (if matches), otherwise use the first UDP interface.
	(cherry picked from commit 7596eb99fceb68bd95653b76a388f8bc42fee5c6)


2016-09-19  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [e921f57] :

	Remove testing warning message


2016-09-19  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [8aebdcb] :

	Merge previous cherry-pick from trunk


2016-09-19  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [73710a7] :

	Fix async resume in the timer dedicated timer.
	The timer dedicated timer may end up running script routes (like failure route), so it may trigger some async operations. So, the dedicated timer process must be async enabled.
	(cherry picked from commit 91e87f18d48b9e66cd052e825ae1f2f3c061955f)


2016-09-19  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [e77626e] :

	Fix starting TCP processes.
	Do not start TCP main if tcp is disabled - this was introduced with the previous commit, when we split the starting of TCP workers and TCP main (see c2e2a0f141d11a972705f1555d0e2a23ec3f01ed).
	(cherry picked from commit 542a9c98844bffec96d7cc790c37ef842b43ee66)


2016-09-19  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [3767f33] :

	Fix the TCP forking sequence.
	Keep the TCP-main the last forked process, to be sure it inherits all the communication sockets from all other OpenSIPS processes.
	Credits go to Razvan for reporting.
	Alternative fix for 9fd451fd684ed3c9133bcc0e896de8d28ad45208
	(cherry picked from commit c2e2a0f141d11a972705f1555d0e2a23ec3f01ed)


2016-09-19  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [7080dda] :

	Fix building the FROM header in XMPP2SIP.
	Reported by Igor Pavlov.
	(cherry picked from commit bf9acc3a15f376f17a8d415a5d48789e19ce3dee)


2016-09-19  Razvan Crainea  <razvan at opensips dot org>
	* [8d4ae49] :

	usrloc: fix race between update for different registers
	In case there are two REGISTER messages with incremental CSEQ are
	replicated in a different order, skip the processing, since this has
	already been resolved by the master instance.

	Thanks to Deniz Beskök for reporing this

	Closes #956
	(cherry picked from commit 26f6c1bacb33ddf0bcbd54ccffc65bee8754e01d)


2016-09-14  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [a60f28d] :

	Fix potential starvation for the timer tasks.
	Even if the timer tasks have priority in the asyns reactor (for being handled), if all the worker processes are already busy in handling some SIP tasks which takes too long, may lead into a starvation of the timer tasks.
	For the moment we address this by creating a extra worker processes (similar to the SIP workers) which is dedicated to executing the timer tasks. Still, based on their availability and load, the SIP workers are able to consume timer tasks.

	In the next steps, this issue will be better addressed by implementing the concepts of "preferred jobs" and "capacity reservation" for the processes in the pool.

	Credits for helping with the investigation and testing go to Ramachandran, Agalya
	(cherry picked from commit c40f2b057209b8078520abc95e5d1bf5e5a28db6)


2016-09-13  Di-Shi Sun  <di-shi at transnexus dot com>
	* [68ace2e] :

	Updated to support SUBSCRIBE/NOTIFY CNAM and OSP Toolkit 4.12.0.
	1. Added SUBSCRIBE/NOTIFY CNAM support.
	2. Formatted sample configuration file.
	3. Updated for OSP Toolkit 4.12.0


2016-09-07  ionutrazvanionita  <ionutionita at opensips dot org>
	* [a55ac46] :

	[db_virtual] check if backend exports async function
	(cherry picked from commit 4537a21ed3a4cbb1a3925e8d5a420d4400366a8d)


2016-08-30  Razvan Crainea  <razvan at opensips dot org>
	* [7261cf0] :

	packaging/debian: move all current files in a common directory
	(cherry picked from commit 03b4a7eae52f21b0676d0ac1a337e6a996c2de42)


2016-08-30  Razvan Crainea  <razvan at opensips dot org>
	* [57e94a2] :

	packaging/debian: use newer version for libmicrohttpd
	(cherry picked from commit 84d38d617e605cf56e89e098e4b911de2ee2c874)


2016-08-30  Razvan Crainea  <razvan at opensips dot org>
	* [dc732f2] :

	fix expresion - expression typo
	(cherry picked from commit c2d0b38d53dac8c8975f2d40a3268b14829e53b2)


2016-08-30  Razvan Crainea  <razvan at opensips dot org>
	* [098e448] :

	debian packaging: remove non-existent dependency
	replace dependency of db4.6-util to db-util (>= 4.6.19) for new Debian
	versions
	reported by Julián Moreno Patiño
	(cherry picked from commit 6d7cf35658c22c8c65ddc3b6c54e9320c2198d5a)


2016-08-29  Răzvan Crainea  <razvan at opensips dot org>
	* [1ecb911] :

	Merge pull request #944 from Deni90/master
	Added support to fast_lock for mips and mips64el
	(cherry picked from commit 65d86fd0c362f3081cc0341760c6ebd1b900abaa)


2016-08-29  ionutrazvanionita  <ionutionita at opensips dot org>
	* [fb761ed] :

	[acc] Remove accidentally added file


2016-08-29  ionutrazvanionita  <ionutionita at opensips dot org>
	* [12c5864] :

	fix bag pkg pointer used for storing accounting flags
	This closes #906 (Many thanks to @gcuppers for support)


2016-08-26  Razvan Crainea  <razvan at opensips dot org>
	* [313b171] :

	ws(s): make sure we cleanup the request in the con
	Reported by Tito Cumpen
	(cherry picked from commit 39e40f93fe5bc76c58c5b64f8b32b327b975f62e)


2016-08-25  Liviu Chircu  <liviu at opensips dot org>
	* [456fc2c] :

	fraud_detection: Fix bad script retcode for check_fraud()
	Thanks to Freenex on IRC for fixing and testing
	(cherry picked from commit daf63bb229b810c21fee013c5ed01a00652fb850)


2016-08-19  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [d30f39a] :

	Fix is_contact_registered() to accept less params.
	The last 3 params are optional, so we can invoke the function without them.


2016-08-19  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [65d981b] :

	Fix using is_registered() function with first param only.
	Reported by neo_land1 on the #opensips IRC channel.


2016-08-17  ionutrazvanionita  <ionutionita at opensips dot org>
	* [373394b] :

	[acc] fix missed call flag check macro
	(cherry picked from commit 5b9006874ab0afd02d70a5317446220002c47449)

	Conflicts:
		modules/acc/acc_logic.c


2016-08-17  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [2f4d016] :

	Do not delete any internal AVP if "C" flag is used.
	When calling do_routing() with "C" flag (only check the prefix, without actually doing any routing), do not remove any AVP (in the beginning) as we do not add any (after prefix matching) -> no adding, so no deleting.
	This allows you to safely call do_routing("C") while looping throuhg the GWs of another do_routing().
	(cherry picked from commit 8fcc77cb87ba76e831466fb0a3da90eb556671d8)


2016-08-09  Liviu Chircu  <liviu at opensips dot org>
	* [0a60671] :

	drouting: Fix docs
	Thanks to Richard Robson for reporting
	(cherry picked from commit 058991d7806c047e42d78ece45577f5dc2929634)


2016-08-05  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [e7319c1] :

	Fix bug in evaluating the port spec in lb_count_call


2016-08-02  Bogdan Andrei IANCU  <bogdan at opensips dot org>
	* [2b79d96] :

	Merge pull request #937 from was4444/1.11
	fix: pthread_mutex should be process-shared
	(cherry picked from commit 97cd5c481bfd9dca4fff941cc86a497d35474704)


2016-08-02  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [2e60179] :

	Removes docs for old MI function
	"profile_bin_status" was removed when dialog module was migrated to clusterer
	Credits to Sebastien Couture (@sysreq0) for reporting
	Closes #939.


2016-07-22  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [3fab95a] :

	Remove unnecessary test.
	"res" cannot be null at that point
	(cherry picked from commit 0b60681f0cc08ffd13fbac3dc5cbde17904ad177)


2016-07-22  Ozzyboshi  <gun101 at email dot it>
	* [9568db8] :

	Fixed memory leak on modules/drouting/drouting.c
	This leak occures in function get_group_id() when do_routing is called without parameters in opensips.cfg.
	In this case the dr_default_grp variable is not equal -1 and 'return dr_default_grp' is executed without freeing the res variable previously allocated for query execution.
	(cherry picked from commit 65739943151f08aee18a7bc2125c7ac90ee84d00)


2016-07-20  Razvan Crainea  <razvan at opensips dot org>
	* [f090238] :

	Update ChangeLog for 2.2.1

=========================== Release 2.2.1 ==============================

2016-07-20  Razvan Crainea  <razvan at opensips dot org>
	* [e626dd1] :

	update version to 2.2.1


2016-07-18  Razvan Crainea  <razvan at opensips dot org>
	* [e99b2cc] :

	permissions: allow any supported protocol
	Before this commit, the protocol check was hardcoded in the module. This
	commit allows to add in the permissions table any transport protocol
	supported.

	Thanks go to Kirill Galinurov for reporting this!
	(cherry picked from commit 0eecff942dc3700e008a9941ac406a565325ef89)


2016-07-15  Liviu Chircu  <liviu at opensips dot org>
	* [97438ac] :

	rest_client: Fix incorrect trim operation
	(cherry picked from commit d8bf10da34152612e7835a64cedbb7593b8fc57b)


2016-07-15  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [9f79778] :

	Fix building Via Branch in stateless mode
	Instead of copying the branch value from a previous statefull Via header (which may lead to overflow as OpenSIPS has a maximum value for the built branch), we generate a new branch value based on the previous Via branch - in this way, we have full controll over the length of the resulting Branch and we also inherit the uniqueness of the branch value (from the prev Via hdr).

	Reported by Gupta, Rahul and Elliott, Ray
	(cherry picked from commit 482e643469b351d12418ff54c96beee7b27dca94)


2016-07-15  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [09ddd52] :

	Fix advertised port and address per branch.
	Before the advertised_port/address are preserved only in the UAS part of the transaction - that means it is only one value and it is from the setting done in Request Route; whatever later setting done in Failure Route or Branch Route are not preserved at transaction level (even if they are used on the spot, for sending out the INVITE).
	So, when we have to build a local request (ACK or CANCEL), we do not remember which specific address/port were advertised for that particular UAC (branch).

	Fixes #917.
	(cherry picked from commit eb850a22f0af83bf75e75dfadbe1320e8b92784b)


2016-07-12  Razvan Crainea  <razvan at opensips dot org>
	* [b40035e] :

	add debian packaging for proto_wss, proto_tls and tls_mgm
	Reported by Rik Broers
	Close #931


2016-07-12  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [59011d5] :

	Fix populating blacklists.
	When creating the blacklists, use the port and protocol of the destination too, otherwise the rules may conflict or be too wide to be used (like 2 destinations with same IP but different ports).
	(cherry picked from commit 7fa9cee5037af26fd1c63b70710f2bc03e6a31f4)


2016-07-12  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [67f4e25] :

	Fix populating blacklists.
	When creating the blacklists, use the port and protocol of the destination too, otherwise the rules may conflict or be too wide to be used (like 2 destinations with same IP but different ports).
	(cherry picked from commit 97f309c34c7333270a3f0f997868bdb9b94107f1)


2016-07-11  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [10c2016] :

	Fix populating blacklists.
	When creating the blacklists, use the port and protocol of the destination too, otherwise the rules may conflict or be too wide to be used (like 2 destinations with same IP but different ports).
	(cherry picked from commit 0495faa7d96f92da13102480ca43cd1befd37ba0)


2016-07-11  ionutrazvanionita  <ionutionita at opensips dot org>
	* [04f54fc] :

	[acc][bugfix] check if database loaded before using its handler
	(cherry picked from commit 8dd10d85b408947576223e75a67228ed7c7abd91)


2016-07-08  Razvan Crainea  <razvan at opensips dot org>
	* [24274b5] :

	dialog: advance to next cell in case of error
	(cherry picked from commit 70db2cfcdb0c74e6437db2aa9663fd0a5000ecdd)


2016-07-07  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [eb02211] :

	Fix error message when a route is not defined.
	Print the name of the route too - the ID is irrelevant for the script writter.
	(cherry picked from commit 409481818148d7951e1520c9dd4eb715c2bec7c6)


2016-07-05  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [a85f454] :

	Fixed compiling on arm6 with fastlocks
	Partial revert of 058e16 as we need some extra asm code for fast locking on arm6.
	See #923
	Closes #912
	(cherry picked from commit a69c32877b99fbd6eef736eff58c9b6ed8228166)


2016-07-05  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [7c3afa2] :

	Fix script varibles for providing port and proto (as part of SIP URI).
	If the SIP URI does not have an explicit port or proto, determine the default port/proto in a SIP wise manner (rather than returning 5060 / UDP) (Ex: sip:example.com;transport=tls has default port 5061 and not 5060 ; or sips:example.com has default proto TLS and not UDP).

	Affected variables are $dp, $rp, $op and $dP, $rP, $oP
	(cherry picked from commit 6cc850e34dcd022f1ed354bd50d9a1809518fa1f)


2016-07-04  ionutrazvanionita  <ionutionita at opensips dot org>
	* [2ea5754] :

	[db_sqlite] remove unnecessary file introduced in commit ccda718
	(cherry picked from commit 450265ff4032e4d316d21fa6890946bed2866f87)


2016-07-04  ionutrazvanionita  <ionutionita at opensips dot org>
	* [ccda718] :

	[db_sqlite] fix memory management bugs
	* core free function was used to free starting with commit 980f15ec
	which was not freeing the memory correctly(result rows were
	allocated all at once, but in the current version they were freed
	once at a time);
	* check if memory is allocated to prevent core dumps;
	(cherry picked from commit bb506d2563c2670094537e70cc35b85d4ce4cd80)


2016-07-04  ionutrazvanionita  <ionutionita at opensips dot org>
	* [5cbe3fa] :

	fix core database engine bug introduced with commit 980f15ec
	(cherry picked from commit db37c5c411b529acd0cfeee4dfbc7925db6c2901)


2016-07-04  Liviu Chircu  <liviu at opensips dot org>
	* [4da1a06] :

	acc: Fix incorrect Request-URI handling
	If the config script does not include any Request-URI altering logic
	(e.g. no lookup() or $ru manipulation), the acc module would incorrectly fill
	in a "msg->new_uri" field which should NOT be freed into the SIP request
	structure, leading to the memory pool being corrupted upon transaction release.

	Credits to Guillaume Lacroix for reporting
	(cherry picked from commit 02cb9f048d0a5e1f988aa9ccae1691216ed16ee5)


2016-07-04  Razvan Crainea  <razvan at opensips dot org>
	* [57586d7] :

	permissions: fix get_source_group() return
	In case a group is not found, return -1 instead of true


2016-06-30  ionutrazvanionita  <ionutionita at opensips dot org>
	* [4482329] :

	[sqlite] fix warning
	(cherry picked from commit 0b4cbaa41c7f9beb9f2f2c72807781b148b9877a)


2016-06-30  ionutrazvanionita  <ionutionita at opensips dot org>
	* [db06d61] :

	[db_sqlite] add explanation about implementation
	(cherry picked from commit 3ab8237c481f1977d59613b356d03980e6dc2271)


2016-06-30  Jarrod Baumann  <j at rrod dot org>
	* [db80f6a] :

	[db_sqlite] use DB_STRING type when the column value type is DB_STRING
	(cherry picked from commit a2c799451f3466ccd5239ca3cba408153d8ff35a)

	Conflicts:
		modules/db_sqlite/row.c


2016-06-30  Ionut Ionita  <ionutionita at opensips dot org>
	* [308ff0d] :

	Merge pull request #919 from Danfx/2.2
	Fix memory leak: after sqlite prepare was deleted stmt compiled, free…


2016-06-29  Daniel Fussia  <daniell at inatel dot br>
	* [eea7194] :

	Fix memory leak: after sqlite prepare was deleted stmt compiled, freed error message after sqlite exec, allocated rows was set to free and it also db_free_row was repaired.


2016-06-29  Liviu Chircu  <liviu at opensips dot org>
	* [d8c4b2a] :

	module statistics: Properly update the "real_used" memory stat
	(cherry picked from commit bc3404302d72f484206bfd3a620690f5c2bf6133)


2016-06-27  ionutrazvanionita  <ionutionita at opensips dot org>
	* [d835721] :

	[siptrace][bugfix] fix bad macro in siptrace(trace local ip logic)
	This commit closes #916
	Thanks to @Tinet-AaronAn for reporting the issue
	(cherry picked from commit 2a4f686d4997b814eeaa425dc23fe822cb8ef91a)


2016-06-25  Liviu Chircu  <liviu at opensips dot org>
	* [0c709f9] :

	Fix compiler warning
	Using gcc 4.8.4, we would get:

	net/trans.c:43:2: warning: missing initializer for field ‘name’ of
	‘struct proto_info’ [-Wmissing-field-initializers]
	  { }, /* PROTO_NONE */
	    ^
	(cherry picked from commit 376579fa53abb6fc16de76a3070d082c9d958165)


2016-06-24  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [8f54897] :

	Fix dialplan module when using db_text backend.
	The db_text makes no difference between NULL or "empty string" values in DB -> both are internally translated as NULL . The dialplan module, in a very abusive way, forces "not null" (in DB schema and in the code for data validation) even for columns that are optional (like subst_exp, repl_exp, timerec and attrs). Besides being bogus (if a column is not to be used, you have to set it to empty string rather than let it NULL), it makes impossible the usage of db_text with dialplan.
	This fix allows (DB and code) the mentioned DB columns to be also NULL.
	The change is backward compatible, it should not break any existing usage of the dialplan module.


2016-06-24  Razvan Crainea  <razvan at opensips dot org>
	* [d0183af] :

	Allow proto modules to populate its name
	(cherry picked from commit 00d052c18bd663e24769b7198a24aefbcd1963dc)


2016-06-24  Razvan Crainea  <razvan at opensips dot org>
	* [cb8f5d7] :

	proto: always populate default values for protocols name and port
	This allows you to print the protocol you received, and its associated port
	(cherry picked from commit 0ae5ba280618e076a7ba658d15db32b877b55442)


2016-06-23  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [055172e] :

	Merge branch '2.2' of github.com:OpenSIPS/opensips into 2.2


2016-06-23  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [2fac489] :

	Fix wrong number of columns when preloading via a DB backend without Fetch support.


2016-06-23  Razvan Crainea  <razvan at opensips dot org>
	* [bb8bd33] :

	init: use the specified CFGFILE in debian init
	In case the CFGFILE changes in the init script, opensips will still start with
	the compiled file instead of the one configured
	(cherry picked from commit 030efef84d240646ed8e99616b8a6eb64f7d17d2)


2016-06-17  ionutrazvanionita  <ionutionita at opensips dot org>
	* [c1aa55e] :

	[sqlite][bugfix] free column names when freeing the result
	(cherry picked from commit cf380773cec9f91ad08e343c03261154dabc36a5)


2016-06-17  Razvan Crainea  <razvan at opensips dot org>
	* [37c46b8] :

	Update packaging to 2.2.0


2016-06-17  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [968a8a8] :

	Fix proper testing of context content
	If a STR is register to the context, a valid STR * will be always returned , so we need to test the content, not the pointer.


2016-06-17  Razvan Crainea  <razvan at opensips dot org>
	* [c6dddd0] :

	rtpproxy: no need to update the len for IPv6
	(cherry picked from commit 5cfd916ca41ed60c9997f95d05694c9083b743b1)


2016-06-17  davesidwell  <davesidwell at users.noreply.github dot com>
	* [fd3841d] :

	Update rtpproxy.c
	When moving stored parameters from Branch AVP to Dialog variable, make sure that the integer value "setid" is handled correctly so that it remains valid for the remainder of the dialog.
	(cherry picked from commit e267e9eb83e2345ca716b897975c2fbfbb4e75ce)


2016-06-17  davesidwell  <davesidwell at users.noreply.github dot com>
	* [503f127] :

	Update rtpproxy.c
	When building I/O vector for command to rtpproxy in "force_rtp_proxy_body", after an IPv6 address is detected and the "6" option is added, increase the length component in the I/O vector so it is passed correctly.
	(cherry picked from commit 4e73871adba3f48b67a9ebbf20a2d9c60b823be8)


2016-06-16  Andrey Vorobiev  <andrey.vorobiev at mind dot com>
	* [20aea65] :

	Add support for SIP URIs without user part in 'avpops' module.
	This module provides a set of avp_db_xxx functions which take pseudo
	var and flag as first argument. Flag can be one of username, domain,
	uri or uuid. Previosly avp_db_xxx functions used to return an error if
	flag has been set to username, domain or uri and specifed pseudo var
	did not contain username and host after parsing as SIP URI. This
	behaviour seems to be strange because if flag is being set to
	domain/username and sip URI contains domain/username we can still
	load/store/delete this variable.
	(cherry picked from commit 459f2e90ed277a0371a3325b27038213c5083e8c)


2016-06-16  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [04945d2] :

	Fixed failure to enable NAT pinging.
	Commit 8f0c677 introduces a bug in testing is usrloc domains are available, and if not, to disable the NAT pinging in nathelper. The test is wrong as it is done in mod_init, while registrar module registerd the usrloc domain via fixup function, after the mod_init section.

	Reported by Nick Altmann
	(cherry picked from commit f150fb75611a6e61eabc134f266064bd23f1c850)


2016-06-16  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [e690461] :

	Fix memory corruption on $stat() vars
	The $stat() var specs are kept in pkg, while the name (if stat not found) is kept in memeory. This means all the copies (form all procs) of the specs will point to a single shm block. It is not safet to free this block as you have no idea how many copies of the spec (from other processes) still refer the name.
	Closes #902
	(cherry picked from commit 4baead765179f6bfbc098b3e59791d7bbc4a8d42)


2016-06-15  ionutrazvanionita  <ionutionita at opensips dot org>
	* [a0cf37a] :

	[acc][bugfix] enable acc flags refcount only after dlg callbacks called
	(cherry picked from commit a9a8fba51da95d3244ab46e22b3ed6cd8d0bea9e)


2016-06-14  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [4357fe8] :

	Fix docs on missing module dependency.
	If replicate_contacts_to parameter is turned on, usrloc depends on the clusterer module.
	Credits go to Sammy on mailing list.
	(cherry picked from commit 735958d87fe73a823a83847bf0d3e822c60aa515)


2016-06-09  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [9512363] :

	Fixed forcing FAST LOCKS for arm6.
	Use FAST locking support for arm6 too.
	For Linux, use POSIX as default locking support.
	(cherry picked from commit 058e16f2a76df9be4e48fa6866b096502981d530)


2016-06-09  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [d090114] :

	Fixed migration of Call Center tables
	Reported by John Quick.


2016-06-08  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [28c1946] :

	Fix evaluating the SIP port from a SIP URI.
	Use the new function get_uri_port() to evaluate the port and proto, in a SIP wise manner, form a SIP URI. If port/proto are not explicitly set in the URI, consider the default port for the used transpor proto. If protocol misses, we assume the default protos according to the URI schema.

	NOTE: it is completly bogus (and dangerous) to assue 5061 if SIPS schema is used as:
	1) SIPS can use used with WSS, which actually has 443 port
	2) TLS can pe required via transport param in a SIP schema URI too
	(cherry picked from commit 4c54bcd8bf0426f899b82505e493c97ef5378c79)


2016-06-08  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [96cd9c5] :

	Consider WSS also a SIPS protocol
	Reported by Varghese Paul ( @varghesepaul )
	Closing #899.
	(cherry picked from commit 39e0debef3174fab9fd2445e57a265ff5394eb1c)


2016-06-07  ionutrazvanionita  <ionutionita at opensips dot org>
	* [b9171c5] :

	[mi_xmlrpc_ng] fix fault incompatibilities with xmlrpc standard
	(cherry picked from commit d57c2fd7b20cf85a897d36d23e47df440fb3321c)


2016-06-07  Vlad Paiu  <vladpaiu at opensips dot org>
	* [8ef8d79] :

	Removed compilation warning
	implicit declaration of function â"sched_yield" [-Wimplicit-function-declaration]


2016-06-03  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [0e1cea7] :

	Removed wrong "NOT NULL" constraint over the contact DB fields
	The code actually handles the case of NULL callee / caller contacts, so DB must allow NULL values.


2016-06-03  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [001c2a8] :

	Removed unused "error" jump label
	(cherry picked from commit 5819b0fa7033bf2a6daef824bc21dd4ba497ae1b)


2016-06-03  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [eb11687] :

	Fix error handling in DB writes.
	If inserting/updating a dlg record in DB fails, do not exit with error, but continue with the rest of the dialogs.
	Credits for finding and reporting this go to Rik Broers @ Motto
	(cherry picked from commit 0ca6cf035471fc010366e4d29ced5d6fd63199ab)


2016-06-03  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [8f0c677] :

	Proper handle the case of no usrloc domain registered.
	Prevent get_next_udomain() crashing if there are no usrloc domains registered (reported by Qasim Akhan on users mailing list.
	Do not enable the pinging support in nathelper if usrloc has no registered domains.


2016-06-01  Liviu Chircu  <liviu at opensips dot org>
	* [29995e4] :

	load_balancer: Fix a possible crash
	Could have led to a segfault when OpenSIPS would run oom

	Reported by Qasim Khan
	(cherry picked from commit 4081fa349eeb1d3836186bfb0a56c41e7081c330)


2016-06-01  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [0269b44] :

	Fix documentation on former b2bl_key_avp module param
	(cherry picked from commit ca21c6d2871e01d093c69371ddcc204c5af0355a)


2016-05-30  Razvan Crainea  <razvan at opensips dot org>
	* [086cd47] :

	sync changelog for latest 2.2.0

=========================== Release 2.2.0 ==============================

2016-05-30  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [f595cf4] :

	Fixed interface matching in loose_route()
	If port is missing in Route URI, do not assume default 5060, but consider the schema and protocol (they may require a different default port).
	Ex: sip:10.0.0.5;transport=tls was previously handled as sip:10.0.0.5:5060;transport=tls, which is wrong as the default TLS port is 5061
	Reported on mailing list by Ravitez Dondeti.
	(cherry picked from commit 3593a5f5b2e012154b1c9a00e1645c67c5ece91c)


2016-05-30  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [ff237c8] :

	If POSIX sems are used, be sure to link against pthread lib
	(cherry picked from commit f7de6406056cbae95ba9f7521d822d280afbe6a2)


2016-05-30  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [77701c4] :

	Fixed proper cleanup on failure of tcpconn_new()
	The chances for going for error cases are very low, still let's do it in the proper way
	(cherry picked from commit 57c163b1b7680d3cc01227dbca7676e532aa7539)


2016-05-30  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [5cc7999] :

	Disable QM and DBG for memory manager.


2016-05-27  Razvan Crainea  <razvan at opensips dot org>
	* [a26b0a3] :

	Update ChangeLog with latest changes


2016-05-27  Razvan Crainea  <razvan at opensips dot org>
	* [5e87139] :

	promote 2.2.0-rc2 to stable


2016-05-27  ionutrazvanionita  <ionutionita at opensips dot org>
	* [e432851] :

	[acc] fix double free issue for multiple dlg callbacks
		The last byte in acc flag mask now holds a ref counter in
	the last byte. The counter is increased each time a dialog callback
	is invoked, and decreased for each free function corresponding to
	a callback. When the ref counter reaches 0, flags can be freed.
	The atomicity of the ref counter is based on the fact that
	dialog callbacks and their free functions are called sequentially,
	one after the other.
	ACC_DIALOG_CONTEXT and ACC_CDR_REGISTERED flags where moved in the
	7th byte of the flags.
	(cherry picked from commit 7834aa5d86187c5fda416fb2763510a015da351a)


2016-05-27  Vlad Paiu  <vladpaiu at opensips dot org>
	* [7a846e9] :

	Link the dialog cell into internally generated requests from the dialog module
	Fixes #839
	(cherry picked from commit 66937a2834d5680031f81c881719b43018fa06ad)


2016-05-27  Razvan Crainea  <razvan at opensips dot org>
	* [e8beb7b] :

	add license to rw_locking.h header
	(cherry picked from commit e3a57ac953259a0254a07198aabc88eaac9da9c2)


2016-05-27  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [cad565d] :

	Fixed missing MI reply on pua_publish.
	Properly send an MI reply for the async pua_publish with Expires 0.
	Many thanks to Damien Sandrs for invetigating and reporting.

	Closing #657
	(cherry picked from commit 60d01efe811ac7eeaa063032a309b1895c59e92f)


2016-05-26  Liviu Chircu  <liviu at opensips dot org>
	* [e98d96a] :

	Improve error reporting for unknown script vars
	Fixes #574
	(cherry picked from commit 97ace293dd4c7eb2fe8cd8fbee693455a5737861)


2016-05-26  Razvan Crainea  <razvan at opensips dot org>
	* [f210f84] :

	clusterer: proper translation to bigint for dbtext
	This creates the proper type for bigint in the clusterer table for dbtext

	Thanks go to Trevor Francis from 46Labs for reporting this
	Close #699
	(cherry picked from commit 5bae37316277f8fa31659c5e334e47f0ca3b78ab)


2016-05-26  Razvan Crainea  <razvan at opensips dot org>
	* [1bfd454] :

	dbtext: convert DBG to ERR for better debugging
	(cherry picked from commit 0f08b26e40b31bb8af325ba62cfa32676c62ae86)


2016-05-26  Liviu Chircu  <liviu at opensips dot org>
	* [270b757] :

	dialplan: Improve documentation
	Added paragraphs regarding rule types along with explanations on
	they way priorities and rule tie-breaking work.
	(cherry picked from commit 46894f819d1d7d6092129b334e33956e89e5d4ea)


2016-05-26  Razvan Crainea  <razvan at opensips dot org>
	* [6d74ed1] :

	Update makefile to support gcc 6.1


2016-05-26  Liviu Chircu  <liviu at opensips dot org>
	* [4dd88e8] :

	dialplan: Fix a rule tie-breaking bug
	When an input string would match both a "string" rule and a "regex"
	rule, the priority based tie-breaking was incorrect (now favouring
	the bigger priority instead - opposite to default module behavior).

	Thanks to @paolodepa for suggesting this fix
	Fixes issue #696
	(cherry picked from commit cbdd79ab3f6d772c6ef1fb7afc44990e9cad294e)


2016-05-26  Razvan Crainea  <razvan at opensips dot org>
	* [fe5a869] :

	acc: properly detect parsing errors
	(cherry picked from commit d6a44c0e77216f2b22aefdcffebd808374a9be85)


2016-05-25  Liviu Chircu  <liviu at opensips dot org>
	* [eda5580] :

	acc: Remove deprecated modparam dependency
	(cherry picked from commit d983d2875ef5dbbbffcdc62855f49b0cf3994459)


2016-05-25  Razvan Crainea  <razvan at opensips dot org>
	* [109a89f] :

	call_center: obey lock_set interface


2016-05-25  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [ffad254] :

	Fix warning in SYSTEM V locking functions
	(cherry picked from commit 53b3f402a4d9fb0ff1ba30288d810d41d6b55b1b)


2016-05-25  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [08fe6f5] :

	Fix bogus set locking functions.
	It is used for SYSTEM V locking only, looks like a copy'n'paste error.
	(cherry picked from commit 4bcdf4e6aee07ef965f6ae573b289f3fd082fdde)


2016-05-25  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [952f652] :

	Proper support for USE_POSIX_SEM option in Makefile
	(cherry picked from commit 5e40aaf9c3ed8ab4381d847f6a1f6a01a8113bf7)


2016-05-25  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [9bb5e71] :

	Fix bogus destroy of a RW lock.
	(cherry picked from commit 83f394579a88a6a9185342cf5f92401ef5c18e5a)


2016-05-25  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [a3887b5] :

	Obey USE_SYSV_SEM and USE_PTHREAD_MUTEX.
	If USE_SYSV_SEM or USE_PTHREAD_MUTEX are defined via Makefile.conf, do you force autodetection (based on arch type) of the locking support.
	(cherry picked from commit 39592dc9f25ecee982156e365d160642bdde48e8)


2016-05-25  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [e06048f] :

	Fixed typo
	(cherry picked from commit 1503ca6f2311cd635f4732d180d670eae04ac466)


2016-05-25  Liviu Chircu  <liviu at opensips dot org>
	* [8239ff1] :

	mi_xmlrpc_ng: Remove an incorrect free operation
	Completes commit d047e109
	(cherry picked from commit 99f039e37cd79621b2dcc2b5ec2decc9e7c39670)


2016-05-25  Liviu Chircu  <liviu at opensips dot org>
	* [bde14cd] :

	mi_xmlrpc_ng: Fix NULL pointer dereference
	Any MI tree with a topmost Array structure would have caused a crash
	(cherry picked from commit 555fb8a3cc91ffc48ae6629a47936391cfe6b2bc)


2016-05-25  Liviu Chircu  <liviu at opensips dot org>
	* [638e5d5] :

	mi_xmlrpc_ng: Fix a shared memory leak
	(cherry picked from commit d047e1096e2f6624f776d9a031f92be3cc9a0a0d)


2016-05-24  Liviu Chircu  <liviu at opensips dot org>
	* [bc5f651] :

	TCP alias lookup: Add matching by transport
	Further improving commit 13970bb.
	(cherry picked from commit ea699f0116a28cd03a0d1ff50da3fc6045ac3da5)


2016-05-24  Liviu Chircu  <liviu at opensips dot org>
	* [1a93613] :

	TCP connection lookup: Add matching by transport
	The fact that all currently supported TCP-oriented protocols have different
	standard ports is not an excuse for not including the transport into the
	match condition (i.e. dest IP address + dest port + dest transport).

	This may very well prevent issues with messages being sent out over the
	wrong TCP connection in a number of scenarios where we employ TCP connection
	reusage over both plain TCP and TLS with a Proxy that specifies the same port
	in the topmost Via header when it establishes each of the two connections.
	(cherry picked from commit 13970bb65253f1b35156466c6f514a4c520d8893)


2016-05-24  Liviu Chircu  <liviu at opensips dot org>
	* [bc996b4] :

	Revert "Accept TCP aliases by default"
	This reverts commit d62bc967b0d6784d2baced88b895da57f3f4ab9a.

	Firstly, TCP connection reusage (RFC 5923) should only be employed between
	TLS endpoints - only TLS allows the endpoints to authenticate each other
	during connection setup, preventing unauthorized connection hijacking.

	Secondly, aside from any security considerations, RFC 5923 must
	not be employed fanatically (Proxy-Proxy, Edge-UA, UA-Proxy) on any TCP
	connection (especially disregarding the ";alias" Via parameter!), but
	rather only between adjacent SIP entities who can both initiate a
	connection towards each other, and also support the RFC. In the real
	world, we're basically only talking about the Proxy-Proxy usage case, as
	any SIP UA scenario will most likely involve some form of NAT and a
	Proxy that cannot open connections backwards, towards the UA. In these
	cases, TCP connection reusage is _completely_ out of the question, as a
	single UA might end up receiving all calls of all users behind their
	public IP.

	Thanks to Jonas Borjesson for reporting the problem in the first place.
	(cherry picked from commit 715339fdd25bc74797e6f978d164eb0c4d5669ce)


2016-05-23  ionutrazvanionita  <ionutionita at opensips dot org>
	* [4beba6d] :

	[mmgeoip] allow chosing memory caching type
		Before GEOIP_MMAP_CACHE was used causing a segmentation
	fault when database file was changed. Now users can choose between
	reading the database directly from file, cahing it into memory with
	the possibility to change the database file at runtime.
	(cherry picked from commit ecf5032aaafbe5a93bbfc3562c4b3358548839e7)


2016-05-23  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [71b5274] :

	Fix potential 100 Trying duplicates.
	Added the "auto_100trying" module parameter to allow the script writter to take control (from script level) over when the 100 Trying reply is to be sent back.
	By default, the reply is automatically generated when the INVITE transaction is created.
	Fixes #833
	(cherry picked from commit b023c93a8c476e70b1550da4f46c91d6e2679442)


2016-05-23  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [c5bb0d0] :

	Added extra log message on openssl 1.0.1e-fips bug.
	If CRYPTO_set_mem_functions() fails, make a note on the openssl 1.0.1e-fips bug, so users may have a hint on the actual issue.
	See more  #834.
	Closes  #834.



2016-05-20  Razvan Crainea  <razvan at opensips dot org>
	* [0668ec7] :

	Upgrade to release candidate 2


2016-05-20  Liviu Chircu  <liviu at opensips dot org>
	* [dc77cfd] :

	Fix invalid memory access with async MySQL queries
	Due to the way the libmysqlclient query result strings were managed,
	they would be freed by the library before OpenSIPS would copy them
	into the output AVPs.

	This patch fixes the issue by adding a new DB API function which handles
	the cleanup of async query results.

	Reported by Ovidiu Sas
	Addresses issue #873
	(cherry picked from commit 177c60a0e13471a87d80f21504894b883038ffa4)


2016-05-20  Razvan Crainea  <razvan at opensips dot org>
	* [a080811] :

	th: fix dlg flag check
	(cherry picked from commit 1b5802d2e4876e0d63eeeec5a6edcb7a2321e9d0)


2016-05-20  Razvan Crainea  <razvan at opensips dot org>
	* [1dd0afb] :

	re-register topo hiding callbacks after restart
	Thanks to Pete Kelly for reporting this
	(cherry picked from commit 4c84bd84ad67e71f174b3297ff3432ca21bafab4)


2016-05-20  Liviu Chircu  <liviu at opensips dot org>
	* [0e22144] :

	clusterer: Fix bad doc example
	Reported by "alias_neo" on IRC
	(cherry picked from commit fd0ddaa8587c38dda74a5f0e853a283724281252)


2016-05-20  Liviu Chircu  <liviu at opensips dot org>
	* [3d91ab1] :

	Fix a string concatenation operator bug
	This patch fixes an issue with string concatenation where any NULL
	operand would cause all operands to its left to be ignored when
	computing the result of the expression.

	Reported by Ovidiu Sas
	Closes #870
	(cherry picked from commit a420752f436a1f952c255df8d5dbe9ea59b0d653)


2016-05-20  Vlad Paiu  <vladpaiu at opensips dot org>
	* [0fa379c] :

	Process sequential messages received in CONFIRMED_NA state
	Due to UDP race conditions, sequential messages may be received
	before the ACK confirming the initial INVITE ( eg. Re-INVITE sent
	immediately as the call is established in order to force
	a specific codec ) - also push these requests through the whole
	dialog processing in order to avoid any future issues ( eg. CSEQ
	updating which, if left unprocessed, will lead to generating out
	of order sequentials by OpenSIPS )
	(cherry picked from commit bfaf02242a98c464dfbdcd3c3ebf3fbb555bcc47)


2016-05-19  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [21ad02f] :

	Fix bogus timer ref counter during expire update.
	Many thanks to Trevor Francis for reporting and helping with troubleshooting and testing.
	(cherry picked from commit 047b1b3e32a9af30dd44f2487460975ed7b3a815)


2016-05-19  ionutrazvanionita  <ionutionita at opensips dot org>
	* [dea3a12] :

	[dispatcher] multiple fixes
	* use pkg memory instead of shm for fixup variables
	* fix int list building - avoid building a circular list


2016-05-19  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [a41b6c4] :

	Fixed preserving 3xx Contacts in TH without dialog
	Reported by Pete Kelly.
	Closes #656.
	(cherry picked from commit 6184b96c94d0fcc298dbe5bce1cd0ca9fb0445d3)


2016-05-18  ionutrazvanionita  <ionutionita at opensips dot org>
	* [8ae32d8] :

	[mi_xmlrpc] return code rework for errors
	Mi_xmlrpc_ng now returns only 200 OK as HTTP code. We have two
	labels for inspecting mi level faults, "code" for the error code
	and "message" for the error message. Check
	http://www.tutorialspoint.com/xml-rpc/xml_rpc_fault.htm for
	more details.
	(cherry picked from commit 2bb871d0e77a739aac310235a1d042f3241d02e0)


2016-05-18  ionutrazvanionita  <ionutionita at opensips dot org>
	* [24d63b6] :

	[mi_json] minor fixes in mi_json
	(cherry picked from commit c091d068768d76fe34ea67ebb010b30082d55ca5)


2016-05-18  Liviu Chircu  <liviu at opensips dot org>
	* [cf7b16f] :

	usrloc: Fix some uninitialized memory issues
	Reported by Minh Phan
	Closes #878
	(cherry picked from commit 38f525d14ab03df94cf5194cd60543636d1d73b3)


2016-05-18  ionutrazvanionita  <ionutionita at opensips dot org>
	* [4a086b6] :

	[mi_json] return jsonrpc compliat error message
	(cherry picked from commit 26a66f6aa2fb957a16ed000cc10360bf5f648e18)


2016-05-18  ionutrazvanionita  <ionutionita at opensips dot org>
	* [841343b] :

	[mi_json] remove double inverted commas for internal error messages
	(cherry picked from commit b5a51a964ee1658f41ad435190b14f82edfedffd)


2016-05-18  ionutrazvanionita  <ionutionita at opensips dot org>
	* [07dbc08] :

	[mi_json] return code rework for errors
		Mi_json now returns only 200 OK as HTTP code. We have two
	records for inspecting mi level errors, "code" for the error code
	and "reason" for the error message.
	(cherry picked from commit 644ea2938f4a8b3f3a25aff1529374f9dfc68ae0)


2016-05-18  Razvan Crainea  <razvan at opensips dot org>
	* [6a22f40] :

	nathelper: ping WSS clients when using natping_tcp
	See ticket #875
	(cherry picked from commit 54a306ae68c6ccb30caff0eb470a40517a687827)


2016-05-18  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [515484f] :

	Fixed bogus memory operations.
	Fixed bogus free (of uninit pointer) if parse_contact() fails
	Fixed shm leak on errors after print_rr_body
	Fixed shm leak on success if record_route is present.
	Reported by John Nash.
	(cherry picked from commit 4b0fca533cd7be4a45c1381c78f2b37aaba6152b)


2016-05-18  ionutrazvanionita  <ionutionita at opensips dot org>
	* [f8a3a1d] :

	[sipcapture] fix possible data type loss
	(cherry picked from commit 1c811ceb987b678e81af6b7669b219adf15250a1)


2016-05-18  ionutrazvanionita  <ionutionita at opensips dot org>
	* [aeed4cb] :

	[sipcapture] fix bad time calculation
	(cherry picked from commit d54dc2d0234825a92497fea1c3df08eec4afac83)


2016-05-11  ionutrazvanionita  <ionutionita at opensips dot org>
	* [eff04e0] :

	[dispatcher] fix double allocation issue
	(cherry picked from commit d6891363e3b3b4047a1948eb03fb6b6bab285885)


2016-05-09  Razvan Crainea  <razvan at opensips dot org>
	* [3ca4bfb] :

	Update ChangeLog for 2.2.0-rc1


2016-05-09  Razvan Crainea  <razvan at opensips dot org>
	* [7e7a2df] :

	Update name to opensips-2.2.0-rc1


2016-05-09  ionutrazvanionita  <ionutionita at opensips dot org>
	* [3c75721] :

	[nathelper] fix bad logic regarding the timer list
	(cherry picked from commit a86d2c4edcf9c62778a2a9d2438d57fac869bc10)


2016-05-09  ionutrazvanionita  <ionutionita at opensips dot org>
	* [2330afa] :

	[sipcapture] fix sip_capture table schema
	(cherry picked from commit 8fd97163058c798f45d381b124cc465261e9e1e5)


2016-05-09  ionutrazvanionita  <ionutionita at opensips dot org>
	* [22bdc37] :

	[siptrace][bugfix] bad structre used when printing HEP trace_id via mi
	(cherry picked from commit 8c6d9bacb580960f1a0a642a5be5a5ffeb5f958a)


2016-05-08  Liviu Chircu  <liviu at opensips dot org>
	* [cd4101a] :

	event_virtual doc: Fix grammar/typos
	(cherry picked from commit 3fd96863cb611d1eefad3b175535944545253f19)


2016-05-08  Liviu Chircu  <liviu at opensips dot org>
	* [664ec6b] :

	event_flatstore doc: Fix some typos
	(cherry picked from commit 3cedcc4af994aa8ce132547c325c13cbc8d2cd07)


2016-05-06  ionutrazvanionita  <ionutionita at opensips dot org>
	* [f5753f9] :

	[siptrace] fix hash calculus for extended hep trace_id
	(cherry picked from commit 5e261d7e9f1ea632806370c16cb0f733cee4edfc)


2016-05-06  ionutrazvanionita  <ionutionita at opensips dot org>
	* [91c3247] :

	[sipcapture] allow any hep version for hep_net variable
	(cherry picked from commit bcbded5653d5703b53ed4bc961a8a66d724d3e32)


2016-05-06  ionutrazvanionita  <ionutionita at opensips dot org>
	* [d09775b] :

	[sipcapture] fix new hep proto names string
	(cherry picked from commit 3c15d2d89ec1ab8ad01a2e29a844eb3084128abf)


2016-05-06  ionutrazvanionita  <ionutionita at opensips dot org>
	* [c939605] :

	[sipcapture][bugfix] fix bad string hex value parsing
	(cherry picked from commit 5d6b927d41988e3170ab37889fb26c8026dce29d)


2016-05-05  ionutrazvanionita  <ionutionita at opensips dot org>
	* [454a557] :

	[siptrace][bugfix] fix trace_id parsing
	(cherry picked from commit 2878741afc71620c5910f689c07db38b5003a48c)


2016-05-05  ionutrazvanionita  <ionutionita at opensips dot org>
	* [ed3f224] :

	[sipcapture][bugfix] invalid static vector size calculation
	(cherry picked from commit b8a82b159d220389513808c8fb8f651fc1498cda)


2016-05-05  Liviu Chircu  <liviu at opensips dot org>
	* [5589ffe] :

	dialog: Remove a chunk of dead code
	(cherry picked from commit fd330577d66de599430694334e8605ae8b46b9d9)


2016-05-05  ionutrazvanionita  <ionutionita at opensips dot org>
	* [55f45c4] :

	[sipcapture][bugfix] invalid memory access
	(cherry picked from commit 8056a984ce914d6585aef6054d727d82f72da3c6)


2016-05-04  renicok  <renico.koen at gmail dot com>
	* [f12cf9b] :

	Updated opensipsctl.base to also search /sbin
	The md5 utility is located at /sbin/md5 on FreeBSD 8.3. An additional common location was added to allow the script to accommodate this.
	(cherry picked from commit ca87f55ad071257aa3b891347aadb55a7729d25b)


2016-05-04  ionutrazvanionita  <ionutionita at opensips dot org>
	* [ef5f3b5] :

	[sipcapture] fix bad conditions
	(cherry picked from commit 4caa2ac37177f2ad59c8f2de23fcc3b12c11fe69)


2016-05-04  ionutrazvanionita  <ionutionita at opensips dot org>
	* [c24abca] :

	[sipcapture] be able to set proto_type in report capture function
	(cherry picked from commit e3466c4adecf11fa6d7da206359847c3a1c4b0f9)


2016-05-04  Razvan Crainea  <razvan at opensips dot org>
	* [2d4d2ff] :

	ratelimit: initialize the length of the algorithm
	(cherry picked from commit 0eebf1058574c622ba3532fb520908da1c1d94a5)


2016-05-04  Razvan Crainea  <razvan at opensips dot org>
	* [ebaad38] :

	Makefile.conf: add deps for tls_mgm and proto_wss
	This prevents 'make menuconf' from deleting these modules from the generated
	configuration file
	(cherry picked from commit 616b2ba189771a499c76d645627869270555511d)


2016-05-03  Răzvan Crainea  <razvan at opensips dot org>
	* [83a23be] :

	debian: add missing dependency
	Ovewrite lintian warning


2016-05-03  Razvan Crainea  <razvan at opensips dot org>
	* [1e99bb0] :

	dialog and usrloc: broadcast replication data all time
	This prevents clusterer module from marking a node as not reachable when there
	is no traffic at all.

	Fixes #849
	(cherry picked from commit 7f7f8711ccfd0aabb71b124fbb7f4c3e8afd6e37)


2016-05-03  Razvan Crainea  <razvan at opensips dot org>
	* [d02ae4f] :

	regex: fix spell-check in package
	(cherry picked from commit 647ea214f1892f8901f562bc45e0e1e33b699aba)


2016-05-03  ionutrazvanionita  <ionutionita at opensips dot org>
	* [30d8048] :

	[acc][bugfix] fix memory leak
	* fix leak caused by missed calls - receiving a negative reply
	caused flags not being freed


2016-05-03  Razvan Crainea  <razvan at opensips dot org>
	* [a1af71c] :

	proto_bin: remove debug INFO message
	(cherry picked from commit d388e804a320aa0f267e47cbcbaf473d519fab31)


2016-05-03  ionutrazvanionita  <ionutionita at opensips dot org>
	* [4389c26] :

	[siptrace] fix bad cherry-pick conflict solving


2016-05-03  ionutrazvanionita  <ionutionita at opensips dot org>
	* [090525c] :

	[sipcapture] updated docs for HEPVERSION


2016-05-03  ionutrazvanionita  <ionutionita at opensips dot org>
	* [e547ec6] :

	[fix functional bug][sipcapture] new HEPVERSION script variable
	(cherry picked from commit 136fcb65edd4ca00cb15f088de3e58f960385518)


2016-05-03  ionutrazvanionita  <ionutionita at opensips dot org>
	* [a9a9d7f] :

	[proto_hep] correctly name function
	(cherry picked from commit 853b0bbb759d3c58f00b0749e90e4016dd500891)


2016-05-03  ionutrazvanionita  <ionutionita at opensips dot org>
	* [608881b] :

	[hep] updated docs for previous commit
	(cherry picked from commit f9c6cdd2acf93062c252f9fc64faa6327e696718)


2016-05-03  ionutrazvanionita  <ionutionita at opensips dot org>
	* [b2ff3cc] :

	[fix functional bug][hep] multiple versions/protocols can be used in the same time
	Since commit 0873c14d1b81887823242a955217dcc854eb97c9 multiple
	network protocols can be used from one module. Proto_hep was changed
	to be able to use both tcp and udp in the same time. Moreover, there
	is no hep_version needed since we can receive HEPv1,v2 and v3 on any
	UDP interface. Since HEPv1 and v2 are not compatible with TCP, only
	HEPv3 will be support. For HEPv3, Sipcapture module can now relay
	packets from TCP to UDP or the reverse way.
	Siptrace module was also improved. Trace id's can now be defined with
	hep version and transport protocol, in order to be able to do multiple
	types of tracing with different HEP protocols and/or network transports.
	(cherry picked from commit 45a3aef8e151a03966a7739c2f880a3fdb0d6811)

	Conflicts:
		modules/siptrace/siptrace.c


2016-05-03  Razvan Crainea  <razvan at opensips dot org>
	* [5e8f0ac] :

	[fix functional bug]allow a module to register multiple protocols
	(cherry picked from commit 0873c14d1b81887823242a955217dcc854eb97c9)


2016-04-29  ionutrazvanionita  <ionutionita at opensips dot org>
	* [e82a5b3] :

	[drouting] bug fix and memory leak fix
	* free gateways list for each carrier at reload
	* use map_find instead of map_get to search an element in the tree
	(cherry picked from commit f9f3b83ef621850c2c128b12b9bf6ab2e78e5ee1)


2016-04-28  ionutrazvanionita  <ionutionita at opensips dot org>
	* [19421eb] :

	[siptrace][bugfix] use the correct sockaddr structure for storing
	(cherry picked from commit 556f394212bb07c6f7641f3b1df954d52ff730a5)


2016-04-28  ionutrazvanionita  <ionutionita at opensips dot org>
	* [ba0fcc2] :

	[proto_hep][bugfix] use the correct port when unpacking
	(cherry picked from commit 3dda4131b458bc6f3145196f7661671571dc948e)


2016-04-28  ionutrazvanionita  <ionutionita at opensips dot org>
	* [c2e8c17] :

	Revert "[hep][bugfix] correctly store ports/addresses"
	This reverts commit 7b1359adfcd55f12fd3739c04e30e1c12b91a71b.
	(cherry picked from commit ab2292945b19f00faa063c457a0efce384b8f245)


2016-04-28  ionutrazvanionita  <ionutionita at opensips dot org>
	* [4cce28a] :

	[hep][bugfix] correctly store ports/addresses
	(cherry picked from commit 51e6f102daac7d0de9a7ca4efea74d5c559746fe)


2016-04-28  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [70a3018] :

	Enable debug_mode settings only if debug_mode gets set to enable.
	(cherry picked from commit e7c14bc0c85c888040aec7f0949b085c5cee38e7)


2016-04-27  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [5c8869b] :

	Avoid space in MI node name


2016-04-27  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [555c0e7] :

	Fixed wrong MI tree in clusterer_list (related to previous commit)
	(cherry picked from commit fa4e7f0fa10c6e987b1b69bc5302f0d12a3f8714)


2016-04-27  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [aa856a7] :

	Fixed arrays in clusterer_list MI command
	(cherry picked from commit 31943a4e2c4ae84babc181f4e5a31e33f2d6b63a)


2016-04-26  ionutrazvanionita  <ionutionita at opensips dot org>
	* [0e81a70] :

	[tls_mgm] properly handle SSL_ERROR_SYSCALL on SSL_shutdown
	(cherry picked from commit bdcee39ebf04f8a74b926dc6e6c311487d3ef601)


2016-04-26  ionutrazvanionita  <ionutionita at opensips dot org>
	* [dbdc46c] :

	[siptrace][bugfix] avoid double free on cancelled transaction
	(cherry picked from commit 3c6b6930d615adb978dd2779b6cd4054c3bc49df)


2016-04-25  ionutrazvanionita  <ionutionita at opensips dot org>
	* [a9b0011] :

	[sipcapture] fix incompatibilities with HOMERv5 db schema
	(cherry picked from commit f75687847a142f18b44c49a0b274457d7039f165)


2016-04-25  ionutrazvanionita  <ionutionita at opensips dot org>
	* [85b126a] :

	[sipcapture] remove time-consuming unnecessary chunk of code
	(cherry picked from commit cc7a2ea114444b82645e484a1cf728c4464c17dd)


2016-04-25  ionutrazvanionita  <ionutionita at opensips dot org>
	* [d49afa6] :

	[proto_hep][bugfix] fix bad sip payload size calculation
	(cherry picked from commit eec5045d44ec1fc29aba9a6d5d024e38ace10ae1)


2016-04-25  ionutrazvanionita  <ionutionita at opensips dot org>
	* [e6258da] :

	[acc][bugfix] correctly store do_accounting() flags
		Flags are now moved from processing context into
	transaction context when the transaction is created, this way
	having visibility for the whole transaction.
	(cherry picked from commit 41bcd2559b29a23e96636c6c2dfc5628f69ae5b7)


2016-04-25  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [507db77] :

	Fixed MI nodes in 'sip_trace' command.
	Formatting chars must not be included in the MI tree
	(cherry picked from commit 7811e2d6b6013fe21c744531299f490671462a05)


2016-04-24  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [0a1fc05] :

	Fixed default FIFO file name
	(cherry picked from commit ffdbb970bfa60dcd1ed7d88fc94c4a07f9356ad9)


2016-04-24  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [b7ac4fc] :

	exclude proto_wss, use QM_MALLOC


2016-04-24  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [7aef53c] :

	tls_list() may be called even without DB support
	Avoid locking if DB support was not enabled.
	(cherry picked from commit e6944bb064750611585d0fa516551b944aa44cdc)


2016-04-22  ionutrazvanionita  <ionutionita at opensips dot org>
	* [eee4fae] :

	[proto_hep][bugfix] check memory allocation
	(cherry picked from commit f5ad753d56a95d68bc937e0721895d6ee4aefd43)


2016-04-21  ionutrazvanionita  <ionutionita at opensips dot org>
	* [21ca280] :

	[siptrace][bugfix] sequential requests - set context for sl callbacks
	(cherry picked from commit 943d9015f8f1e3467acafee67693f157beab9755)


2016-04-21  ionutrazvanionita  <ionutionita at opensips dot org>
	* [6ce202a] :

	[context][bugfix] each context has its own destroy functions vector
	Credits to Razvan Crainea
	(cherry picked from commit 53263b2a65dc771cb660078f4b20171a48f04248)


2016-04-21  ionutrazvanionita  <ionutionita at opensips dot org>
	* [576a730] :

	[tm]fix context functions header
	(cherry picked from commit 59e5a4165f88c2a4a4dbb5e159786c441f6fa502)


2016-04-20  Liviu Chircu  <liviu at opensips dot org>
	* [4cd99ec] :

	MI library: Add comments regarding a known issue
	Currently, MI arrays cannot contain objects with non-identical
	"name" attributes.

	This patch also quickfixes this issue in mi_list_all_profiles() by dropping
	the array idea altogether, in favour of a top-most object.
	(cherry picked from commit 6c105015c3a0a02c6f65822f5ce52e12bd0ae108)


2016-04-20  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [134ad0d] :

	Fixed bogus pkg_free on pointer in data segment
	Reported by @dzhou121
	Closes #854
	(cherry picked from commit b9aa87360eecf1e77baea661b855eec4f5798f2f)


2016-04-20  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [afc4c40] :

	Fix typo in do_accounting() naming is cfg templates
	(cherry picked from commit 7f8656e026435bf4ac6eff19b964b81d7a37d28e)


2016-04-18  ionutrazvanionita  <ionutionita at opensips dot org>
	* [b65c6c2] :

	[sipcapture][HOMERv5 incompatibility fix] updated docs for report_capture and new table name format
	(cherry picked from commit 5d725a42d0262807dd9a2c555640a980e50381ce)


2016-04-18  ionutrazvanionita  <ionutionita at opensips dot org>
	* [acd0a9c] :

	[sipcapture][HOMERv5 incompatibility fix]generic capturing function
	      Added new function called report_capture which allows
	capturing hep packets in a generic format. It will be very
	effective for the third version of the hep protocol for capturing
	packets other than SIP. Also added a new table called rtcp_capture
	for storing everything capture with report capture.
	(cherry picked from commit c5700cce4a37e484869941502e495733b8138b98)


2016-04-18  ionutrazvanionita  <ionutionita at opensips dot org>
	* [3053c7e] :

	 [sipcapture][HOMERv5 incompatibility fix] HOMERv5 table rotation aware logic
	    * HOMVERv5 allows rotating tables by having a prefix which is
	    the fixed table name and a suffix which is a string containig
	    timestamps
	    * sip_capture now accepts table name as a parameter to sip_capture()
	    function
	    * both global table name and sip_capture table_name can have
	    a prefix(string) and a suffix(strftime format string);
	    * fixed bugs in async query building
	(cherry picked from commit 074463f17f2e57fb15c120f306ce895438ad1865)


2016-04-14  ionutrazvanionita  <ionutionita at opensips dot org>
	* [e894f7a] :

	[acc][bugfix] register tm free function only once
	(cherry picked from commit 92d20416568c23f58f378fd14b272d2b16d7518e)


2016-04-14  Liviu Chircu  <liviu at opensips dot org>
	* [19dca29] :

	Fix a PKG leak in the SIP message processing stack
	Commit 7464a86ec introduced a processing context leak during the
	handling of basically any SIP request in all protocol stacks
	except for HEP.

	Reported by Trevor Francis <trevor@46labs.com>
	(cherry picked from commit 731719a2b10283439e2f6a0ba15bb8c6c6ef189c)


2016-04-14  ionutrazvanionita  <ionutionita at opensips dot org>
	* [c5c4df0] :

	[acc] fix double free issue
	Since callbacks were registered only at first, and aftewards only
	flags were changed there was no way to know if tm is to free the
	shmed flags from acc or dialog. For this a new flag was introduced
	to indicate whether the flags shall be removed either by dialog or
	tm.
	(cherry picked from commit 6852bd427376cea0cc53cbc5f87476f3377cbd04)


2016-04-12  Liviu Chircu  <liviu at opensips dot org>
	* [9888984] :

	Suppress "no free TCP receiver" logging noise
	This was added long before async TCP support, and it is now
	only useful to developers.
	(cherry picked from commit 142e7e0121040aceb2f9c31c4d4a0e8d8b573cc6)


2016-04-11  Ovidiu Sas  <osas at voipembedded dot com>
	* [7d371ab] :

	pi_http: return "200 OK" instead of "0 Unknown"
	(cherry picked from commit 73f8117f2f5f01560b6698ad845cce0b485df203)


2016-04-07  Kristian Høgh  <kfh at uni-tel dot dk>
	* [423f277] :

	cachedb_redis: Prevent crash when re-connect keeps failing
	(cherry picked from commit b501df74a231a987babe6eeadb3c676d8823619c)


2016-04-05  rvlad-patrascu  <rvlad.patrascu at gmail dot com>
	* [032bb69] :

	Fix missing GPL headers for mem files
	(cherry picked from commit 8ffd592e316a4436e2144dfc08f1b20571e6622e)


2016-04-05  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [be22446] :

	Fix typo in README example
	(cherry picked from commit 983ad955e21f57878fcefd61f8a734e89de5eab9)


2016-04-05  ionutrazvanionita  <ionutionita at opensips dot org>
	* [836d3b5] :

	[drouting] docs updated for partition id variable
	(cherry picked from commit 2013276a1b1e4a29766f22b5f483eb4ace6a7235)


2016-04-05  ionutrazvanionita  <ionutionita at opensips dot org>
	* [5689d43] :

	[drouting] check if partition pvar is writable
	(cherry picked from commit cf0945c16eff03efd5ec2b120d283ebc7f4b8616)


2016-04-05  ionutrazvanionita  <ionutionita at opensips dot org>
	* [7745b11] :

	[drouting] pvar for matched partition if wildcard operator used
	fix missing functionality - return to script the matching partition
	(cherry picked from commit 7551c668972e63970c9a65f7dc5bbd1959100d79)


2016-04-05  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [4be2662] :

	Fixed checking return code for pre raw callbacks
	If the TH pre raw callbacks fails, it may return a NULL buffer, leading to a later crash when we want to parse the SIP message.


2016-04-04  Jarrod Baumann  <j at rrod dot org>
	* [cf1e11d] :

	[dialog] repl_prof_add never increments the return buffer size for threshold comparison
	(cherry picked from commit 52028bdd2c729904c7e337d7aa0b99cce4195f0c)


2016-04-01  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [bcf7d40] :

	Fix missing logs if debug_mode after log_stderror
	(cherry picked from commit 29182c9baa98a8e156a1c0dd4ceb4992005c7950)


2016-03-31  Liviu Chircu  <liviu at opensips dot org>
	* [2c84108] :

	Various doc improvements
	(cherry picked from commit d9326522ae9c3dc39b8163d07495dc013217ab80)

	Conflicts:
		scripts/opensipsdbctl
		scripts/opensipsdbctl.base


2016-03-31  Liviu Chircu  <liviu at opensips dot org>
	* [7ac6bfc] :

	Update opensipsdbctl for 2.2


2016-03-31  Razvan Crainea  <razvan at opensips dot org>
	* [11877a6] :

	Update ChangeLog


2016-03-31  Liviu Chircu  <liviu at opensips dot org>
	* [c4b48fb] :

	Improve the AUTHORS file
	(cherry picked from commit 32d0e1a4fa500e7693828b3f98392d0502b8b0da)

2016-05-09  ionutrazvanionita  <ionutionita at opensips dot org>
	* [3c75721] :

	[nathelper] fix bad logic regarding the timer list
	(cherry picked from commit a86d2c4edcf9c62778a2a9d2438d57fac869bc10)


2016-05-09  ionutrazvanionita  <ionutionita at opensips dot org>
	* [2330afa] :

	[sipcapture] fix sip_capture table schema
	(cherry picked from commit 8fd97163058c798f45d381b124cc465261e9e1e5)


2016-05-09  ionutrazvanionita  <ionutionita at opensips dot org>
	* [22bdc37] :

	[siptrace][bugfix] bad structre used when printing HEP trace_id via mi
	(cherry picked from commit 8c6d9bacb580960f1a0a642a5be5a5ffeb5f958a)


2016-05-08  Liviu Chircu  <liviu at opensips dot org>
	* [cd4101a] :

	event_virtual doc: Fix grammar/typos
	(cherry picked from commit 3fd96863cb611d1eefad3b175535944545253f19)


2016-05-08  Liviu Chircu  <liviu at opensips dot org>
	* [664ec6b] :

	event_flatstore doc: Fix some typos
	(cherry picked from commit 3cedcc4af994aa8ce132547c325c13cbc8d2cd07)


2016-05-06  ionutrazvanionita  <ionutionita at opensips dot org>
	* [f5753f9] :

	[siptrace] fix hash calculus for extended hep trace_id
	(cherry picked from commit 5e261d7e9f1ea632806370c16cb0f733cee4edfc)


2016-05-06  ionutrazvanionita  <ionutionita at opensips dot org>
	* [91c3247] :

	[sipcapture] allow any hep version for hep_net variable
	(cherry picked from commit bcbded5653d5703b53ed4bc961a8a66d724d3e32)


2016-05-06  ionutrazvanionita  <ionutionita at opensips dot org>
	* [d09775b] :

	[sipcapture] fix new hep proto names string
	(cherry picked from commit 3c15d2d89ec1ab8ad01a2e29a844eb3084128abf)


2016-05-06  ionutrazvanionita  <ionutionita at opensips dot org>
	* [c939605] :

	[sipcapture][bugfix] fix bad string hex value parsing
	(cherry picked from commit 5d6b927d41988e3170ab37889fb26c8026dce29d)


2016-05-05  ionutrazvanionita  <ionutionita at opensips dot org>
	* [454a557] :

	[siptrace][bugfix] fix trace_id parsing
	(cherry picked from commit 2878741afc71620c5910f689c07db38b5003a48c)


2016-05-05  ionutrazvanionita  <ionutionita at opensips dot org>
	* [ed3f224] :

	[sipcapture][bugfix] invalid static vector size calculation
	(cherry picked from commit b8a82b159d220389513808c8fb8f651fc1498cda)


2016-05-05  Liviu Chircu  <liviu at opensips dot org>
	* [5589ffe] :

	dialog: Remove a chunk of dead code
	(cherry picked from commit fd330577d66de599430694334e8605ae8b46b9d9)


2016-05-05  ionutrazvanionita  <ionutionita at opensips dot org>
	* [55f45c4] :

	[sipcapture][bugfix] invalid memory access
	(cherry picked from commit 8056a984ce914d6585aef6054d727d82f72da3c6)


2016-05-04  renicok  <renico.koen at gmail dot com>
	* [f12cf9b] :

	Updated opensipsctl.base to also search /sbin
	The md5 utility is located at /sbin/md5 on FreeBSD 8.3. An additional common location was added to allow the script to accommodate this.
	(cherry picked from commit ca87f55ad071257aa3b891347aadb55a7729d25b)


2016-05-04  ionutrazvanionita  <ionutionita at opensips dot org>
	* [ef5f3b5] :

	[sipcapture] fix bad conditions
	(cherry picked from commit 4caa2ac37177f2ad59c8f2de23fcc3b12c11fe69)


2016-05-04  ionutrazvanionita  <ionutionita at opensips dot org>
	* [c24abca] :

	[sipcapture] be able to set proto_type in report capture function
	(cherry picked from commit e3466c4adecf11fa6d7da206359847c3a1c4b0f9)


2016-05-04  Razvan Crainea  <razvan at opensips dot org>
	* [2d4d2ff] :

	ratelimit: initialize the length of the algorithm
	(cherry picked from commit 0eebf1058574c622ba3532fb520908da1c1d94a5)


2016-05-04  Razvan Crainea  <razvan at opensips dot org>
	* [ebaad38] :

	Makefile.conf: add deps for tls_mgm and proto_wss
	This prevents 'make menuconf' from deleting these modules from the generated
	configuration file
	(cherry picked from commit 616b2ba189771a499c76d645627869270555511d)


2016-05-03  Răzvan Crainea  <razvan at opensips dot org>
	* [83a23be] :

	debian: add missing dependency
	Ovewrite lintian warning


2016-05-03  Razvan Crainea  <razvan at opensips dot org>
	* [1e99bb0] :

	dialog and usrloc: broadcast replication data all time
	This prevents clusterer module from marking a node as not reachable when there
	is no traffic at all.

	Fixes #849
	(cherry picked from commit 7f7f8711ccfd0aabb71b124fbb7f4c3e8afd6e37)


2016-05-03  Razvan Crainea  <razvan at opensips dot org>
	* [d02ae4f] :

	regex: fix spell-check in package
	(cherry picked from commit 647ea214f1892f8901f562bc45e0e1e33b699aba)


2016-05-03  ionutrazvanionita  <ionutionita at opensips dot org>
	* [30d8048] :

	[acc][bugfix] fix memory leak
	* fix leak caused by missed calls - receiving a negative reply
	caused flags not being freed


2016-05-03  Razvan Crainea  <razvan at opensips dot org>
	* [a1af71c] :

	proto_bin: remove debug INFO message
	(cherry picked from commit d388e804a320aa0f267e47cbcbaf473d519fab31)


2016-05-03  ionutrazvanionita  <ionutionita at opensips dot org>
	* [4389c26] :

	[siptrace] fix bad cherry-pick conflict solving


2016-05-03  ionutrazvanionita  <ionutionita at opensips dot org>
	* [090525c] :

	[sipcapture] updated docs for HEPVERSION


2016-05-03  ionutrazvanionita  <ionutionita at opensips dot org>
	* [e547ec6] :

	[fix functional bug][sipcapture] new HEPVERSION script variable
	(cherry picked from commit 136fcb65edd4ca00cb15f088de3e58f960385518)


2016-05-03  ionutrazvanionita  <ionutionita at opensips dot org>
	* [a9a9d7f] :

	[proto_hep] correctly name function
	(cherry picked from commit 853b0bbb759d3c58f00b0749e90e4016dd500891)


2016-05-03  ionutrazvanionita  <ionutionita at opensips dot org>
	* [608881b] :

	[hep] updated docs for previous commit
	(cherry picked from commit f9c6cdd2acf93062c252f9fc64faa6327e696718)


2016-05-03  ionutrazvanionita  <ionutionita at opensips dot org>
	* [b2ff3cc] :

	[fix functional bug][hep] multiple versions/protocols can be used in the same time
	Since commit 0873c14d1b81887823242a955217dcc854eb97c9 multiple
	network protocols can be used from one module. Proto_hep was changed
	to be able to use both tcp and udp in the same time. Moreover, there
	is no hep_version needed since we can receive HEPv1,v2 and v3 on any
	UDP interface. Since HEPv1 and v2 are not compatible with TCP, only
	HEPv3 will be support. For HEPv3, Sipcapture module can now relay
	packets from TCP to UDP or the reverse way.
	Siptrace module was also improved. Trace id's can now be defined with
	hep version and transport protocol, in order to be able to do multiple
	types of tracing with different HEP protocols and/or network transports.
	(cherry picked from commit 45a3aef8e151a03966a7739c2f880a3fdb0d6811)

	Conflicts:
		modules/siptrace/siptrace.c


2016-05-03  Razvan Crainea  <razvan at opensips dot org>
	* [5e8f0ac] :

	[fix functional bug]allow a module to register multiple protocols
	(cherry picked from commit 0873c14d1b81887823242a955217dcc854eb97c9)


2016-04-29  ionutrazvanionita  <ionutionita at opensips dot org>
	* [e82a5b3] :

	[drouting] bug fix and memory leak fix
	* free gateways list for each carrier at reload
	* use map_find instead of map_get to search an element in the tree
	(cherry picked from commit f9f3b83ef621850c2c128b12b9bf6ab2e78e5ee1)


2016-04-28  ionutrazvanionita  <ionutionita at opensips dot org>
	* [19421eb] :

	[siptrace][bugfix] use the correct sockaddr structure for storing
	(cherry picked from commit 556f394212bb07c6f7641f3b1df954d52ff730a5)


2016-04-28  ionutrazvanionita  <ionutionita at opensips dot org>
	* [ba0fcc2] :

	[proto_hep][bugfix] use the correct port when unpacking
	(cherry picked from commit 3dda4131b458bc6f3145196f7661671571dc948e)


2016-04-28  ionutrazvanionita  <ionutionita at opensips dot org>
	* [c2e8c17] :

	Revert "[hep][bugfix] correctly store ports/addresses"
	This reverts commit 7b1359adfcd55f12fd3739c04e30e1c12b91a71b.
	(cherry picked from commit ab2292945b19f00faa063c457a0efce384b8f245)


2016-04-28  ionutrazvanionita  <ionutionita at opensips dot org>
	* [4cce28a] :

	[hep][bugfix] correctly store ports/addresses
	(cherry picked from commit 51e6f102daac7d0de9a7ca4efea74d5c559746fe)


2016-04-28  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [70a3018] :

	Enable debug_mode settings only if debug_mode gets set to enable.
	(cherry picked from commit e7c14bc0c85c888040aec7f0949b085c5cee38e7)


2016-04-27  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [5c8869b] :

	Avoid space in MI node name


2016-04-27  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [555c0e7] :

	Fixed wrong MI tree in clusterer_list (related to previous commit)
	(cherry picked from commit fa4e7f0fa10c6e987b1b69bc5302f0d12a3f8714)


2016-04-27  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [aa856a7] :

	Fixed arrays in clusterer_list MI command
	(cherry picked from commit 31943a4e2c4ae84babc181f4e5a31e33f2d6b63a)


2016-04-26  ionutrazvanionita  <ionutionita at opensips dot org>
	* [0e81a70] :

	[tls_mgm] properly handle SSL_ERROR_SYSCALL on SSL_shutdown
	(cherry picked from commit bdcee39ebf04f8a74b926dc6e6c311487d3ef601)


2016-04-26  ionutrazvanionita  <ionutionita at opensips dot org>
	* [dbdc46c] :

	[siptrace][bugfix] avoid double free on cancelled transaction
	(cherry picked from commit 3c6b6930d615adb978dd2779b6cd4054c3bc49df)


2016-04-25  ionutrazvanionita  <ionutionita at opensips dot org>
	* [a9b0011] :

	[sipcapture] fix incompatibilities with HOMERv5 db schema
	(cherry picked from commit f75687847a142f18b44c49a0b274457d7039f165)


2016-04-25  ionutrazvanionita  <ionutionita at opensips dot org>
	* [85b126a] :

	[sipcapture] remove time-consuming unnecessary chunk of code
	(cherry picked from commit cc7a2ea114444b82645e484a1cf728c4464c17dd)


2016-04-25  ionutrazvanionita  <ionutionita at opensips dot org>
	* [d49afa6] :

	[proto_hep][bugfix] fix bad sip payload size calculation
	(cherry picked from commit eec5045d44ec1fc29aba9a6d5d024e38ace10ae1)


2016-04-25  ionutrazvanionita  <ionutionita at opensips dot org>
	* [e6258da] :

	[acc][bugfix] correctly store do_accounting() flags
		Flags are now moved from processing context into
	transaction context when the transaction is created, this way
	having visibility for the whole transaction.
	(cherry picked from commit 41bcd2559b29a23e96636c6c2dfc5628f69ae5b7)


2016-04-25  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [507db77] :

	Fixed MI nodes in 'sip_trace' command.
	Formatting chars must not be included in the MI tree
	(cherry picked from commit 7811e2d6b6013fe21c744531299f490671462a05)


2016-04-24  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [0a1fc05] :

	Fixed default FIFO file name
	(cherry picked from commit ffdbb970bfa60dcd1ed7d88fc94c4a07f9356ad9)


2016-04-24  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [b7ac4fc] :

	exclude proto_wss, use QM_MALLOC


2016-04-24  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [7aef53c] :

	tls_list() may be called even without DB support
	Avoid locking if DB support was not enabled.
	(cherry picked from commit e6944bb064750611585d0fa516551b944aa44cdc)


2016-04-22  ionutrazvanionita  <ionutionita at opensips dot org>
	* [eee4fae] :

	[proto_hep][bugfix] check memory allocation
	(cherry picked from commit f5ad753d56a95d68bc937e0721895d6ee4aefd43)


2016-04-21  ionutrazvanionita  <ionutionita at opensips dot org>
	* [21ca280] :

	[siptrace][bugfix] sequential requests - set context for sl callbacks
	(cherry picked from commit 943d9015f8f1e3467acafee67693f157beab9755)


2016-04-21  ionutrazvanionita  <ionutionita at opensips dot org>
	* [6ce202a] :

	[context][bugfix] each context has its own destroy functions vector
	Credits to Razvan Crainea
	(cherry picked from commit 53263b2a65dc771cb660078f4b20171a48f04248)


2016-04-21  ionutrazvanionita  <ionutionita at opensips dot org>
	* [576a730] :

	[tm]fix context functions header
	(cherry picked from commit 59e5a4165f88c2a4a4dbb5e159786c441f6fa502)


2016-04-20  Liviu Chircu  <liviu at opensips dot org>
	* [4cd99ec] :

	MI library: Add comments regarding a known issue
	Currently, MI arrays cannot contain objects with non-identical
	"name" attributes.

	This patch also quickfixes this issue in mi_list_all_profiles() by dropping
	the array idea altogether, in favour of a top-most object.
	(cherry picked from commit 6c105015c3a0a02c6f65822f5ce52e12bd0ae108)


2016-04-20  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [134ad0d] :

	Fixed bogus pkg_free on pointer in data segment
	Reported by @dzhou121
	Closes #854
	(cherry picked from commit b9aa87360eecf1e77baea661b855eec4f5798f2f)


2016-04-20  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [afc4c40] :

	Fix typo in do_accounting() naming is cfg templates
	(cherry picked from commit 7f8656e026435bf4ac6eff19b964b81d7a37d28e)


2016-04-18  ionutrazvanionita  <ionutionita at opensips dot org>
	* [b65c6c2] :

	[sipcapture][HOMERv5 incompatibility fix] updated docs for report_capture and new table name format
	(cherry picked from commit 5d725a42d0262807dd9a2c555640a980e50381ce)


2016-04-18  ionutrazvanionita  <ionutionita at opensips dot org>
	* [acd0a9c] :

	[sipcapture][HOMERv5 incompatibility fix]generic capturing function
	      Added new function called report_capture which allows
	capturing hep packets in a generic format. It will be very
	effective for the third version of the hep protocol for capturing
	packets other than SIP. Also added a new table called rtcp_capture
	for storing everything capture with report capture.
	(cherry picked from commit c5700cce4a37e484869941502e495733b8138b98)


2016-04-18  ionutrazvanionita  <ionutionita at opensips dot org>
	* [3053c7e] :

	 [sipcapture][HOMERv5 incompatibility fix] HOMERv5 table rotation aware logic
	    * HOMVERv5 allows rotating tables by having a prefix which is
	    the fixed table name and a suffix which is a string containig
	    timestamps
	    * sip_capture now accepts table name as a parameter to sip_capture()
	    function
	    * both global table name and sip_capture table_name can have
	    a prefix(string) and a suffix(strftime format string);
	    * fixed bugs in async query building
	(cherry picked from commit 074463f17f2e57fb15c120f306ce895438ad1865)


2016-04-14  ionutrazvanionita  <ionutionita at opensips dot org>
	* [e894f7a] :

	[acc][bugfix] register tm free function only once
	(cherry picked from commit 92d20416568c23f58f378fd14b272d2b16d7518e)


2016-04-14  Liviu Chircu  <liviu at opensips dot org>
	* [19dca29] :

	Fix a PKG leak in the SIP message processing stack
	Commit 7464a86ec introduced a processing context leak during the
	handling of basically any SIP request in all protocol stacks
	except for HEP.

	Reported by Trevor Francis <trevor@46labs.com>
	(cherry picked from commit 731719a2b10283439e2f6a0ba15bb8c6c6ef189c)


2016-04-14  ionutrazvanionita  <ionutionita at opensips dot org>
	* [c5c4df0] :

	[acc] fix double free issue
	Since callbacks were registered only at first, and aftewards only
	flags were changed there was no way to know if tm is to free the
	shmed flags from acc or dialog. For this a new flag was introduced
	to indicate whether the flags shall be removed either by dialog or
	tm.
	(cherry picked from commit 6852bd427376cea0cc53cbc5f87476f3377cbd04)


2016-04-12  Liviu Chircu  <liviu at opensips dot org>
	* [9888984] :

	Suppress "no free TCP receiver" logging noise
	This was added long before async TCP support, and it is now
	only useful to developers.
	(cherry picked from commit 142e7e0121040aceb2f9c31c4d4a0e8d8b573cc6)


2016-04-11  Ovidiu Sas  <osas at voipembedded dot com>
	* [7d371ab] :

	pi_http: return "200 OK" instead of "0 Unknown"
	(cherry picked from commit 73f8117f2f5f01560b6698ad845cce0b485df203)


2016-04-07  Kristian Høgh  <kfh at uni-tel dot dk>
	* [423f277] :

	cachedb_redis: Prevent crash when re-connect keeps failing
	(cherry picked from commit b501df74a231a987babe6eeadb3c676d8823619c)


2016-04-05  rvlad-patrascu  <rvlad.patrascu at gmail dot com>
	* [032bb69] :

	Fix missing GPL headers for mem files
	(cherry picked from commit 8ffd592e316a4436e2144dfc08f1b20571e6622e)


2016-04-05  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [be22446] :

	Fix typo in README example
	(cherry picked from commit 983ad955e21f57878fcefd61f8a734e89de5eab9)


2016-04-05  ionutrazvanionita  <ionutionita at opensips dot org>
	* [836d3b5] :

	[drouting] docs updated for partition id variable
	(cherry picked from commit 2013276a1b1e4a29766f22b5f483eb4ace6a7235)


2016-04-05  ionutrazvanionita  <ionutionita at opensips dot org>
	* [5689d43] :

	[drouting] check if partition pvar is writable
	(cherry picked from commit cf0945c16eff03efd5ec2b120d283ebc7f4b8616)


2016-04-05  ionutrazvanionita  <ionutionita at opensips dot org>
	* [7745b11] :

	[drouting] pvar for matched partition if wildcard operator used
	fix missing functionality - return to script the matching partition
	(cherry picked from commit 7551c668972e63970c9a65f7dc5bbd1959100d79)


2016-04-05  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [4be2662] :

	Fixed checking return code for pre raw callbacks
	If the TH pre raw callbacks fails, it may return a NULL buffer, leading to a later crash when we want to parse the SIP message.


2016-04-04  Jarrod Baumann  <j at rrod dot org>
	* [cf1e11d] :

	[dialog] repl_prof_add never increments the return buffer size for threshold comparison
	(cherry picked from commit 52028bdd2c729904c7e337d7aa0b99cce4195f0c)


2016-04-01  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [bcf7d40] :

	Fix missing logs if debug_mode after log_stderror
	(cherry picked from commit 29182c9baa98a8e156a1c0dd4ceb4992005c7950)


2016-03-31  Liviu Chircu  <liviu at opensips dot org>
	* [2c84108] :

	Various doc improvements
	(cherry picked from commit d9326522ae9c3dc39b8163d07495dc013217ab80)

	Conflicts:
		scripts/opensipsdbctl
		scripts/opensipsdbctl.base


2016-03-31  Liviu Chircu  <liviu at opensips dot org>
	* [7ac6bfc] :

	Update opensipsdbctl for 2.2


2016-03-31  Razvan Crainea  <razvan at opensips dot org>
	* [11877a6] :

	Update ChangeLog


2016-03-31  Liviu Chircu  <liviu at opensips dot org>
	* [c4b48fb] :

	Improve the AUTHORS file
	(cherry picked from commit 32d0e1a4fa500e7693828b3f98392d0502b8b0da)

2016-05-09  Razvan Crainea  <razvan at opensips dot org>
	* [7e7a2df] :

	Update name to opensips-2.2.0-rc1


2016-05-09  ionutrazvanionita  <ionutionita at opensips dot org>
	* [3c75721] :

	[nathelper] fix bad logic regarding the timer list
	(cherry picked from commit a86d2c4edcf9c62778a2a9d2438d57fac869bc10)


2016-05-09  ionutrazvanionita  <ionutionita at opensips dot org>
	* [2330afa] :

	[sipcapture] fix sip_capture table schema
	(cherry picked from commit 8fd97163058c798f45d381b124cc465261e9e1e5)


2016-05-09  ionutrazvanionita  <ionutionita at opensips dot org>
	* [22bdc37] :

	[siptrace][bugfix] bad structre used when printing HEP trace_id via mi
	(cherry picked from commit 8c6d9bacb580960f1a0a642a5be5a5ffeb5f958a)


2016-05-08  Liviu Chircu  <liviu at opensips dot org>
	* [cd4101a] :

	event_virtual doc: Fix grammar/typos
	(cherry picked from commit 3fd96863cb611d1eefad3b175535944545253f19)


2016-05-08  Liviu Chircu  <liviu at opensips dot org>
	* [664ec6b] :

	event_flatstore doc: Fix some typos
	(cherry picked from commit 3cedcc4af994aa8ce132547c325c13cbc8d2cd07)


2016-05-06  ionutrazvanionita  <ionutionita at opensips dot org>
	* [f5753f9] :

	[siptrace] fix hash calculus for extended hep trace_id
	(cherry picked from commit 5e261d7e9f1ea632806370c16cb0f733cee4edfc)


2016-05-06  ionutrazvanionita  <ionutionita at opensips dot org>
	* [91c3247] :

	[sipcapture] allow any hep version for hep_net variable
	(cherry picked from commit bcbded5653d5703b53ed4bc961a8a66d724d3e32)


2016-05-06  ionutrazvanionita  <ionutionita at opensips dot org>
	* [d09775b] :

	[sipcapture] fix new hep proto names string
	(cherry picked from commit 3c15d2d89ec1ab8ad01a2e29a844eb3084128abf)


2016-05-06  ionutrazvanionita  <ionutionita at opensips dot org>
	* [c939605] :

	[sipcapture][bugfix] fix bad string hex value parsing
	(cherry picked from commit 5d6b927d41988e3170ab37889fb26c8026dce29d)


2016-05-05  ionutrazvanionita  <ionutionita at opensips dot org>
	* [454a557] :

	[siptrace][bugfix] fix trace_id parsing
	(cherry picked from commit 2878741afc71620c5910f689c07db38b5003a48c)


2016-05-05  ionutrazvanionita  <ionutionita at opensips dot org>
	* [ed3f224] :

	[sipcapture][bugfix] invalid static vector size calculation
	(cherry picked from commit b8a82b159d220389513808c8fb8f651fc1498cda)


2016-05-05  Liviu Chircu  <liviu at opensips dot org>
	* [5589ffe] :

	dialog: Remove a chunk of dead code
	(cherry picked from commit fd330577d66de599430694334e8605ae8b46b9d9)


2016-05-05  ionutrazvanionita  <ionutionita at opensips dot org>
	* [55f45c4] :

	[sipcapture][bugfix] invalid memory access
	(cherry picked from commit 8056a984ce914d6585aef6054d727d82f72da3c6)


2016-05-04  renicok  <renico.koen at gmail dot com>
	* [f12cf9b] :

	Updated opensipsctl.base to also search /sbin
	The md5 utility is located at /sbin/md5 on FreeBSD 8.3. An additional common location was added to allow the script to accommodate this.
	(cherry picked from commit ca87f55ad071257aa3b891347aadb55a7729d25b)


2016-05-04  ionutrazvanionita  <ionutionita at opensips dot org>
	* [ef5f3b5] :

	[sipcapture] fix bad conditions
	(cherry picked from commit 4caa2ac37177f2ad59c8f2de23fcc3b12c11fe69)


2016-05-04  ionutrazvanionita  <ionutionita at opensips dot org>
	* [c24abca] :

	[sipcapture] be able to set proto_type in report capture function
	(cherry picked from commit e3466c4adecf11fa6d7da206359847c3a1c4b0f9)


2016-05-04  Razvan Crainea  <razvan at opensips dot org>
	* [2d4d2ff] :

	ratelimit: initialize the length of the algorithm
	(cherry picked from commit 0eebf1058574c622ba3532fb520908da1c1d94a5)


2016-05-04  Razvan Crainea  <razvan at opensips dot org>
	* [ebaad38] :

	Makefile.conf: add deps for tls_mgm and proto_wss
	This prevents 'make menuconf' from deleting these modules from the generated
	configuration file
	(cherry picked from commit 616b2ba189771a499c76d645627869270555511d)


2016-05-03  Răzvan Crainea  <razvan at opensips dot org>
	* [83a23be] :

	debian: add missing dependency
	Ovewrite lintian warning


2016-05-03  Razvan Crainea  <razvan at opensips dot org>
	* [1e99bb0] :

	dialog and usrloc: broadcast replication data all time
	This prevents clusterer module from marking a node as not reachable when there
	is no traffic at all.

	Fixes #849
	(cherry picked from commit 7f7f8711ccfd0aabb71b124fbb7f4c3e8afd6e37)


2016-05-03  Razvan Crainea  <razvan at opensips dot org>
	* [d02ae4f] :

	regex: fix spell-check in package
	(cherry picked from commit 647ea214f1892f8901f562bc45e0e1e33b699aba)


2016-05-03  ionutrazvanionita  <ionutionita at opensips dot org>
	* [30d8048] :

	[acc][bugfix] fix memory leak
	* fix leak caused by missed calls - receiving a negative reply
	caused flags not being freed


2016-05-03  Razvan Crainea  <razvan at opensips dot org>
	* [a1af71c] :

	proto_bin: remove debug INFO message
	(cherry picked from commit d388e804a320aa0f267e47cbcbaf473d519fab31)


2016-05-03  ionutrazvanionita  <ionutionita at opensips dot org>
	* [4389c26] :

	[siptrace] fix bad cherry-pick conflict solving


2016-05-03  ionutrazvanionita  <ionutionita at opensips dot org>
	* [090525c] :

	[sipcapture] updated docs for HEPVERSION


2016-05-03  ionutrazvanionita  <ionutionita at opensips dot org>
	* [e547ec6] :

	[fix functional bug][sipcapture] new HEPVERSION script variable
	(cherry picked from commit 136fcb65edd4ca00cb15f088de3e58f960385518)


2016-05-03  ionutrazvanionita  <ionutionita at opensips dot org>
	* [a9a9d7f] :

	[proto_hep] correctly name function
	(cherry picked from commit 853b0bbb759d3c58f00b0749e90e4016dd500891)


2016-05-03  ionutrazvanionita  <ionutionita at opensips dot org>
	* [608881b] :

	[hep] updated docs for previous commit
	(cherry picked from commit f9c6cdd2acf93062c252f9fc64faa6327e696718)


2016-05-03  ionutrazvanionita  <ionutionita at opensips dot org>
	* [b2ff3cc] :

	[fix functional bug][hep] multiple versions/protocols can be used in the same time
	Since commit 0873c14d1b81887823242a955217dcc854eb97c9 multiple
	network protocols can be used from one module. Proto_hep was changed
	to be able to use both tcp and udp in the same time. Moreover, there
	is no hep_version needed since we can receive HEPv1,v2 and v3 on any
	UDP interface. Since HEPv1 and v2 are not compatible with TCP, only
	HEPv3 will be support. For HEPv3, Sipcapture module can now relay
	packets from TCP to UDP or the reverse way.
	Siptrace module was also improved. Trace id's can now be defined with
	hep version and transport protocol, in order to be able to do multiple
	types of tracing with different HEP protocols and/or network transports.
	(cherry picked from commit 45a3aef8e151a03966a7739c2f880a3fdb0d6811)

	Conflicts:
		modules/siptrace/siptrace.c


2016-05-03  Razvan Crainea  <razvan at opensips dot org>
	* [5e8f0ac] :

	[fix functional bug]allow a module to register multiple protocols
	(cherry picked from commit 0873c14d1b81887823242a955217dcc854eb97c9)


2016-04-29  ionutrazvanionita  <ionutionita at opensips dot org>
	* [e82a5b3] :

	[drouting] bug fix and memory leak fix
	* free gateways list for each carrier at reload
	* use map_find instead of map_get to search an element in the tree
	(cherry picked from commit f9f3b83ef621850c2c128b12b9bf6ab2e78e5ee1)


2016-04-28  ionutrazvanionita  <ionutionita at opensips dot org>
	* [19421eb] :

	[siptrace][bugfix] use the correct sockaddr structure for storing
	(cherry picked from commit 556f394212bb07c6f7641f3b1df954d52ff730a5)


2016-04-28  ionutrazvanionita  <ionutionita at opensips dot org>
	* [ba0fcc2] :

	[proto_hep][bugfix] use the correct port when unpacking
	(cherry picked from commit 3dda4131b458bc6f3145196f7661671571dc948e)


2016-04-28  ionutrazvanionita  <ionutionita at opensips dot org>
	* [c2e8c17] :

	Revert "[hep][bugfix] correctly store ports/addresses"
	This reverts commit 7b1359adfcd55f12fd3739c04e30e1c12b91a71b.
	(cherry picked from commit ab2292945b19f00faa063c457a0efce384b8f245)


2016-04-28  ionutrazvanionita  <ionutionita at opensips dot org>
	* [4cce28a] :

	[hep][bugfix] correctly store ports/addresses
	(cherry picked from commit 51e6f102daac7d0de9a7ca4efea74d5c559746fe)


2016-04-28  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [70a3018] :

	Enable debug_mode settings only if debug_mode gets set to enable.
	(cherry picked from commit e7c14bc0c85c888040aec7f0949b085c5cee38e7)


2016-04-27  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [5c8869b] :

	Avoid space in MI node name


2016-04-27  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [555c0e7] :

	Fixed wrong MI tree in clusterer_list (related to previous commit)
	(cherry picked from commit fa4e7f0fa10c6e987b1b69bc5302f0d12a3f8714)


2016-04-27  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [aa856a7] :

	Fixed arrays in clusterer_list MI command
	(cherry picked from commit 31943a4e2c4ae84babc181f4e5a31e33f2d6b63a)


2016-04-26  ionutrazvanionita  <ionutionita at opensips dot org>
	* [0e81a70] :

	[tls_mgm] properly handle SSL_ERROR_SYSCALL on SSL_shutdown
	(cherry picked from commit bdcee39ebf04f8a74b926dc6e6c311487d3ef601)


2016-04-26  ionutrazvanionita  <ionutionita at opensips dot org>
	* [dbdc46c] :

	[siptrace][bugfix] avoid double free on cancelled transaction
	(cherry picked from commit 3c6b6930d615adb978dd2779b6cd4054c3bc49df)


2016-04-25  ionutrazvanionita  <ionutionita at opensips dot org>
	* [a9b0011] :

	[sipcapture] fix incompatibilities with HOMERv5 db schema
	(cherry picked from commit f75687847a142f18b44c49a0b274457d7039f165)


2016-04-25  ionutrazvanionita  <ionutionita at opensips dot org>
	* [85b126a] :

	[sipcapture] remove time-consuming unnecessary chunk of code
	(cherry picked from commit cc7a2ea114444b82645e484a1cf728c4464c17dd)


2016-04-25  ionutrazvanionita  <ionutionita at opensips dot org>
	* [d49afa6] :

	[proto_hep][bugfix] fix bad sip payload size calculation
	(cherry picked from commit eec5045d44ec1fc29aba9a6d5d024e38ace10ae1)


2016-04-25  ionutrazvanionita  <ionutionita at opensips dot org>
	* [e6258da] :

	[acc][bugfix] correctly store do_accounting() flags
		Flags are now moved from processing context into
	transaction context when the transaction is created, this way
	having visibility for the whole transaction.
	(cherry picked from commit 41bcd2559b29a23e96636c6c2dfc5628f69ae5b7)


2016-04-25  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [507db77] :

	Fixed MI nodes in 'sip_trace' command.
	Formatting chars must not be included in the MI tree
	(cherry picked from commit 7811e2d6b6013fe21c744531299f490671462a05)


2016-04-24  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [0a1fc05] :

	Fixed default FIFO file name
	(cherry picked from commit ffdbb970bfa60dcd1ed7d88fc94c4a07f9356ad9)


2016-04-24  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [b7ac4fc] :

	exclude proto_wss, use QM_MALLOC


2016-04-24  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [7aef53c] :

	tls_list() may be called even without DB support
	Avoid locking if DB support was not enabled.
	(cherry picked from commit e6944bb064750611585d0fa516551b944aa44cdc)


2016-04-22  ionutrazvanionita  <ionutionita at opensips dot org>
	* [eee4fae] :

	[proto_hep][bugfix] check memory allocation
	(cherry picked from commit f5ad753d56a95d68bc937e0721895d6ee4aefd43)


2016-04-21  ionutrazvanionita  <ionutionita at opensips dot org>
	* [21ca280] :

	[siptrace][bugfix] sequential requests - set context for sl callbacks
	(cherry picked from commit 943d9015f8f1e3467acafee67693f157beab9755)


2016-04-21  ionutrazvanionita  <ionutionita at opensips dot org>
	* [6ce202a] :

	[context][bugfix] each context has its own destroy functions vector
	Credits to Razvan Crainea
	(cherry picked from commit 53263b2a65dc771cb660078f4b20171a48f04248)


2016-04-21  ionutrazvanionita  <ionutionita at opensips dot org>
	* [576a730] :

	[tm]fix context functions header
	(cherry picked from commit 59e5a4165f88c2a4a4dbb5e159786c441f6fa502)


2016-04-20  Liviu Chircu  <liviu at opensips dot org>
	* [4cd99ec] :

	MI library: Add comments regarding a known issue
	Currently, MI arrays cannot contain objects with non-identical
	"name" attributes.

	This patch also quickfixes this issue in mi_list_all_profiles() by dropping
	the array idea altogether, in favour of a top-most object.
	(cherry picked from commit 6c105015c3a0a02c6f65822f5ce52e12bd0ae108)


2016-04-20  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [134ad0d] :

	Fixed bogus pkg_free on pointer in data segment
	Reported by @dzhou121
	Closes #854
	(cherry picked from commit b9aa87360eecf1e77baea661b855eec4f5798f2f)


2016-04-20  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [afc4c40] :

	Fix typo in do_accounting() naming is cfg templates
	(cherry picked from commit 7f8656e026435bf4ac6eff19b964b81d7a37d28e)


2016-04-18  ionutrazvanionita  <ionutionita at opensips dot org>
	* [b65c6c2] :

	[sipcapture][HOMERv5 incompatibility fix] updated docs for report_capture and new table name format
	(cherry picked from commit 5d725a42d0262807dd9a2c555640a980e50381ce)


2016-04-18  ionutrazvanionita  <ionutionita at opensips dot org>
	* [acd0a9c] :

	[sipcapture][HOMERv5 incompatibility fix]generic capturing function
	      Added new function called report_capture which allows
	capturing hep packets in a generic format. It will be very
	effective for the third version of the hep protocol for capturing
	packets other than SIP. Also added a new table called rtcp_capture
	for storing everything capture with report capture.
	(cherry picked from commit c5700cce4a37e484869941502e495733b8138b98)


2016-04-18  ionutrazvanionita  <ionutionita at opensips dot org>
	* [3053c7e] :

	 [sipcapture][HOMERv5 incompatibility fix] HOMERv5 table rotation aware logic
	    * HOMVERv5 allows rotating tables by having a prefix which is
	    the fixed table name and a suffix which is a string containig
	    timestamps
	    * sip_capture now accepts table name as a parameter to sip_capture()
	    function
	    * both global table name and sip_capture table_name can have
	    a prefix(string) and a suffix(strftime format string);
	    * fixed bugs in async query building
	(cherry picked from commit 074463f17f2e57fb15c120f306ce895438ad1865)


2016-04-14  ionutrazvanionita  <ionutionita at opensips dot org>
	* [e894f7a] :

	[acc][bugfix] register tm free function only once
	(cherry picked from commit 92d20416568c23f58f378fd14b272d2b16d7518e)


2016-04-14  Liviu Chircu  <liviu at opensips dot org>
	* [19dca29] :

	Fix a PKG leak in the SIP message processing stack
	Commit 7464a86ec introduced a processing context leak during the
	handling of basically any SIP request in all protocol stacks
	except for HEP.

	Reported by Trevor Francis <trevor@46labs.com>
	(cherry picked from commit 731719a2b10283439e2f6a0ba15bb8c6c6ef189c)


2016-04-14  ionutrazvanionita  <ionutionita at opensips dot org>
	* [c5c4df0] :

	[acc] fix double free issue
	Since callbacks were registered only at first, and aftewards only
	flags were changed there was no way to know if tm is to free the
	shmed flags from acc or dialog. For this a new flag was introduced
	to indicate whether the flags shall be removed either by dialog or
	tm.
	(cherry picked from commit 6852bd427376cea0cc53cbc5f87476f3377cbd04)


2016-04-12  Liviu Chircu  <liviu at opensips dot org>
	* [9888984] :

	Suppress "no free TCP receiver" logging noise
	This was added long before async TCP support, and it is now
	only useful to developers.
	(cherry picked from commit 142e7e0121040aceb2f9c31c4d4a0e8d8b573cc6)


2016-04-11  Ovidiu Sas  <osas at voipembedded dot com>
	* [7d371ab] :

	pi_http: return "200 OK" instead of "0 Unknown"
	(cherry picked from commit 73f8117f2f5f01560b6698ad845cce0b485df203)


2016-04-07  Kristian Høgh  <kfh at uni-tel dot dk>
	* [423f277] :

	cachedb_redis: Prevent crash when re-connect keeps failing
	(cherry picked from commit b501df74a231a987babe6eeadb3c676d8823619c)


2016-04-05  rvlad-patrascu  <rvlad.patrascu at gmail dot com>
	* [032bb69] :

	Fix missing GPL headers for mem files
	(cherry picked from commit 8ffd592e316a4436e2144dfc08f1b20571e6622e)


2016-04-05  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [be22446] :

	Fix typo in README example
	(cherry picked from commit 983ad955e21f57878fcefd61f8a734e89de5eab9)


2016-04-05  ionutrazvanionita  <ionutionita at opensips dot org>
	* [836d3b5] :

	[drouting] docs updated for partition id variable
	(cherry picked from commit 2013276a1b1e4a29766f22b5f483eb4ace6a7235)


2016-04-05  ionutrazvanionita  <ionutionita at opensips dot org>
	* [5689d43] :

	[drouting] check if partition pvar is writable
	(cherry picked from commit cf0945c16eff03efd5ec2b120d283ebc7f4b8616)


2016-04-05  ionutrazvanionita  <ionutionita at opensips dot org>
	* [7745b11] :

	[drouting] pvar for matched partition if wildcard operator used
	fix missing functionality - return to script the matching partition
	(cherry picked from commit 7551c668972e63970c9a65f7dc5bbd1959100d79)


2016-04-05  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [4be2662] :

	Fixed checking return code for pre raw callbacks
	If the TH pre raw callbacks fails, it may return a NULL buffer, leading to a later crash when we want to parse the SIP message.


2016-04-04  Jarrod Baumann  <j at rrod dot org>
	* [cf1e11d] :

	[dialog] repl_prof_add never increments the return buffer size for threshold comparison
	(cherry picked from commit 52028bdd2c729904c7e337d7aa0b99cce4195f0c)


2016-04-01  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [bcf7d40] :

	Fix missing logs if debug_mode after log_stderror
	(cherry picked from commit 29182c9baa98a8e156a1c0dd4ceb4992005c7950)


2016-03-31  Liviu Chircu  <liviu at opensips dot org>
	* [2c84108] :

	Various doc improvements
	(cherry picked from commit d9326522ae9c3dc39b8163d07495dc013217ab80)

	Conflicts:
		scripts/opensipsdbctl
		scripts/opensipsdbctl.base


2016-03-31  Liviu Chircu  <liviu at opensips dot org>
	* [7ac6bfc] :

	Update opensipsdbctl for 2.2


2016-03-31  Razvan Crainea  <razvan at opensips dot org>
	* [11877a6] :

	Update ChangeLog


2016-03-31  Liviu Chircu  <liviu at opensips dot org>
	* [c4b48fb] :

	Improve the AUTHORS file
	(cherry picked from commit 32d0e1a4fa500e7693828b3f98392d0502b8b0da)

2016-03-31  Liviu Chircu  <liviu at opensips dot org>
	* [c4b48fb] :

	Improve the AUTHORS file
	(cherry picked from commit 32d0e1a4fa500e7693828b3f98392d0502b8b0da)


2016-03-31  Razvan Crainea  <razvan at opensips dot org>
	* [133c17b] :

	Update version to beta


2016-03-31  Razvan Crainea  <razvan at opensips dot org>
	* [a91fce6] :

	For beta release, enable malloc debugging


2016-03-31  Razvan Crainea  <razvan at opensips dot org>
	* [092fb36] :

	Makefile: always put the minor in name
	Even if it is redundant


2016-03-31  Razvan Crainea  <razvan at opensips dot org>
	* [cf676f2] :

	Update CREDITS and AUTHORS


2016-03-31  Răzvan Crainea  <razvan at opensips dot org>
	* [5a8dc76] :

	Merge pull request #831 from james-criscuolo/master
	presence module: move strlen check to avoid pkg_malloc(0)


2016-03-31  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [6018192] :

	Fix extended Call-ID in B2B
	The old CallID format did not ensure unicity across time, so we include now time info into the callid.
	Closes  #783 .


2016-03-31  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [6459085] :

	README files regenerated


2016-03-31  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [0500b6e] :

	Fix bogus log
	(cherry picked from commit 87c93b8c91815107eacb7069653689d6e0f38d19)


2016-03-31  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [d1e9743] :

	Revert commit d6cbbff
	Do not automatically set db_url to the db_default_url as we have no idea if the default partition is gone be used. By forcing it we create some extra unwanted dependencies (like setting the version for the defaul table, even if not used).
	Even if we break the backward compatibility, makes more sens to explicitly set the db_url if you use the default partition


2016-03-31  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [086305e] :

	Revert commit 1e1ea14
	Do not automatically set db_url to the db_default_url as we have no idea if the default partition is gone be used. By forcing it we create some extra unwanted dependencies (like setting the version for the defaul table, even if not used).
	Even if we break the backward compatibility, makes more sens to explicitly set the db_url if you use the default partition


2016-03-31  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [107a04c] :

	Fixed ilegal chars in XML


2016-03-31  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [eca4434] :

	Migrate cfg scripts to new acc interface.


2016-03-30  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [d5e2e28] :

	MYSQL DB migration updated.
	SIP TRACE table changed, CALL CENTER tables added.


2016-03-30  Razvan Crainea  <razvan at opensips dot org>
	* [39cc2df] :

	Update ws & tls modules documentation


2016-03-30  Razvan Crainea  <razvan at opensips dot org>
	* [3ca7813] :

	python: fix documentation links


2016-03-30  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [05930d1] :

	Fixed bogus free of soring algorithms in DR.


2016-03-30  Liviu Chircu  <liviu at opensips dot org>
	* [8d04721] :

	TLS: Fix misleading error logs on accept() failures
	OpenSIPS would always log SSL_accept() failures as being "rejected by
	client". This is entirely not the case, as the errors may as very well be
	server-side, due to cipher mismatches, failed peer verifications, etc.

	Reported by Nabeel Shikder on the "users" mailing list


2016-03-29  Razvan Crainea  <razvan at opensips dot org>
	* [12df046] :

	clusterer: update html README layout


2016-03-29  Razvan Crainea  <razvan at opensips dot org>
	* [984ddb2] :

	clusterer: update README with a usage example


2016-03-29  ionutrazvanionita  <ionutionita at opensips dot org>
	* [cf62502] :

	[sipcapture] update docs for new function


2016-03-29  ionutrazvanionita  <ionutionita at opensips dot org>
	* [7d30be0] :

	[sipcapture hep] function to continue with the script after the hep route


2016-03-29  Liviu Chircu  <liviu at opensips dot org>
	* [2380bbd] :

	drouting api: Fix a double free bug
	Crashes / memory corruptions could ensue after running "fraud_reload" MI
	commands or during OpenSIPS shutdown, if fraud_detection had some data
	to work with.


2016-03-28  Liviu Chircu  <liviu at opensips dot org>
	* [2e061b9] :

	Merge pull request #842 from rrb3942/relaxed_s_int2
	Make the s.int transformation more permissive


2016-03-28  Ryan Bullock  <rrb3942 at gmail dot com>
	* [6e71969] :

	Preserve sign on partially converted strings


2016-03-28  Ryan Bullock  <rrb3942 at gmail dot com>
	* [9b37e74] :

	Make the s.int transformation more permissive


2016-03-28  ionutrazvanionita  <ionutionita at opensips dot org>
	* [cbf3a85] :

	[acc] fix bugs in acc
	* init all accounting methods data in mod_init as it was before;
	cdr accounting initial data is loaded even if users don't use
	CDRs but this shouldn't affect anything
	* fix aaa bug - api was not loaded because it was badly included
	in diameter define section
	* fix event interface extra parameters - parsing extra parameters
	for event interface was wrongly removed


2016-03-28  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [ef6ba0e] :

	Fixed function name in export.


2016-03-28  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [4db733a] :

	Fix function name in docs


2016-03-25  ionutrazvanionita  <ionutionita at opensips dot org>
	* [eed88e2] :

	[acc]fix event registration issue


2016-03-25  Liviu Chircu  <liviu at opensips dot org>
	* [d148ca2] :

	sql_cacher: Add module dependencies
	It should be loaded somewhere after all SQL and NoSQL drivers


2016-03-25  Bogdan Andrei IANCU  <bogdan at opensips dot org>
	* [b65bbe2] :

	Merge pull request #837 from ionutrazvanionita/hep-route
	[sipcapture] special route for hep messages


2016-03-25  Bogdan Andrei IANCU  <bogdan at opensips dot org>
	* [ad361f5] :

	Merge pull request #841 from ionutrazvanionita/acc-do-acc
	drop_accounting function for acc


2016-03-25  ionutrazvanionita  <ionutionita at opensips dot org>
	* [fe5e818] :

	[acc]fix docs for drop_accounting()


2016-03-25  ionutrazvanionita  <ionutionita at opensips dot org>
	* [4802253] :

	[acc]change cancel_accounting() name to drop_accounting()


2016-03-25  ionutrazvanionita  <ionutionita at opensips dot org>
	* [b452f8a] :

	[acc]updated docs for cancel_accounting()


2016-03-25  ionutrazvanionita  <ionutionita at opensips dot org>
	* [0548384] :

	[acc]cancel_accounting function for acc
	This function allows unsetting parameters set by do accounting
	function. It has the same parameters excepting the table name.


2016-03-25  Liviu Chircu  <liviu at opensips dot org>
	* [29aa72f] :

	clusterer: Various coding style improvements
	    * clean loops
	    * shorter boolean test operators
	    * avoid redundant global initializations
	    * improve variable naming
	    * fix bad log messages


2016-03-25  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [aaaeea8] :

	Updated the ACC documentation


2016-03-25  Bogdan Andrei IANCU  <bogdan at opensips dot org>
	* [6992f2d] :

	Merge pull request #840 from ionutrazvanionita/acc-do-acc
	[acc]flags used for accounting now replaced by do_accounting()


2016-03-25  ionutrazvanionita  <ionutionita at opensips dot org>
	* [31ef12b] :

	[sipcapture]fix dummy request building


2016-03-24  Liviu Chircu  <liviu at opensips dot org>
	* [c2a0767] :

	F_MALLOC: Allow free(NULL) when debugging memory


2016-03-24  Liviu Chircu  <liviu at opensips dot org>
	* [2787308] :

	Improve robustness of core URI copying functions
	Namely set_ruri(), set_dst_uri(), set_path_vector().

	This patch corrects the behaviour of the above functions when they are
	fed strange/corrupt strings, such as {NULL, 5} or {0x7fb..., 0}.

	There are still plenty of pieces of OpenSIPS code which assume such
	strings should be correctly processed, e.g. next_branches(), which may
	lead to a whole world of problems ranging from segfaults, double free
	operations and dangling pointers all the way up to intermixed shm/pkg
	memory pointers.

	The best way of addressing this issue is to simply accept such input and
	zeroize (and free) the concerned sip_msg attributes.

	Many thanks to Ovidiu Sas <osas@voipembedded.com> for in-depth error
	reporting and assistance in fixing this issue


2016-03-24  Liviu Chircu  <liviu at opensips dot org>
	* [ad27b4b] :

	Improve logging when using "memlog"
	    * blocks are more readable now (pkg vs. shm)
	    * malloc vs. free vs. realloc operations are more distiguishable


2016-03-24  ionutrazvanionita  <ionutionita at opensips dot org>
	* [5700163] :

	[sipcapture] Allow module starting without db url if db not used


2016-03-24  ionutrazvanionita  <ionutionita at opensips dot org>
	* [43f6d74] :

	[sipcapture] updated docs for hep_route parameter


2016-03-24  ionutrazvanionita  <ionutionita at opensips dot org>
	* [02e2634] :

	[sipcapture] special route for hep messages
	hep_store_no_script parameter now changed into hep_route. Using
	this parameter one can either do sip_capture() without going
	through the script or define a route where messages can be
	forwarded using hep_relay() function and modified if hep version
	3 is used, withot parsing the sip message, or go through the
	main request route as usual where the message will be parsed.
	For the second version, the hep route, sip_capture() won't be
	available since the message it's not parsed. This functionality
	stands only for routing/modifying the message.


2016-03-24  ionutrazvanionita  <ionutionita at opensips dot org>
	* [9a9f092] :

	[acc] updated docs for do_accounting()


2016-03-24  ionutrazvanionita  <ionutionita at opensips dot org>
	* [da17513] :

	[acc]flags used for accounting now replaced by do_accounting()
	Introducing new do_accounting() function. It has 3 arguments,
	first one is used to specify the type of accounting separated
	by '|'(db, log, aaa, evi, diam), second one to specify the flags
	used for accounting also separated by '|' (cdr, missed, failed -
	failed_transaction_flag) and the third parameter represents the
	name of the table used for accounting.


2016-03-24  Ovidiu Sas  <osas at voipembedded dot com>
	* [195a7e6] :

	Makefile.defs: disable optimizations while debugging (DBG_MALLOC is set)


2016-03-24  Ovidiu Sas  <osas at voipembedded dot com>
	* [5722f36] :

	Makefile.defs: new CC_OPTIMIZE_FLAG to define the compiler optimization level


2016-03-23  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [2503bc4] :

	Proper handling of isolated EPOLLHUP events.
	capture and handle EPOLLHUP or EPOLLERR events even if they are not in conjunction with EPOLLIN or EPOLLOUT.
	Many thanks to @santhosh-kumar for reporting and helping with troubleshooting.

	Fix for #829


2016-03-23  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [ea1eb62] :

	Preserve 3xx contacts via TH
	Do not change the contacts in 3xx replies to initial INVITE, as this breaks SIP redirect.
	Reported by @petekelly
	Issue #656


2016-03-23  ionutrazvanionita  <ionutionita at opensips dot org>
	* [b7bd2d7] :

	[siptrace]docfix - default trace_on param value


2016-03-23  ionutrazvanionita  <ionutionita at opensips dot org>
	* [06cec36] :

	[nathelper] fix bad condintion for branch checking


2016-03-22  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [43ff3fe] :

	Fixed some overlapping defines


2016-03-22  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [ec7b4e5] :

	Fixed 491 Pending scenario in B2B.
	Generate 491 Pending reply to the correct transaction (the new incoming one) and drop the requests (do not forward it).
	Credits for debugging, reporting and fixing go to @DMOsipov .
	Closes #679


2016-03-22  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [d8a302b] :

	Extend DR api to allow external sorting functions.
	Another module may register functions for sorting the GW list based on custom algorithms.
	This commit contains just the API, nothing more.


2016-03-21  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [3a136fe] :

	Prevent async in local route.
	The way local route is implemented (triggered and terminated in TM module) does not allow async resumes, so, for the moment, we simply force all the async triggers to be executed in a sync way in local route.
	(cherry picked from commit 940996fbbd9e7a131b4de4c1983df2788528250e)


2016-03-21  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [d20b3d0] :

	Accept XMLRPC requests without params node.
	If there are no parameters, the params XML node is not required.
	Repored by Nick Altmann
	Closes #826


2016-03-20  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [66d5cff] :

	Fixed port param for lb_is_destination().
	It must accept integer values also, not only variables.
	Reported by @telephone-man on GITHUB
	Closes #808.
	(cherry picked from commit 143328f718e8c1e753e16d187415eb0ba80b7ef7)


2016-03-19  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [d837ed8] :

	Fixed usage of Prep Statement on failed CDRs.
	The number of inserted columns is variable (n+m or n+m+2), so we need different statements for each.
	Reported by @apsaras (on GITHUB)
	Closes #821
	(cherry picked from commit e49e2e848bbd7243a31d7ca99d4bdc9360466cf9)


2016-03-18  Bogdan Andrei IANCU  <bogdan at opensips dot org>
	* [d2b5c52] :

	Merge pull request #832 from ionutrazvanionita/dr-wildcard
	Wildcard operator for partitions in some drouting functions


2016-03-18  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [992b49b] :

	Fix extracting TO hdr.
	Do not add '@' if username is not present.
	Reported by @DMOsipov on GITHUB.
	Closes #818
	(cherry picked from commit e74f6655ee735feb7e5f22298405172fb74e86c1)


2016-03-18  ionutrazvanionita  <ionutionita at opensips dot org>
	* [66399b7] :

	[drouting]updated docs


2016-03-18  ionutrazvanionita  <ionutionita at opensips dot org>
	* [af25ef8] :

	[drouting]wildcard operator for is_from_gw partitions


2016-03-18  ionutrazvanionita  <ionutionita at opensips dot org>
	* [57d7bfb] :

	[drouting]wildcard operator for do_routing


2016-03-18  James Criscuolo  <james at onsip dot com>
	* [ae7a8ee] :

	presence module: move strlen check to avoid pkg_malloc(0)


2016-03-17  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [6c12ba9] :

	Reset to 0 the whole branch if failed.
	If we do not reset, on trying to add the next branch (on the same position), we will end up with dangling pointers.
	(cherry picked from commit d5c3bd1eed5f40f7425562f8bb65fe2f5c9fc678)


2016-03-17  Ovidiu Sas  <osas at voipembedded dot com>
	* [04d8a84] :

	scripts/opensipsctl: complete support for optional database port


2016-03-16  Razvan Crainea  <razvan at opensips dot org>
	* [2600e00] :

	topology_hiding: prefent crash at shutdown


2016-03-16  Vlad Paiu  <vladpaiu at opensips dot org>
	* [2a61e97] :

	Fixed $TH_callee_callid to reflect '=' being an invalid character in callids Closes #800
	(cherry picked from commit dc229a1ac6312cba9db75e49bc09b931a549375f)


2016-03-15  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [2d0cebc] :

	Fix crash when using $si in non SIP routes.
	If using $si in event, timer or startup routes, return a NULL value.
	Use a dummy AF_INET from src and dst IPs.
	Prevent crashing while evaluating $si by checking return code of ip_addr2a()
	Closes #817
	Outdates #828


2016-03-15  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [7511e84] :

	Fixed async jump for end2end ACKs.
	As end2end ACKs do not create a sip transaction, force sync for all async operations (as we cannot suspend and resume).
	Closes #819
	(cherry picked from commit b2bc43e76494e07d6cb1ce1bec2fc27e72fa0a47)


2016-03-14  Răzvan Crainea  <razvan at opensips dot org>
	* [4a692e7] :

	Merge pull request #827 from jarrodb/rabbitmq
	event_rabbitmq order of _rmq_send attributes


2016-03-14  ionutrazvanionita  <ionutionita at opensips dot org>
	* [63d8542] :

	[drouting] improve loading/reloading speed
	Drouting gateways and carriers are now being held internally as
	an avl map(implemented in core) instead of a linked list. This
	brings dramatic improvement to the time in which the module is
	loaded.


2016-03-14  Jarrod Baumann  <jarrod at unixc dot org>
	* [b8779e5] :

	event_rabbitmq order of _rmq_send attributes


2016-03-11  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [4601e56] :

	Fixed memory leak on checking disposition hdr.
	Free the parsed disposition body all the time (on success and failure) as it is not attached to any structure, so it will leak if not explicitly be freed.
	Credits for reporting this go to Jarrod Baumann.
	Based on an original fix from Jarrod Baumann
	Closes PR #825


2016-03-09  Ovidiu Sas  <osas at voipembedded dot com>
	* [764968f] :

	modules/usrloc: since domain field can be null, make null to be default


2016-03-09  Bogdan Andrei IANCU  <bogdan at opensips dot org>
	* [e6bb7ac] :

	Merge pull request #823 from jarrodb/db_postgres
	Add JSONOID to pg_type.h for supporting JSON return types as DB_STRING


2016-03-08  Jarrod Baumann  <j at rrod dot org>
	* [8ef3f38] :

	Add JSONOID to pg_type.h for supporting JSON return types


2016-03-08  ionutrazvanionita  <ionutionita at opensips dot org>
	* [b68c9b9] :

	[nathelper]updated fix_nated_contact() documentation
	Document that changes related to the contact made by
	fix_nated_contact() are lost in the resume route called after an
	async function is used.


2016-03-08  Liviu Chircu  <liviu at opensips dot org>
	* [e403a2b] :

	dialog: Lower log level of state change errors
	Out-of-order SIP requests are a frequent occurence in high-traffic
	environments. The dialog module should not consider these events as
	being critical, but rather as warnings, so they can be easily
	filtered out from the logs.


2016-03-08  ionutrazvanionita  <ionutionita at opensips dot org>
	* [fceff26] :

	[sipcapture]updated docs for hep_relay()


2016-03-08  ionutrazvanionita  <ionutionita at opensips dot org>
	* [4ec54e8] :

	[sipcapture]new hep_relay() function
	This function allows turning OpenSIPS into a full HEP
	compatible proxy. Now you can add/change/remove hep headers and
	after all this you can forward your message anywhere you want.
	The routing is done same as in the tm module such that one can
	use multiple HEP destinations and balance between them.


2016-03-08  ionutrazvanionita  <ionutionita at opensips dot org>
	* [e8679a0] :

	[proto_hep]fix buffer bug in hepv1/2


2016-03-08  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [370270c] :

	removed files uploaded by mistake


2016-03-08  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [d2307e5] :

	Update all script with log_level and debug_mode


2016-03-08  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [3b37b82] :

	Fixed leak due wrong return code handling.
	Based on a patch provided by Jarrod Baumann (@jarrodb)
	Closes #822


2016-03-08  Bogdan Andrei IANCU  <bogdan at opensips dot org>
	* [f906d93] :

	Merge pull request #814 from sippy/master_rtpp_ip6_fix
	Fix an issue with IPv6 in the rtpproxy module


2016-03-08  Bogdan Andrei IANCU  <bogdan at opensips dot org>
	* [3f4dc80] :

	Merge pull request #770 from ionutrazvanionita/sipcapture
	[sipcapture] full support for hep in sipcapture/proto_hep


2016-03-07  Liviu Chircu  <liviu at opensips dot org>
	* [c234282] :

	Completely remove script flags
	Namely, setsflag(), resetsflag(), issflagset()

	With the advent of async operations, the delimitation between current
	SIP message context and script context is even more blurry.

	Fixing the script flags to work with async would involve storing them
	into message context. But that would also make them persistent through
	failure route. In turn, this breaks the concept of scripts flags, since
	they should only live through a single script execution (entry->exit).

	To sum up, we dropped script flags because async silently broke them,
	and fixing them would actually break them even more!


2016-03-05  Ovidiu Sas  <osas at voipembedded dot com>
	* [f4b803f] :

	modules/b2b_logic: fix b2b_logic lable for dbtext  - allow scenario, e1_sid and e2_sid fields to be NULL


2016-03-05  Ovidiu Sas  <osas at voipembedded dot com>
	* [11a805b] :

	modules/b2b_entities: fix crash when restoring b2b entities from dbtext


2016-03-05  Ovidiu Sas  <osas at voipembedded dot com>
	* [7e0175b] :

	modules/usrloc: fix location table for dbtext  - allow domain field to be NULL


2016-03-04  Liviu Chircu  <liviu at opensips dot org>
	* [60d4d4b] :

	tm: Refactor some hardcoded static string lengths
	This also fixes a couple of chopped MI error strings in "t_uac_dlg"


2016-03-04  Razvan Crainea  <razvan at opensips dot org>
	* [a607aa8] :

	tcp: prevent invalid mem access
	Reported by Saúl Ibarra Corretgé


2016-03-03  Liviu Chircu  <liviu at opensips dot org>
	* [6d1704c] :

	Allow setting branch flags when no branches are yet appended
	Commit 5e3f06800e was too restrictive, since flags for "branch 0"
	(a special branch, stored in current struct sip_msg) may be set regardless of
	the number of append_branch() operations done previously!

	Reported by Dragomir Haralambiev


2016-03-03  ionutrazvanionita  <ionutionita at opensips dot org>
	* [3ae1811] :

	[proto_hep]set predefined context memory to 0 before using it


2016-03-03  ionutrazvanionita  <ionutionita at opensips dot org>
	* [419c9dc] :

	[sipcapture]updated docs


2016-03-03  ionutrazvanionita  <ionutionita at opensips dot org>
	* [67c7473] :

	[sipcapture] hep_chunks setter/getter/delete funcs; hep_net variable
	* hep version 3 chunks have now three functions with which they can
	be manipulated: hep_set(add/modify a chunk), hep_get(get vendor id
	and value of a chunk) and hep_del(remove a chunk);
	* hep_net is a pseudovariable which gives layer 3 and 4 information
	about hep communication(where does the packet comes from and on
	which interfaces it was received);
	* sip capture now holds an extra parameter - protocol type which
	gives information about the protocol of the encapsulated packet;


2016-03-03  ionutrazvanionita  <ionutionita at opensips dot org>
	* [1714db5] :

	[proto_hep]custom chunks, predefined context, bug fixes
	* proto_hep can now read custom chunks;
	* use 0x0000 vendor id for generic chunks instead of OpenSIPS
	vendor id;
	* what was being done in sipcapture(modify receive_info structure
	with data from the hep message) is now being done in proto_hep;
	* proto_hep populates a predefined context in which he holds its
	own data, passing this data to receive_msg() function;
	* don't use hardcoded generic chunk values;
	* fixed bug in hep udp(v1/2)


2016-03-03  ionutrazvanionita  <ionutionita at opensips dot org>
	* [7464a86] :

	have a predefined context before calling receive_msg


2016-03-03  ionutrazvanionita  <ionutionita at opensips dot org>
	* [09d6d47] :

	[proto_hep]avoid double byte order conversion for payload chunk


2016-03-03  Ionut Ionita  <ionutionita at opensips dot org>
	* [202b0e1] :

	Merge pull request #809 from ionutrazvanionita/postgres_bigint
	[dbschema]8 byte autoincrement is now fixed to BIGSERIAL PRIMARY KEY


2016-03-02  Răzvan Crainea  <razvan at opensips dot org>
	* [252a758] :

	Merge pull request #815 from sippy/master_freebsd_fix
	Fix build error on FreeBSD


2016-03-01  Maksym Sobolyev  <sobomax at sippysoft dot com>
	* [60342f5] :

	Fix build error on FreeBSD by including proper headers for the struct in_addr.


2016-03-01  Ovidiu Sas  <osas at voipembedded dot com>
	* [9e8654f] :

	modules/presence: print error log only for errors


2016-02-29  Maksym Sobolyev  <sobomax at sippysoft dot com>
	* [ef01e85] :

	Fix an issue with IPv6 which may result in SDP containing mismatching protocols, e.g.
	"c=IN IP4 0:0:0:0:0:0:0:1"


2016-02-29  Razvan Crainea  <razvan at opensips dot org>
	* [6c99004] :

	rename s_addr to avoid overlapping with Solaris structs
	Discovered by Nathaniel L. Keeling


2016-02-29  Julián Moreno Patiño  <julian at debian dot org>
	* [e5f0b55] :

	Deprecate 'use UNIVERSAL'


2016-02-29  Liviu Chircu  <liviu at opensips dot org>
	* [84be3ac] :

	mathops doc: fix typos


2016-02-29  Liviu Chircu  <liviu at opensips dot org>
	* [f3a1d2d] :

	Merge pull request #812 from rrb3942/master
	Switch math_eval to use tinyexpr and remove conversion to RPN


2016-02-27  Ovidiu Sas  <osas at voipembedded dot com>
	* [103e2b7] :

	db/schema: emergency_service_provider - fix copy/paste error generating duplicate fiels name


2016-02-27  Ryan Bullock  <rrb3942 at gmail dot com>
	* [ba5da58] :

	Switch math_eval to use tinyexpr and remove conversion to RPN


2016-02-27  Ovidiu Sas  <osas at voipembedded dot com>
	* [103f5f5] :

	modules/presence: fix active_watchers table for dbtext  - allow reason field to be NULL


2016-02-26  Liviu Chircu  <liviu at opensips dot org>
	* [0962af1] :

	rest_client: Improve logging of TCP connect


2016-02-26  ionutrazvanionita  <ionutionita at opensips dot org>
	* [6e591a6] :

	[epoll]LM_DBG on EPOLLHUP event


2016-02-26  Razvan Crainea  <razvan at opensips dot org>
	* [fe785bf] :

	loop: declare fd_map for devpoll
	Reported by Nathaniel L. Keeling III


2016-02-26  Di-Shi Sun  <di-shi at transnexus dot com>
	* [0e3c707] :

	Merge branch 'master' of https://github.com/OpenSIPS/opensips.git


2016-02-26  Di-Shi Sun  <di-shi at transnexus dot com>
	* [b0145d4] :

	Fixed typos.


2016-02-26  Di-Shi Sun  <di-shi at transnexus dot com>
	* [96b8c70] :

	Updated to support STIR.


2016-02-25  ionutrazvanionita  <ionutionita at opensips dot org>
	* [ef5ae01] :

	[dbschema]8 byte autoincrement is now fixed to BIGSERIAL PRIMARY KEY


2016-02-25  Ionut Ionita  <ionutionita at opensips dot org>
	* [2b8fd2d] :

	Merge pull request #781 from ionutrazvanionita/dlg_profiles
	[dialog] flag for replicating profiles


2016-02-25  ionutrazvanionita  <ionutionita at opensips dot org>
	* [6a4f732] :

	[dialog][dlg profiles patch]fix coding style issues


2016-02-25  Razvan Crainea  <razvan at opensips dot org>
	* [a547af5] :

	other spellchecks


2016-02-25  Julián Moreno Patiño  <julian at debian dot org>
	* [a71f129] :

	update spelling checks
	(cherry picked from commit e6b73956c817629b66eef801a8ffe06d5e2d457f)


2016-02-25  Julián Moreno Patiño  <julian at debian dot org>
	* [a3de5fc] :

	support reproducible builds
	(cherry picked from commit d04e3b7fa96142b6def8430890c6c51fa5e1ef6a)


2016-02-25  Julián Moreno Patiño  <julian at debian dot org>
	* [25a53ef] :

	update changelog and add berkeley deb
	(cherry picked from commit 04b2eba31b6f7806a1f10a492aa393920a1b4d1f)


2016-02-25  Julián Moreno Patiño  <julian at debian dot org>
	* [a336e99] :

	fix parallel building


2016-02-24  Liviu Chircu  <liviu at opensips dot org>
	* [5718e24] :

	destination sets: Add yet another NULL check
	Reported by Ovidiu Sas
	Fixes #806


2016-02-24  Liviu Chircu  <liviu at opensips dot org>
	* [4b1ed7d] :

	Merge pull request #786 from rvlad-patrascu/time_keeper_bug
	Fix the lagging behind of time_keeper process


2016-02-24  Liviu Chircu  <liviu at opensips dot org>
	* [fb8b1f2] :

	SIP forking logic: Add extra NULL checks
	This prevents a crash when no branches are pushed yet, but a branch
	management function is called (e.g. t_replicate() or a write to
	$(branch(uri)[0]) is done)

	Issue reported by Trevor Francis


2016-02-24  Liviu Chircu  <liviu at opensips dot org>
	* [5e3f068] :

	SIP forking logic: Add extra NULL checks
	This prevents a crash when no branches are pushed yet, but a branch
	management function is called (e.g. t_replicate() or a write to
	$(branch(uri)[0]) is done)

	Issue reported by Trevor Francis


2016-02-24  Julián Moreno Patiño  <julian at debian dot org>
	* [2a999c7] :

	Order target dependencies to avoid FTBFS in parallel builds.
	(cherry picked from commit 9fc407d01a1743fa8332d9436004994d3e4dbfb3)


2016-02-24  Liviu Chircu  <liviu at opensips dot org>
	* [f09cd45] :

	blacklists code: Improve coding style
	* add space between:
	  * statement and paranthesis
	  * operands and operators
	* proper use of "NULL" vs. "0"
	* proper way to perform NULL-checking:
	  * for function results
	  * for all pointers


2016-02-24  Liviu Chircu  <liviu at opensips dot org>
	* [2e7588b] :

	Blacklisting logic: Fix async-related issues
	Similar issue to the one behind commit a7b287f5f. Static memory
	holders are no longer compatible with async operations and need
	to be moved into dynamic mem (pkg in our case) so that data can
	be properly restored before resuming the script.


2016-02-23  Răzvan Crainea  <razvan at opensips dot org>
	* [85618dc] :

	Merge pull request #631 from staskobzar/master
	Fixing bug in debian init script.


2016-02-23  Răzvan Crainea  <razvan at opensips dot org>
	* [2253071] :

	Merge pull request #728 from ionutrazvanionita/rlimit
	Slot Based Taildrop algorithm for ratelimit


2016-02-23  Razvan Crainea  <razvan at opensips dot org>
	* [cec0c72] :

	build: change variables for other OSes


2016-02-23  Razvan Crainea  <razvan at opensips dot org>
	* [b6324b3] :

	debian: remove date-time


2016-02-23  Liviu Chircu  <liviu at opensips dot org>
	* [a7b287f] :

	SIP forking engine: Fix async-related issues
	Previously (on OpenSIPS...), doing _any_ async operation at script level
	after a destination set had been built (by lookup(), append_branch(), etc)
	would have lead to unpredictable results.

	This patch addresses the problem by moving the destination set storage
	into the current processing context (from static mem to pkg mem).

	Impact on memory usage at worst (12 branches for each request) is
	an extra 30 MB of PKG memory per every 1000 cps.


2016-02-23  Razvan Crainea  <razvan at opensips dot org>
	* [ff0a71a] :

	fix warnings on i386


2016-02-23  Razvan Crainea  <razvan at opensips dot org>
	* [91ff393] :

	debian: update prefix names


2016-02-23  Liviu Chircu  <liviu at opensips dot org>
	* [d0418af] :

	Improve logging for out of memory errors
	OpenSIPS now kindly displays _what kind_ of memory it actually ran out of!


2016-02-23  Razvan Crainea  <razvan at opensips dot org>
	* [4d5d2ce] :

	Makefile: dash cannot use variables that contain -


2016-02-23  Razvan Crainea  <razvan at opensips dot org>
	* [ea4b145] :

	debian: add glibc for xmlrpc


2016-02-23  Razvan Crainea  <razvan at opensips dot org>
	* [f7aeca8] :

	debian: lua no longer depends on libmemcache


2016-02-23  Razvan Crainea  <razvan at opensips dot org>
	* [e8368f4] :

	lua: update memcached readme


2016-02-22  Razvan Crainea  <razvan at opensips dot org>
	* [1ba0327] :

	lua: port obsolete memcache to memcached


2016-02-22  Razvan Crainea  <razvan at opensips dot org>
	* [6ec4106] :

	complete rename set_proc_log_level


2016-02-22  Razvan Crainea  <razvan at opensips dot org>
	* [439e5ee] :

	allow libjson0-dev in travis
	they are using older packages


2016-02-22  Razvan Crainea  <razvan at opensips dot org>
	* [2abd579] :

	obsolete libjson0-dev


2016-02-22  rvlad-patrascu  <vlad.patrascu at onem dot com>
	* [29dd83b] :

	Fix the lagging behind of time_keeper process
	Solution involves occasionally synchronizing with the system time in the time_keeper and also time drift compensation in the timer process.
	Fixes #745


2016-02-19  Liviu Chircu  <liviu at opensips dot org>
	* [9cf7bec] :

	Merge pull request #715 from ionutrazvanionita/db_virtual_async
	ASYNC_CHANGE_FD status + db engine async state parameter + db_virtual async


2016-02-18  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [bd94e6b] :

	Docs updated on t_newtran()


2016-02-18  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [0db7789] :

	t_newtran() automatically sends a 100 Tryting for INVITE.
	TO have a consistent behavior between:
		t_newtran();
		t_relay();
	and
		t_relay();

	(where in the first case a 100 Trying will not be auto generated), we do not sent the 100 Trying on r_relay (when transaction is built) but on t_newtan().
	Reported by MAxim Sobolev.


2016-02-18  ionutrazvanionita  <ionutionita at opensips dot org>
	* [737ced7] :

	async support for db_virtual


2016-02-18  ionutrazvanionita  <ionutionita at opensips dot org>
	* [9abcf92] :

	hold db state between async call and resume function
	Databases can now keep their state between the async call and the
	resume parameter using a newly added (void*) parameter. It is the
	job of the upper layer(the module calling the async function) to
	store this database state inside the (void*) parameter they are using
	to hold their state (see avpops and sipcapture async handling).

	Also this patch handles the new ASYNC_CHANGE_FD state in avpops
	and sipcapture.


2016-02-18  ionutrazvanionita  <ionutionita at opensips dot org>
	* [ff09d49] :

	add ASYNC_CHANGE_FD status in reactor
	Allows changing the file descriptor in the resume function. Such
	functionality is useful for failover purposes, like having
	multiple destinations, you find that one is not working only in
	the resume function and you want to try another one. Now you
	can change the file descriptor, remove the old one and add the
	new descriptor and then wait for it to be triggered.


2016-02-17  Ovidiu Sas  <osas at voipembedded dot com>
	* [8d6bba5] :

	modules/pua: fix crash at startup when no tuple_id


2016-02-16  Ovidiu Sas  <osas at voipembedded dot com>
	* [386eba0] :

	modules/b2b_sca: set default table to b2b_sca


2016-02-16  Ovidiu Sas  <osas at voipembedded dot com>
	* [5dab066] :

	modules/b2b_logic: fix crash when using "top hiding" scenario


2016-02-16  Ionut Ionita  <ionutionita at opensips dot org>
	* [fbdf076] :

	Merge pull request #790 from liviuchircu/master
	Improve qvalue parsing


2016-02-16  Bogdan Andrei IANCU  <bogdan at opensips dot org>
	* [1ed467b] :

	Merge pull request #793 from jarrodb/dispatcher
	add ds_probing_list parameter to specify which sets to probe


2016-02-16  Jarrod Baumann  <jarrod at unixc dot org>
	* [2140eee] :

	documentation for additional ds_probing_list parameter


2016-02-15  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [2b7d89b] :

	Fixed bogus init of missed cols types.
	Closes #795 .
	Reported by @ankogan on GITHUB


2016-02-15  Razvan Crainea  <razvan at opensips dot org>
	* [c24b587] :

	arm: unforce thumb mode


2016-02-15  Jarrod Baumann  <jarrod at unixc dot org>
	* [a49551c] :

	add ds_probing_list parameter to specify which sets to probe


2016-02-12  Liviu Chircu  <liviu at opensips dot org>
	* [ed60363] :

	Improve qvalue parsing
	* accept qvalues with no decimal digits (e.g. "1." and "0.")
	  (this removes E_Q_DEC_MISSING from error.h)
	* improve bad qvalue error reporting


2016-02-12  ionutrazvanionita  <ionutionita at opensips dot org>
	* [0a2cc3e] :

	[freeradius-client async patch][bugfix]on resume fetch index from async context


2016-02-12  Liviu Chircu  <liviu at opensips dot org>
	* [037e259] :

	Update ViM syntax file


2016-02-11  Vlad Paiu  <vladpaiu at opensips dot org>
	* [82218fa] :

	Don't push throug RTPProxy streams with port 0 in SDP
	(cherry picked from commit 5dec43a750c7af714dfec9ac9ef43cc0c33e2280)


2016-02-11  ionutrazvanionita  <ionutionita at opensips dot org>
	* [6a40cd6] :

	[acc][bugfix]update module's log_level not global in modparam section


2016-02-11  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [7367cee] :

	Fix proper callig in local cancels with TH.
	Extend the coverage of the preocessing context and TM context over the cancel_branch() function (in the timeout handler) so the TH callbacks can reach back the dialog and do the TH related changes.
	Reported by Julian Santer on mailing list.
	(cherry picked from commit 8133656de9503a122a72c0f80d11eff975bc43f1)


2016-02-11  Razvan Crainea  <razvan at opensips dot org>
	* [421e3e3] :

	proper compile on gcc 4.8


2016-02-09  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [583ab03] :

	Fix compile error.
	As now log_level is a global variable, avoid using it as function param or local var.
	Reported by Nick Altmann


2016-02-08  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [f174629] :

	set_debug() function replaced with $log_level
	The new script variables allows read and write operations. On write, it does exactly as the old set_debug() function (on writting the NULL value -> reset the log level)


2016-02-08  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [46a26bf] :

	Updated to new the prototypes for logging functions


2016-02-08  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [61f1b42] :

	"debug" global parameter renamed to "log_level"


2016-02-08  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [8803a87] :

	Renamed local log_level variables/parameters.


2016-02-08  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [b9b0083] :

	Added "debug_mode" option as replacement for "fork"
	While enabling "debug_mode", opensips will automataically force:
		- staying in foreground (do not detach from console)
		- set logging level to 4 (debug)
		- set logging to standard error
		- enable core dumping
		- set UDP worker processes to 2
		- set TCP worker processes to 2


2016-02-05  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [7eced16] :

	Removed the "dont_fork" feature


2016-02-05  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [ce89e29] :

	Fix IPv6 insertion in fix_nated_contact()
	Add the [ ]  around IPv6 in the newly built contact URI.
	Reported by Jonathan Hunter on the mailing list


2016-02-02  ionutrazvanionita  <ionutionita at opensips dot org>
	* [81cf203] :

	[dialog] updated the docs for the new flag feature


2016-02-02  ionutrazvanionita  <ionutionita at opensips dot org>
	* [4468b4a] :

	[dialog] fix bug - don't set repl to null after allocating it


2016-02-02  ionutrazvanionita  <ionutionita at opensips dot org>
	* [23c02f3] :

	[dialog] flag for replicating profiles
	added a new flag which allows replicating over the bin interface
	only the profiles which have it set


2016-02-02  Bogdan Andrei IANCU  <bogdan at opensips dot org>
	* [8e10339] :

	Merge pull request #752 from ionutrazvanionita/siptrace
	[siptrace] all types of tracing are done using sip_trace function


2016-02-02  ionutrazvanionita  <ionutionita at opensips dot org>
	* [76ba3b5] :

	[siptrace] all types of tracing are done using sip_trace function
	* added trace_id parameter with which one is able to define
	database urls and trace uris (HEP and SIP); the trace id is given
	as an argument to sip_trace() function;
	* multiple trace_id s can be defined under the same name which
	will alow users to do multiple types of tracing using only one
	function call;
	* sip_trace() now accepts flags to specify what to trace: message,
	transaction or dialog; in stateless mode only message trace does
	a valid type of trace;
	* traced_user_avp now is as an argument to sip_trace() function;
	it's name now changed to trace_attrs and also the column in the
	database and table version were modified;setting it won't duplicate
	entries in the database; it will do only one insert setting the
	trace_attrs column accordingly;
	* most of the parameters in the modparam section(db_url, table,
	duplicate_uri, duplicate_with_hep) are now part of a trace_id
	called 'default'; removed the old ones completely; all that remains
	now is the trace_on parameter which can be set/unset with mi
	(read the docs for more info), trace_local_ip and trace id;
	* the module can catch internally generated stateless replies using
	the sl module;
	* if transaction module not loaded but transaction mode selected
	for sip_trace() function, the module will work in transaction
	aware mode, meaning that will catch incoming and outgoing
	requests and also will catch internally generated replies using
	the sl module;


2016-02-02  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [031304a] :

	Fix freeing processing context after a second async jump.
	If thw processing ctx was stored back into transaction (due a new async call), do not free the current ctx (as it became NULL).
	Reported by Minh PHAN (@qmphan).
	Closes #780 .


2016-02-01  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [6dd88ab] :

	Fixed autodetection of the reactor size (open files)
	If we auto-detect the size of the reactor(via rulimit), be sure we have enough pkg memory (and do the necessary correction).
	If the open files limit is given, warn if the reactor will use too much memory.
	Thanks to MAxim Sobolev for reporting it via mailing list and to @cepehutu
	Closes #778


2016-02-01  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [0921088] :

	Fix missing update on SL callbacks.
	related to the prev commit (8c56303)


2016-02-01  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [8c56303] :

	SL callbacks moved into core and merged with fwd callbacks.


2016-02-01  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [91df869] :

	Fix calculation of timer set on 32b
	A bogus bitwise operation broke the calculation of the timer set on 32bits arch.
	Reported by @mshary (Muhammad Shahzad Shafi)
	Closes #732.
	(cherry picked from commit 5b7b5f78cb675d1d4126866307dc0caa22067d09)


2016-01-28  Liviu Chircu  <liviu at opensips dot org>
	* [a4e3ff8] :

	Fix declarations/definitions for all clusterer api variables
	Variable definitions (as opposed to declarations) in C header files are
	a bad practice and must be avoided.

	Reported by Dragomir Haralambiev


2016-01-28  Liviu Chircu  <liviu at opensips dot org>
	* [4c60af8] :

	$DLG_timeout pseudo-var: Fix crash on write operations
	Unless dialog replication is enabled, issue would occur.

	Credits to Dragomir Haralambiev for reporting and helping troubleshoot this


2016-01-28  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [2efdbf8] :

	Fix the sizing of the Async Reactors.
	Adjust the size of the reactor accroding the limit of opens files.
	Closing #765.


2016-01-26  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [b03fce9] :

	Fixed wrong warning on memory leak.
	Set the auth_hdr buffer to NULL after moving the buffer into the lump.
	Reported by Colin Martin on mailing list
	(cherry picked from commit bbaf8213ae9856d2345aa66d8aa002ec5f1f3fa5)


2016-01-26  ionutrazvanionita  <ionutionita at opensips dot org>
	* [be43fcd] :

	[event_xmlrpc] accept paths when subscribing to event
		Before, by default, in the first line of the HTTP POST
	that was sent to the server the path was always '/RPC2'. Now
	you can specify the path after the port, just like in urls
	'xmlrpc:ip:port/path/to/rpc:method'.


2016-01-26  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [3a6f4b9] :

	Fix codec handling functions when faulty streams are defined.
	Bogus test on the return code of stream_process() (using bitwise OR for -1, 0 and 1 values :O ), leads to a generic failure to find any codec in any stream if there is an invalid stream in the SDP.
	For example, if a video stream is defined but with no codecs, stream_process() will return -1 for it (as it is a bogus stream). While iterating through all the stream (including the valid audio stream), the -1 ret code will discard any 1 future ret code due the bogus bitwise OR.
	(cherry picked from commit ef82ca2368462c41f7115202e90f73d8ab16fd1f)

	Conflicts:
		modules/sipmsgops/codecs.c

	(cherry picked from commit 41c8902327aa42af9718980acf9260d3621f2a50)


2016-01-25  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [eaef57e] :

	README files regenerated


2016-01-25  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [0042b94] :

	Fix bugs in modules-readm target.


2016-01-25  Bogdan Andrei IANCU  <bogdan at opensips dot org>
	* [a61a88d] :

	Merge pull request #632 from shripchenko/alias_db
	alias_db module changed to allow alias_db_find() to be called from startup route


2016-01-25  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [e210f45] :

	Fix STANDARD and EXTRA list of tables.
	Permissions (in postgres) were not granted for the missing tables.
	Reported by Nathaniel L. Keeling III on mailing list
	(cherry picked from commit aebf41f79274679bfc9a984a9d0c6871ac139462)

	Conflicts:
		scripts/opensipsdbctl.base


2016-01-25  Vlad Paiu  <vladpaiu at opensips dot org>
	* [e303afa] :

	Fix double free in case of errors when running MI command
	(cherry picked from commit ce6e8444afeb887f30d38cf90b0176ae9960fb72)


2016-01-25  ionutrazvanionita  <ionutionita at opensips dot org>
	* [48bc2d4] :

	[siptrace][Bugfix]Use hep proto socket_info struct when trying to send


2016-01-22  ionutrazvanionita  <ionutionita at opensips dot org>
	* [dfa7787] :

	[nathelper]before trying to remove check if remove_on_timeout flag set


2016-01-21  Razvan Crainea  <razvan at opensips dot org>
	* [9f68260] :

	daemonize: fix unnecessary close command


2016-01-21  Razvan Crainea  <razvan at opensips dot org>
	* [8a17be2] :

	fixed some missed compile warnings


2016-01-21  Razvan Crainea  <razvan at opensips dot org>
	* [a0caa91] :

	fix more bugs identified by coverity


2016-01-21  Razvan Crainea  <razvan at opensips dot org>
	* [3c37af3] :

	ws: verify headers when in client mode


2016-01-21  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [b11baad] :

	Missing module "emergency" in extra list.
	This was braking the creation of extra tables (at least in postgres is did).
	Reported by Nathaniel L. Keeling III on mailing.
	(cherry picked from commit d9af15b70ed50b143e0ba5b27ff4a4b554ece28a)

	Conflicts:
		scripts/opensipsdbctl.base


2016-01-21  Liviu Chircu  <liviu at opensips dot org>
	* [1fedeee] :

	Coverity PR: minor refactorings
	(cherry picked from commit 975024142e724b315203dd14c58056a77f3d3959)

	Conflicts:
		modules/ldap/iniparser.c
		modules/usrloc/dlist.c


2016-01-20  Bogdan Andrei IANCU  <bogdan at opensips dot org>
	* [02b4c25] :

	Merge pull request #769 from nikbyte/master
	Completely cpl-c rename


2016-01-20  Nick Altmann  <nick.altmann at gmail dot com>
	* [67d3e8b] :

	Completely cpl-c rename


2016-01-20  Bogdan Andrei IANCU  <bogdan at opensips dot org>
	* [ecfe3f7] :

	Merge pull request #768 from nikbyte/master
	Debian repository: fix cpl-c module building


2016-01-20  Nick Altmann  <nick.altmann at gmail dot com>
	* [00f2228] :

	Debian repository: fix cpl-c module building


2016-01-20  Nick Altmann  <nick.altmann at gmail dot com>
	* [13daa5c] :

	RPM spec: prepare for opensips 2.2


2016-01-20  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [a76789c] :

	Renamed cpl-c to cpl_c for consistency reasons


2016-01-20  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [cc75a4c] :

	Added structure for wss docs.
	(work in progress)


2016-01-19  Bogdan Andrei IANCU  <bogdan at opensips dot org>
	* [8d23d9b] :

	Merge pull request #664 from wdoekes/wjd-allow_unset_dlg_in_req_route
	dialog: Document that unset_dlg_profile can be used from request_route.


2016-01-19  Razvan Crainea  <razvan at opensips dot org>
	* [384a4ad] :

	integrate with clang and fix warnings


2016-01-19  Razvan Crainea  <razvan at opensips dot org>
	* [3560844] :

	evi: subs can never be NULL


2016-01-19  Razvan Crainea  <razvan at opensips dot org>
	* [b33f1ac] :

	call va_end() on all paths


2016-01-19  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [4fc06a9] :

	Fix restoring leg route set.
	Reported by Søren Andersen.
	(cherry picked from commit b602a7fb06a3658b71adedd69cf94eae814e93e5)


2016-01-18  Razvan Crainea  <razvan at opensips dot org>
	* [70e5a65] :

	uri: fix e164_check overflow checking
	Reported by @ferrored on github
	Closes #762


2016-01-18  Liviu Chircu  <liviu at opensips dot org>
	* [ccce2e6] :

	Coverity PR: Fix bad conflict merge
	(cherry picked from commit 83f459781eb662c351f6edaaa088443a34ca2136)


2016-01-18  Dusan Klinec  <dusan.klinec at gmail dot com>
	* [4ff4715] :

	fixing coverity found defects - memory corruption, null dereference
	(cherry picked from commit fd57609f5411e622dca593b729e1826269243c5b)
	(cherry picked from commit 56a72304b9ec154d70dd41a63f29fa33faecaef5)


2016-01-18  Dusan Klinec  <dusan.klinec at gmail dot com>
	* [79f19c7] :

	fixing coverity found defects - null dereference & broken logic
	(cherry picked from commit 81aeba42ca04df7b3fc42ab2498717cc31227967)
	(cherry picked from commit 6b4a3271da6a62f5bead2a958672de45def57ad6)


2016-01-18  Dusan Klinec  <dusan.klinec at gmail dot com>
	* [8c9b818] :

	fixing coverity found defects - null dereference
	(cherry picked from commit 906bb9172b4ce0ab0e7bf4eca7da58211aa8ac5b)

	Conflicts:
		cachedb/cachedb_id.c

	(cherry picked from commit 37a7466c8b7c3e8ec979444c37c9f738bd0e43d8)


2016-01-18  Dusan Klinec  <dusan.klinec at gmail dot com>
	* [49c1d65] :

	fixing coverity found defects - null dereference
	(cherry picked from commit b578dda307f24e56f456e5b02c0c7591ed6746a4)
	(cherry picked from commit 19e518835dd0f88868613c5fe6fbf8fe19180252)


2016-01-18  Dusan Klinec  <dusan.klinec at gmail dot com>
	* [0a8e277] :

	fixing coverity found defects - copying into fixed size buffer without check, db_http
	(cherry picked from commit d471234733de299c88f1036ba17a2406b8ae7a89)
	(cherry picked from commit 20004e4a87d4e84c216782dc06484a970183894a)


2016-01-18  Dusan Klinec  <dusan.klinec at gmail dot com>
	* [3cf56b1] :

	fixing coverity found defects - copying into fixed size buffer
	(cherry picked from commit 92a7361eda2c6cd6e9ad637dab187cf87fefa987)
	(cherry picked from commit c9aaae3ac63970e3f394f66e048a1c82b99774c7)


2016-01-18  Dusan Klinec  <dusan.klinec at gmail dot com>
	* [26de471] :

	fixing coverity found defects - null dereference, invalid e164 number check
	(cherry picked from commit b8e2318ba58e56484294913e21a74a7cd79adf40)
	(cherry picked from commit c48773cdb2ae9f8b6ab44b38df1d2c37127537ba)


2016-01-18  Dusan Klinec  <dusan.klinec at gmail dot com>
	* [5e31e35] :

	fixing coverity found defects - null dereference, break missing
	(cherry picked from commit c004967f7c272e5b9043f5f3e330827f0682a009)

	Conflicts:
		db/db.c

	(cherry picked from commit ed699bfde4759434937349e198a694a4bab3f9ff)

	Conflicts:
		modules/usrloc/dlist.c


2016-01-18  Dusan Klinec  <dusan.klinec at gmail dot com>
	* [790495e] :

	fixing coverity found defects - logical fix in ul callback check type, null dereference
	(cherry picked from commit aeedb7d94439b774d35009899b04d2c6060437d0)

	Conflicts:
		modules/dispatcher/dispatcher.c

	(cherry picked from commit a152bdf3c0a3877827e1a02f7e05d611a0366a7f)


2016-01-18  Dusan Klinec  <dusan.klinec at gmail dot com>
	* [347fea8] :

	fixing coverity found defects - processing initialized variables, control flow, invalid expressions
	(cherry picked from commit b22844e0a1d4d54d0f8f836837f8447154799011)

	Conflicts:
		modules/drouting/drouting.c

	(cherry picked from commit 50737ff2de91e55971512bf327042fe3f51ca619)


2016-01-18  Dusan Klinec  <dusan.klinec at gmail dot com>
	* [853702b] :

	fixing coverity found defects - resource leakage
	(cherry picked from commit e09f09ae89aff31393b04e40b4f82632fd4f50ff)
	(cherry picked from commit 21083e84ede0551ae937bb4cea7c6ddab44d86f1)


2016-01-18  Dusan Klinec  <dusan.klinec at gmail dot com>
	* [1f7d58e] :

	fixing coverity found defects - invalid memory access / memory corruptions
	(cherry picked from commit c537cb8151e9436d88a9410e02ef11a093008ff0)

	Conflicts:
		modules/dialog/dlg_tophiding.c

	(cherry picked from commit 57a7bf02a54f91020e5163be82b0ac3cf09e0531)


2016-01-17  Nick Altmann  <nick.altmann at gmail dot com>
	* [6a5d421] :

	RPM spec: prepare for new build system - remove obsolete triggers - change tarball name and url


2016-01-15  Ovidiu Sas  <osas at voipembedded dot com>
	* [be371da] :

	uac_registrant: update timer handling  - closes #758 - uac_registrant wrong hash sequence


2016-01-15  ionutrazvanionita  <ionutionita at opensips dot org>
	* [9bd4c77] :

	[avpops]fix acmds instead of cmds


2016-01-15  ionutrazvanionita  <ionutionita at opensips dot org>
	* [939b343] :

	[avpops]check if asyn funcs used in separate loop(on acmds struct)


2016-01-14  ionutrazvanionita  <ionutionita at opensips dot org>
	* [785e4b8] :

	[proto_hep]don't htons one byte type variable


2016-01-14  Ovidiu Sas  <osas at voipembedded dot com>
	* [666cf83] :

	tm: remove unused variables


2016-01-14  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [f14804b] :

	Import some changes from PR #661


2016-01-14  ionutrazvanionita  <ionutionita at opensips dot org>
	* [16cea6a] :

	[sipcapture]completely remove mod_init mi_cmds registration


2016-01-14  Razvan Crainea  <razvan at opensips dot org>
	* [47bbc07] :

	bin: report the dimension of the buffer
	This allows the user to control how much info to send


2016-01-14  ionutrazvanionita  <ionutionita at opensips dot org>
	* [e36453e] :

	[sipcapture]mi_cmds were registered twice


2016-01-13  ionutrazvanionita  <ionutionita at opensips dot org>
	* [055f4b1] :

	[snmpstats]more hints for setting up in the docs


2016-01-13  Liviu Chircu  <liviu at opensips dot org>
	* [eef55c9] :

	opensipsdbctl: Properly create "clusterer" and "tls_mgm" tables


2016-01-13  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [7d090c3] :

	Allow retransmissions and wait for reply/timeout on canceled branches.
	Do not do anything about branches with no received reply; better continue the retransmission hoping to get something back; if still not, we will generate the 408 Timeout based on FR timer; this helps with better coping with missed/lated provisional replies in the context of cancelling the transaction

	Many thanks to Maxim Sobolev for bringing this under discussion.
	More to be read:
	http://lists.opensips.org/pipermail/devel/2015-November/018623.html
	http://lists.opensips.org/pipermail/devel/2015-December/018810.html
	(cherry picked from commit 0dfb46df96d594c9b592d64913a44ab1cccd80e3)


2016-01-13  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [ea6e1fa] :

	Fix race condition between retransmission and wait timer in TM.
	Overlapping of retransmission timer and wait timer may lead to inconsistent timer list -> various crashes around TM timer lists.
	Related to #749, #732, #723.
	Many thanks for Trevor Francis ( @46labs )  for helping with the troubleshooting.

	IMPORTANT NOTE: this is a temporary fix as it simply avoid the collision between the two timer routines - normally the routines themselves should be safe to run in parallel (more digging is required here).


2016-01-13  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [aa5d483] :

	Fix pinging partitioning from nat_traversal.
	Do not use the static counter as the timer routine gets executed in various processes now - better use a shm counter.
	See all the details in #751
	Based on the PR #751
	Closing / outdating #751
	Credits for finding the fix and comming up with a solutoin go to @aerringer.
	(cherry picked from commit 4395575d7f251e14fdc7b0dd92b7f5b329515b4e)


2016-01-13  Razvan Crainea  <razvan at opensips dot org>
	* [76034ad] :

	redis: add timeout for connect and query
	This prevents OpenSIPS from blocking waiting for a connection to be
	established.

	Fixes #753 reported by Nick Altmann


2016-01-12  Razvan Crainea  <razvan at opensips dot org>
	* [29190f3] :

	ws: release TCP connection if not static
	This should fix a memory leak (reported in #743 by Eric Tamme)


2016-01-12  Razvan Crainea  <razvan at opensips dot org>
	* [ffb228d] :

	ratelimit: supress limit warning when it changes


2016-01-12  Liviu Chircu  <liviu at opensips dot org>
	* [acb9f72] :

	Merge pull request #665 from ionutrazvanionita/master
	fix calls per minute for fraud_detection module


2016-01-12  ionutrazvanionita  <ionutionita at opensips dot org>
	* [dd25c63] :

	fix calls per minute for fraud_detection module
	Now the calls per minute parameter is build as consisting of an initial
	time(t0) and a 60 seconds window(as was before). Each window slot holds the
	calls received in that second(as before). The difference is that now
	these parameters are updated based on three conditions:
	* we receive the call between [t0; t0 + WINDOW_SIZE(60s)] - we only update
	the number of calls for that slot(t0 + current time) and the calls per minute
	parameter
	* we receive the call in the interval of [t0+WINDOW_SIZE; t0+2*WINDOW_SIZE] -
	we do the following: move t0 in current call time - WINDOW_SIZE, invalidate
	all the calls we knew of from t0 to current t0 (current call time - WINDOW_SIZE)
	* we receive a call after 2 * WINDOW_SIZE(60 seconds) + t0 - this invalidates
	all the calls we knew of since the window is not does not contains calls newer
	than the last 60 seconds;


2016-01-11  ionutrazvanionita  <ionutionita at opensips dot org>
	* [b32a14e] :

	[proto_hep]correctly calculate length when sending


2016-01-11  Bogdan Andrei IANCU  <bogdan at opensips dot org>
	* [48023d7] :

	Merge pull request #748 from ionel-cerghit/ds_list_explicit
	dispatcher: add ds_list full mi command, update documentation


2016-01-11  Cerghit Ionel  <ionel.cerghit at gmail dot com>
	* [829bd47] :

	dispatcher: reworked ds_print_mi_list flags parameter


2016-01-08  Cerghit Ionel  <ionel.cerghit at gmail dot com>
	* [f471785] :

	dispatcher: add ds_list full mi command, update documentation
	optional parameter 'full' added for ds_list full, which will display
	the weight, priority and description of a destination
	role of weight and priority briefly explained in documentation, FAQ section


2016-01-08  Liviu Chircu  <liviu at opensips dot org>
	* [2e5160e] :

	cachedb_mongodb: Fix crash when losing DB connection
	Tested with mongo-c-driver v0.6. It turns out that the driver's
	mongo_cmd_get_last_error() does not always return an iterable bson
	structure. This patch adds a safety check, so that iteration is skipped.

	Reported by Sasmita Panda
	Closes issue #747


2016-01-08  Bogdan Andrei IANCU  <bogdan at opensips dot org>
	* [2e59ba9] :

	Merge pull request #746 from lemenkov/remove_has_sdp
	rtpproxy: patch: has_sdp() does not exist


2016-01-08  Liviu Chircu  <liviu at opensips dot org>
	* [1cf1997] :

	dispatcher doc: Improve "partition" param section


2016-01-08  Liviu Chircu  <liviu at opensips dot org>
	* [e0c0a54] :

	Fix several print formatting bugs
	%*.s is a format specifier for string width
	%.*s is a format specifier for string length

	99% of the time, we want the latter one and _not_ the former.


2016-01-08  Liviu Chircu  <liviu at opensips dot org>
	* [d334a16] :

	dispatcher params: Add support for any whitespace char
	Improves script coding style. This is working now:

	modparam("dispatcher", "partition",
	            "ds_sip_inbound_gws : \
	                    db_url      = mysql://user:pass@172.16.4.5/opensips; \
	                    table_name  = dispatcher; \
	                    attrs_avp   = $avp(ds_attr_i)")


2016-01-06  Mikko Lehto  <mslehto at iki dot fi>
	* [4af7963] :

	rtpproxy: patch: has_sdp() does not exist


2016-01-06  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [078646e] :

	Just identation fixes


2016-01-06  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [6205cff] :

	Improve WSS parsing.
	Avoid doing one step back (and double parsing) when deciding between WS and WSS.


2016-01-06  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [f0aed8e] :

	Merge branch 'jarrodb-parse_wss'


2016-01-06  Jarrod Baumann  <jarrod at unixc dot org>
	* [8dd8c0b] :

	add parse_uri support for transport=wss


2016-01-05  Razvan Crainea  <razvan at opensips dot org>
	* [968a4e0] :

	proto_wss: first version


2016-01-05  Razvan Crainea  <razvan at opensips dot org>
	* [b3db77b] :

	nathelper: support wss in received


2016-01-05  Razvan Crainea  <razvan at opensips dot org>
	* [5a38f69] :

	rearange tls functions


2016-01-05  Razvan Crainea  <razvan at opensips dot org>
	* [e97fea1] :

	tls: more rework


2016-01-05  Razvan Crainea  <razvan at opensips dot org>
	* [f2687dc] :

	ws: make resource configurable


2016-01-05  Razvan Crainea  <razvan at opensips dot org>
	* [0665943] :

	fix wss socket print


2016-01-05  ionutrazvanionita  <ionutionita at opensips dot org>
	* [7461c83] :

	Slot Based Taildrop algorithm for ratelimit
	    In this new algorithm a window is held per every pipe,
	which is defined by two parameters: window_size(seconds) and
	slot_period(microseconds). The number of slots is
	window_size*1000/slot_period. The window is updated with every
	call received and it's implemented as a circular vector, which
	modifies it's start based on the elements that were dropped.

	How is the window updated:
	* if no message comes in 2*window_time from when the window start
	was set , it means we can't use the values from any of the slots
	and we set the value from any of the slots to 0; the window start
	time is updated;
	* if the message comes in t=[start+window_time; start+2*window_time)
	it means that we can keep the values in slots in the interval
	[t-window_time;start+window_time) and drop the ones in
	[window_time; t-window_time); the window start time is updated;
	* it the message come in t=[start; start+window_time) we don't
	do any update do the window, only to the value of the slot corresponding
	to time t;

	The algorithm also shares this value through the bin interface, allowing
	to have the values from all the replicas. Also, before sending the
	value through the interface, the replica checks the window in order
	to send only the values in valid slots. Two different functions
	were made because of efficiency reasons. When replicating
	we only do some very short loops or maybe nothing.


2016-01-05  Liviu Chircu  <liviu at opensips dot org>
	* [1befb58] :

	Merge pull request #731 from ionel-cerghit/sql_cacher_simplified
	sql_cacher: remove pkg memory temporary list


2016-01-05  Liviu Chircu  <liviu at opensips dot org>
	* [8d697a6] :

	Makefile.conf.template: Improve mem allocator tooltips
	Also disable VQ_MALLOC for upcoming versions, since it's unmaintained
	and broken.


2016-01-05  Liviu Chircu  <liviu at opensips dot org>
	* [a6de582] :

	menuconfig: Allow entries to be commented out
	By using double comment, "##", we can prevent a DEFS line from being
	displayed in menuconfig, while keeping it in the template file.


2016-01-04  Ovidiu Sas  <osas at voipembedded dot com>
	* [6f183e7] :

	b2b_logic: remove unused variable


2016-01-04  Liviu Chircu  <liviu at opensips dot org>
	* [a51291f] :

	Merge branch 'rvlad-patrascu-allocator_rework'


2016-01-04  rvlad-patrascu  <rvlad.patrascu at gmail dot com>
	* [826aff0] :

	fix memory debug hash function collisions caused by integer downcasting when adding line number


2016-01-02  Ovidiu Sas  <osas@t40>
	* [ab96254] :

	dispatcher: documentation updates for ds_reload  - partition is accepted as an optional parameter


2015-12-29  Razvan Crainea  <razvan at opensips dot org>
	* [446dd58] :

	function search: properly search through switch st


2015-12-28  Razvan Crainea  <razvan at opensips dot org>
	* [b49d374] :

	httpd: properly treat select response


2015-12-23  ionutrazvanionita  <ionutionita at opensips dot org>
	* [56c8714] :

	avpops: start without db_url if no func is using DB


2015-12-23  rvlad-patrascu  <rvlad.patrascu at gmail dot com>
	* [dc01b2a] :

	q_malloc: don't abort on free(NULL) when debug is enabled


2015-12-23  rvlad-patrascu  <rvlad.patrascu at gmail dot com>
	* [ec603ae] :

	small changes to debug output for q_malloc, f_malloc and hp_malloc
	* f_malloc: print debug info to memlog instead of debug
	* display free memory amount for out of memory errors


2015-12-23  ionutrazvanionita  <ionutionita at opensips dot org>
	* [1e93226] :

	strip_body(): check if content-type exists


2015-12-22  Bogdan Andrei IANCU  <bogdan at opensips dot org>
	* [638b255] :

	Merge pull request #733 from ionutrazvanionita/cseq-fix
	fix validate_dialog cseq checking


2015-12-22  Bogdan Andrei IANCU  <bogdan at opensips dot org>
	* [0deaad3] :

	Merge pull request #735 from OpenSIPS/revert-661-lb_fixup_fix
	Revert "load balancer: fixup functions fixes"


2015-12-22  Bogdan Andrei IANCU  <bogdan at opensips dot org>
	* [3edf1f3] :

	Revert "load balancer: fixup functions fixes"


2015-12-22  Bogdan Andrei IANCU  <bogdan at opensips dot org>
	* [9dbfdfa] :

	Merge pull request #661 from shripchenko/lb_fixup_fix
	load balancer: fixup functions fixes


2015-12-22  rvlad-patrascu  <rvlad.patrascu at gmail dot com>
	* [d4fd23a] :

	use the compile flag DBG_MALLOC to debug any memory allocator
	As a result, q_malloc is selected with the QM_MALLOC flag instead of DBG_QM_MALLOC.


2015-12-22  Bogdan Andrei IANCU  <bogdan at opensips dot org>
	* [420b663] :

	Merge pull request #717 from ionel-cerghit/shmem_rework
	Shmem rework


2015-12-22  ionutrazvanionita  <ionutionita at opensips dot org>
	* [49efaa9] :

	comparse_uris: unescape all characters in user field


2015-12-22  ionutrazvanionita  <ionutionita at opensips dot org>
	* [ef2232c] :

	fix validate_dialog cseq checking
	If prev_cseq from the dlg_leg is not set, check the
	r_cseq


2015-12-21  ionutrazvanionita  <ionutionita at opensips dot org>
	* [4c1d619] :

	Usrloc: modify invalid contacts behaviour
	* stop inserting a contact even though received is OK
	(call parse_uri() for each contact)
	* at startup, if a bogus contact is found continue processing,
	letting the user know that he has to remove that contact from
	the database


2015-12-21  Razvan Crainea  <razvan at opensips dot org>
	* [bee77b2] :

	b2b_logic: allow the initial setup to have a dummy SDP


2015-12-21  Vlad Paiu  <vladpaiu at opensips dot org>
	* [6110e92] :

	ReINVITE Pinging Improvements : 	- ensure compatibility with NAT scenarios and  Topology Hiding, by extract Contact on the outgoing side 	- extract SDP on the outgoing side, in order to ensure compatibility with RTPProxy and various other SDP changes
	Work still in progress :
		- Properly handle late negociation between endpoints
		- Ensure SDP persistency ( DB and BIN replication )


2015-12-20  rvlad-patrascu  <rvlad.patrascu at gmail dot com>
	* [5a07ed1] :

	add memory status dump to f_malloc and hp_malloc
	* the memory dump contains a summary of allocated fragments
	* also correctly update the used memory statistics


2015-12-18  Cerghit Ionel  <ionel.cerghit at gmail dot com>
	* [33998ab] :

	sql_caher: remove pkg memory temporary list
	the caching entries are parsed and stored directly in shared memory
	fix delimiters default initialisation, now done before script parsing


2015-12-18  ionutrazvanionita  <ionutionita at opensips dot org>
	* [d605032] :

	Sipcapture: store in the database without passing through script
		With this new feature it is possible to store the HEP
	message inside the database without going through the script,thus
	allowing you to use the script for processing valid messages,
	since the ones that are send to this node aren't intended for it.
		There have also been defined a return code from the hep
	callbacks(HEP_SCRIPT_SKIP) which allows the type of behaviour
	explained earlier. If at least one HEP callback sets this return
	code then passing through the script shall be skipped.


2015-12-18  rvlad-patrascu  <rvlad.patrascu at gmail dot com>
	* [3d183e7] :

	q_malloc: change memory dump output to show summary of allocated fragments


2015-12-18  rvlad-patrascu  <rvlad.patrascu at gmail dot com>
	* [ec7fb15] :

	menuconfig: add posibility to toggle options in Compile Flags menu
	In order to specify which options should be exclusive with each other, the DEFS lines in Makefile.conf should be preceded by a "#DEFS_GROUP_START" line and followed by a "#DEFS_GROUP_END" line.


2015-12-16  Ovidiu Sas  <osas at voipembedded dot com>
	* [78cc475] :

	uac_registrant: fix index into the reg_hash table  - thanks to Razvan Crainea for spotting this out


2015-12-16  Ionut Ionita  <ionutionita at opensips dot org>
	* [2117a62] :

	Merge pull request #727 from ionutrazvanionita/kill_bug
	Kill bug


2015-12-16  ionutrazvanionita  <ionutionita at opensips dot org>
	* [cf53d0c] :

	wait for all processes to initialize before sending SIGTERM


2015-12-15  ionutrazvanionita  <ionutionita at opensips dot org>
	* [d13db49] :

	gzip support for hepV3


2015-12-15  ionutrazvanionita  <ionutionita at opensips dot org>
	* [3cb44df] :

	compression module:export gzip compress/decompress functions through an api


2015-12-14  Ovidiu Sas  <osas at voipembedded dot com>
	* [a4294ff] :

	Merge pull request #701 from nikbyte/master
	uac_registrant: avoid bulk re-registrations on large servers


2015-12-14  Nick Altmann  <nick.altmann at gmail dot com>
	* [e86bbfa] :

	uac_registrant: remove redundant loop


2015-12-14  Nick Altmann  <nick.altmann at gmail dot com>
	* [b69e56f] :

	Merge branch 'master' of github.com:OpenSIPS/opensips


2015-12-11  Cerghit Ionel  <ionel.cerghit at gmail dot com>
	* [d182f9d] :

	blacklists: removed preinit_blacklists function
	the vector of blacklists is now created when the first list is created:w


2015-12-09  Razvan Crainea  <razvan at opensips dot org>
	* [20df836] :

	b2b_logic: set late SDP negociation flag
	For the entity that initiates a call, late SDP negociation is used, because
	the SDP of the first entity is not known. This patch sets the late_sdp flag
	for that entity, to flag the b2b logic to send the ACK with SDP.

	This bug was reported on the mailing list by Sebastian Sastre.


2015-12-08  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [bd050fd] :

	Fix DB key when updating the destination state.
	Beside SIP URI, use the SET ID too when performing FB updates to set the destination state.
	(a SIP URI may be present in multiple SET IDs)
	Closes  #711 , reported by @mishehu


2015-12-08  ionutrazvanionita  <ionutionita at opensips dot org>
	* [93061b1] :

	avoid using unallocated jiffies


2015-12-08  ionutrazvanionita  <ionutionita at opensips dot org>
	* [e9f6e97] :

	fix proto selections issues
	* proto was set to PROTO_UDP in siptrace;now set it depending
	on the protocol used
	* proto_hep function pack_hep will receive the proto id in
	netinet form(IPPROTO_*)
	* siptrace transforms from netinet id (IPPROTO_*) to
	opensips-like id (PROTO_*)


2015-12-08  ionutrazvanionita  <ionutionita at opensips dot org>
	* [6dd210a] :

	Merge branch 'ar45-fix_sqlite_delete_update_avp_query'


2015-12-08  ionutrazvanionita  <ionutionita at opensips dot org>
	* [8be032b] :

	Merge branch 'fix_sqlite_delete_update_avp_query' of https://github.com/ar45/opensips into ar45-fix_sqlite_delete_update_avp_query
	Conflicts:
		modules/db_sqlite/dbase.c


2015-12-08  ionutrazvanionita  <ionutionita at opensips dot org>
	* [9c43924] :

	correctly update markers when multiple messages read


2015-12-07  Răzvan Crainea  <razvan at opensips dot org>
	* [4990532] :

	Merge pull request #718 from sippy/master
	Silently disable GLIBC-specific features if we are not on Linux (unbrear modules on FreeBSD)


2015-12-07  ionutrazvanionita  <ionutionita at opensips dot org>
	* [1efdcc0] :

	case sensitive compare in sqlite raw query


2015-12-07  ionutrazvanionita  <ionutionita at opensips dot org>
	* [222d511] :

	add str_strncasecmp function


2015-12-05  Maksym Sobolyev  <sobomax at sippysoft dot com>
	* [46df8f8] :

	Silently disable GLIBC-specific features if we are not on Linux. This just breaks modules build on the FreeBSD currently.


2015-12-04  Bogdan Andrei IANCU  <bogdan at opensips dot org>
	* [ab5cd61] :

	Merge pull request #681 from shiningstarj/dialoginfo-memory-leak
	Presence_dialoginfo: Fix memory leaks in notify_body.c


2015-12-04  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [e125726] :

	Return <null> value for missing AVPS.
	Maintain database result integrity by supporting null column values.
	Closes #693 and #677
	(cherry picked from commit 88bd36bd8b200bfde902f2bb28c2be8ea0fb18f7)


2015-12-04  Cerghit Ionel  <ionel.cerghit at gmail dot com>
	* [baddec0] :

	cfgutils: $shv pseudo-variables initized directly in shared memory
	since shared memory is now initialized before script parsing, the
	list containing the variables can be created directly in shared memery in order to
	simplify code


2015-12-04  Razvan Crainea  <razvan at opensips dot org>
	* [b29d7aa] :

	ratelimit: always publish the previous counter
	Although this seems a "hack", without having a stable counter, pipes are never
	stable, and therefore the real limit can never be estimated.


2015-12-04  Razvan Crainea  <razvan at opensips dot org>
	* [22187c0] :

	b2b_logic: parameters cannot be lower than 1


2015-12-04  ionutrazvanionita  <ionutionita at opensips dot org>
	* [6a2954a] :

	sqlite raw query: search for select only as first word in query


2015-12-04  ionutrazvanionita  <ionutionita at opensips dot org>
	* [4304777] :

	only exit, no error when no result given


2015-12-03  Bogdan Andrei IANCU  <bogdan at opensips dot org>
	* [671fa5c] :

	Merge pull request #667 from ionel-cerghit/kill_dialogs
	modules/dialog: add mi command to terminate all dialogs from a profile


2015-12-03  Bogdan Andrei IANCU  <bogdan at opensips dot org>
	* [aa91970] :

	Merge pull request #706 from ionel-cerghit/shmem_rework
	move init_shm before the script parsing


2015-12-03  ionutrazvanionita  <ionutionita at opensips dot org>
	* [7913288] :

	properly handle epoll events


2015-12-03  Liviu Chircu  <liviu at opensips dot org>
	* [938a88a] :

	Merge pull request #676 from rvlad-patrascu/sql_cacher
	SQL Cacher


2015-12-03  rvlad-patrascu  <rvlad.patrascu at gmail dot com>
	* [e095586] :

	sql_cacher: update documentation with usage example


2015-12-03  Nick Altmann  <nick.altmann at gmail dot com>
	* [ec77280] :

	RPM spec: move ulimit to init-script


2015-12-03  Nick Altmann  <nick.altmann at gmail dot com>
	* [2b57ec6] :

	RPM spec: change folder name to more sensible


2015-12-03  Nick Altmann  <nick.altmann at gmail dot com>
	* [dce2c5b] :

	RPM spec: increase max files limit and add dependencies


2015-12-03  Razvan Crainea  <razvan at opensips dot org>
	* [41168cd] :

	remove rest package


2015-12-03  rvlad-patrascu  <rvlad.patrascu at gmail dot com>
	* [db74655] :

	sql_cacher: further improvements
	-if table is empty don't return error when loading entire table
	-improve error reporting for cache_table parameter
	-cache entire table if no columns are specified
	-don't allocate new array of columns for sql query function call
	-fix memory leaks in insert_in_cachedb()
	-add columns_delimiter module parameter
	-update README


2015-12-02  Cerghit Ionel  <ionel.cerghit at gmail dot com>
	* [3e56950] :

	blacklists.c: move package memory list initialisation in shared memory


2015-11-27  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [0dca32b] :

	Reduce the amount of "useless" DBG's


2015-11-27  ionutrazvanionita  <ionutionita at opensips dot org>
	* [672cb13] :

	fix async: context shall be destroyed only at the last async call


2015-11-27  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [d6d3dd5] :

	Remove annoying LM_INFO


2015-11-27  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [52d5ef5] :

	Fix proper reporting for the statistics types.
	This fixes the charting of SHMEM related stats in Control Panel


2015-11-25  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [eccbf8d] :

	Fix bug in populating the PIDs


2015-11-25  Cerghit Ionel  <ionel.cerghit at gmail dot com>
	* [4089d44] :

	move init_shm before the script parsing
	shared memory is now initialized before script parsing
	removed uid and git script variables (can now be set only from commad line)
	removed pending statistics list from statistics.c as dynamic statistics can now
	be allocated directly in shared memory


2015-11-24  ionutrazvanionita  <ionutionita at opensips dot org>
	* [47b5dc9] :

	fix dangling db conns bug
	* database are now started in child_init
	* avoid opening db conns in mod_init and leaving them in the db pool because
	when fork() shall be done all the processes will use the same db
	structure therefore the same tcp connection


2015-11-24  ionutrazvanionita  <ionutionita at opensips dot org>
	* [4e93c5b] :

	fix Makefile.defs; optimization flags back to O9; set to O0 by commit 82c16b0


2015-11-24  ionutrazvanionita  <ionutionita at opensips dot org>
	* [82c16b0] :

	code refactoring in dialplan module
	* fix memory leaks (partition parameters in pkg were not freed when structure
	was moved to shm)
	* avoid to do unnecessary allocations; use static strings received as modparam
	both in pkg and shm partition structure
	* improved code design
	* fix bug in add_rule2hash - when void string match expression received("")
	return error since it will segfault in core's hash function


2015-11-24  Nick Altmann  <nick.altmann at gmail dot com>
	* [e10e647] :

	uac_registrant: avoid bulk re-registrations on large servers with active using of reg_reload


2015-11-23  Ovidiu Sas  <osas at voipembedded dot com>
	* [889f353] :

	dialplan: check if memory is properly allocated when updateing partition records


2015-11-23  Ovidiu Sas  <osas at voipembedded dot com>
	* [bd35916] :

	dialplan: allocate the right amount of memory when creating a partition


2015-11-23  Nick Altmann  <nick.altmann at gmail dot com>
	* [0631965] :

	RPM spec: remove excess rest client package


2015-11-23  Ovidiu Sas  <osas at voipembedded dot com>
	* [1cf5dd8] :

	dialplan: memset to 0 newly alocated memory for dp partition  - suggested by Liviu Chircu


2015-11-23  Ovidiu Sas  <osas at voipembedded dot com>
	* [fb3923d] :

	dialplan: after inserting a new partition, set the pointer to the next record to NULL


2015-11-23  Ovidiu Sas  <osas at voipembedded dot com>
	* [f0a75d9] :

	dialplan: enhance debug probe


2015-11-20  Răzvan Crainea  <razvan at opensips dot org>
	* [af5db9e] :

	Merge pull request #700 from ionel-cerghit/logging_pvars
	add $cfg_file, $cfg_line pvars


2015-11-20  Cerghit Ionel  <ionel.cerghit at gmail dot com>
	* [1acea06] :

	add $cfg_file, $cfg_line pvars
	this pseudovariables store the current script line and file being executed,
	useful for logging purposes


2015-11-19  Razvan Crainea  <razvan at opensips dot org>
	* [18f5da0] :

	acc:evi: if the request failed send a missed event
	In case the acc_evi_request() function was used on a failed request
	(code < 300), send a missed event rather than the normal one.

	Reported by Trevor Francis from 46Labs


2015-11-18  Razvan Crainea  <razvan at opensips dot org>
	* [1a41bb1] :

	Makefile: use flex -B flag for versions lower than 2.5.6
	Reported by Dragomir Haralambiev


2015-11-17  Razvan Crainea  <razvan at opensips dot org>
	* [8268bf8] :

	Makefile: fix isatty() error + NICER output


2015-11-17  Razvan Crainea  <razvan at opensips dot org>
	* [2debeb8] :

	Makefile remove white spaces


2015-11-17  Razvan Crainea  <razvan at opensips dot org>
	* [19edf61] :

	fix warnings reported by Ovidiu Sas


2015-11-17  Razvan Crainea  <razvan at opensips dot org>
	* [7754003] :

	clusterer: remove exhaustive warnings
	Also re-arrange the code to be properly used


2015-11-17  Razvan Crainea  <razvan at opensips dot org>
	* [d583f0e] :

	clusterer: use proper states for machines


2015-11-17  Razvan Crainea  <razvan at opensips dot org>
	* [6816bad] :

	clusterer: convert WARN to DEBUG
	Reported by Trevor Francis from 46Labs


2015-11-13  ionutrazvanionita  <ionutionita at opensips dot org>
	* [c4ebfc8] :

	check if startup_done var is allocated before trying to set it


2015-11-13  ionutrazvanionita  <ionutionita at opensips dot org>
	* [4fdb55b] :

	fix str2int and str2sint input params check
	* if a void string was given to the function ("") 0 value was returned which was not correct
	* input values should be checked for NULL


2015-11-13  ionutrazvanionita  <ionutionita at opensips dot org>
	* [8a51273] :

	db in string or int pvar for avp_db_query()


2015-11-13  Razvan Crainea  <razvan at opensips dot org>
	* [39a7231] :

	clusterer: add version in db schema
	Thanks go to Trevor Francis from 46Labs for reporting this
	Closes #697


2015-11-12  Liviu Chircu  <liviu at opensips dot org>
	* [6baba32] :

	dialplan: improve startup error reporting
	Reported by Jeff Pyle


2015-11-12  rvlad-patrascu  <rvlad.patrascu at gmail dot com>
	* [f897e89] :

	sql_cacher: small improvements
	-improved coding style
	-more verbose error messages
	-trim whitespaces for cache entry specification
	-fix memory leak: free temporary cache entries list used for parsing


2015-11-12  Razvan Crainea  <razvan at opensips dot org>
	* [c70f765] :

	carrierroute: fix uninitialized warning


2015-11-12  Razvan Crainea  <razvan at opensips dot org>
	* [54657ba] :

	emergency: fix write signature warning


2015-11-11  Razvan Crainea  <razvan at opensips dot org>
	* [5519d76] :

	proto_hep: fixed fixed-aliasing warning


2015-11-11  Razvan Crainea  <razvan at opensips dot org>
	* [e9d2cf4] :

	tls: re-arrange code to be usable


2015-11-11  Razvan Crainea  <razvan at opensips dot org>
	* [e761f7e] :

	remove hep T8 redefinition


2015-11-11  ionutrazvanionita  <ionutionita at opensips dot org>
	* [d666051] :

	adapt siptrace module to new proto_hep module


2015-11-11  ionutrazvanionita  <ionutionita at opensips dot org>
	* [331e48d] :

	adapt sipcapture module to new proto_hep module


2015-11-11  ionutrazvanionita  <ionutionita at opensips dot org>
	* [acabbbd] :

	introducing proto_hep module; supports both hepv1/2 & hepv3


2015-11-06  Razvan Crainea  <razvan at opensips dot org>
	* [5286558] :

	dialog: increase ref when setting dialog


2015-11-05  Razvan Crainea  <razvan at opensips dot org>
	* [d69d085] :

	tm: free async context when resuming
	This commit fixes context_alloc memory leak


2015-11-04  Aron Podrigal  <aronp at guaranteedplus dot com>
	* [1882e6b] :

	Fixed sqlite avp_db_query for 'UPDATE and DELETE statements


2015-11-03  Razvan Crainea  <razvan at opensips dot org>
	* [3f3b6fd] :

	async: store cancelled and e2eack transactions in async ctx
	This fix prevents transactions from being unrefferenced when dangling
	transaction pointers remain stored in static variables.


2015-11-03  Razvan Crainea  <razvan at opensips dot org>
	* [f9eac69] :

	topo_hiding: replace LM_INFO with LM_DBG for debugging logs


2015-11-03  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [b13214d] :

	Fixed Post Script callbacks triggering in Async.
	If the async engine in TM detects a SIP retransmission, break script and run the Post Script callbacks, othewise the transaction will stay ref'ed for ever.
	Credits for spotting this problem go to Razvan Crainea.
	(cherry picked from commit 6735c276ba9c66107759fd883da6d7f6301a50f5)


2015-11-02  ionutrazvanionita  <ionutionita at opensips dot org>
	* [5f3981c] :

	fix mem leak in permissions


2015-10-30  Razvan Crainea  <razvan at opensips dot org>
	* [3c1ffb1] :

	tls_mgm: CRL support is only available starting with openssl 1.0.0


2015-10-29  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [d0f95a8] :

	Replace tlsops with tls_mgm


2015-10-29  Razvan Crainea  <razvan at opensips dot org>
	* [c18c8ea] :

	properly handle async functions when reactor cannot fullfil the request
	Credits go to 46labs for debugging this


2015-10-29  Razvan Crainea  <razvan at opensips dot org>
	* [28bcadf] :

	run destroy context when the message is sent
	Credits go to 46Labs for discovering and providing test scenarios


2015-10-28  Liviu Chircu  <liviu at opensips dot org>
	* [48b88bd] :

	Fix compiler warnings with NO_DEBUG, NO_LOG
	Also add a handy macro for future usage


2015-10-28  Razvan Crainea  <razvan at opensips dot org>
	* [a5b195e] :

	mem: fix c11 inline problems


2015-10-27  Liviu Chircu  <liviu at opensips dot org>
	* [cb5eebe] :

	TCP aliases: Fix more race conditions (issue #589)
	_tcpconn_find() returns a pointer which should never be used outside of
	TCP lock. This patch completes commit 22f4c1a2e05 by fixing two
	additional issues of the same type in tcpconn_add_alias()


2015-10-27  Liviu Chircu  <liviu at opensips dot org>
	* [3e1a1a7] :

	Fix potential memory corruption on TCP write errors
	This patch fixes a well-hidden TCP connection referencing bug which
	would only reveal itself upon running into failed TCP send() operations
	due to various reasons (e.g. full send buffer) in high-traffic environments.

	Credits to Hieu Ta and Don Steul from Jibe Mobile for detailed reporting
	and providing an adequate replication environment


2015-10-26  Razvan Crainea  <razvan at opensips dot org>
	* [a76ab7a] :

	context: add destroy function for registered ctx vars
	(cherry picked from commit 59708d51e1796c0c7e8d7b975af964fc8c9a54e2)


2015-10-26  Razvan Crainea  <razvan at opensips dot org>
	* [1785ab3] :

	fix context reusage if async is made
	This affects timers and failure routes that are supposed to reuse a static context
	(cherry picked from commit d75a0a01a87b8260dc220e1de98c2be20b7755f0)


2015-10-22  shiningstarj  <jordan at onsip dot com>
	* [3f98620] :

	Remove unnecessary fix
	One issue was with a different branch, this now resolves the only actual leak


2015-10-22  shiningstarj  <jordan at onsip dot com>
	* [182959a] :

	Fix memory leaks in notify_body.c


2015-10-22  Vlad Paiu  <vladpaiu at opensips dot org>
	* [27b0b21] :

	Fixed ACKs CSEQ number when doing in-dialog pinging
	The ACK CSEQ number does not depend on the number of pings or other in-dialog requests since the INVITE transaction, it must be the same as the INVITE
	Closes issue #680
	(cherry picked from commit 26a0a62621f6d1e4ea9fee90684a143fbfdc8494)


2015-10-21  ionutrazvanionita  <ionutionita at opensips dot org>
	* [bd11680] :

	wb_timer on DB_ONLY:don't update NULL stats;alloc contact id buffer


2015-10-20  Liviu Chircu  <liviu at opensips dot org>
	* [35451d5] :

	Merge pull request #678 from was4444/master
	fix: some sh(busybox) do not support syntax of $(< file)


2015-10-20  wxf  <xiaofeng.wang at bqvision dot com>
	* [ffb2554] :

	fix: some sh(busybox) do not support syntax of `$(< file)'


2015-10-16  ionutrazvanionita  <ionutionita at opensips dot org>
	* [0a826a9] :

	update registrar: now certain AOR, contact can be searched; easier to understand the api
	three new functions added:
		* is_registered - whether or not an AOR is inside the usrloc table
		* is_contact_registered - whether or not a contact and/or a callid is inside the location table
		* is_ip_registered - whether or not an ip from an avp/pvar is registered or not
	two old functions are now deprecated:
		* is_other_contact - replaced with is_ip_registered + all pvar support
		* registered - replaced with is_contact_registered


2015-10-16  ionutrazvanionita  <ionutionita at opensips dot org>
	* [3d91beb] :

	perl_exec(): accept variable as parameter


2015-10-15  Cerghit Ionel  <ionel.cerghit at gmail dot com>
	* [3e1dc7d] :

	profile_end_dlgs: doesn't return error message if profile is empty


2015-10-14  rvlad-patrascu  <rvlad.patrascu at gmail dot com>
	* [fbccbfd] :

	add Makefile


2015-10-14  Vlad Paiu  <vladpaiu at opensips dot org>
	* [c0f25f7] :

	Added Re-INVITE in-dialog pinging support
	Controlled via the new "R" and "r" flags available to create_dialog() as well as the new reinvite_ping_interval module param

	Work still in progress :
		- Properly handle late negociation between endpoints
		- Ensure SDP persistency ( DB and BIN replication )
		- Ensure compatibility with topology hiding ( currently the Contact header will be bogus when doing TH )
		- Whitelist or blacklist logic ( terminate call for 481 and 408 timeout, or terminate call for anything else other than 200 and 491 )
		- Extensive testing needed for race conditions specified in rfc 5407


2015-10-09  ionutrazvanionita  <ionutionita at opensips dot org>
	* [db77978] :

	fix acc: when doing no-cdr accounting, do not use CDR-generated info


2015-10-09  rvlad-patrascu  <rvlad.patrascu at gmail dot com>
	* [238d108] :

	sql_cacher: add documentation


2015-10-09  ionutrazvanionita  <ionutionita at opensips dot org>
	* [453ad33] :

	set event only on acc_evi_request


2015-10-09  ionutrazvanionita  <ionutionita at opensips dot org>
	* [c0f1507] :

	fix acc_*_request: determine the event based on flags
	* cdr flag and acc - cdr logging (E_ACC_CDR for events)
	* only acc flag - normal logging (E_ACC_EVENT for events)
	* missed calls flag - missed calls logging (E_ACC_MISSED event for events)

	The order is as stated so if you set both missed calls and acc flag, only
	acc logging shall be done


2015-10-08  ionutrazvanionita  <ionutionita at opensips dot org>
	* [10ada03] :

	fix dispatcher compiler warning


2015-10-08  rvlad-patrascu  <rvlad.patrascu at gmail dot com>
	* [2646f0a] :

	add MI reload function


2015-10-07  Cerghit Ionel  <ionel.cerghit at gmail dot com>
	* [b219273] :

	modules/dialog: fixed possible memory leak from profile_end_dlgs


2015-10-07  Cerghit Ionel  <ionel.cerghit at gmail dot com>
	* [ef1b675] :

	modules/dialog: add mi command to terminate all dialogs from a profile
	added the the profile_end_dlgs command


2015-10-06  Razvan Crainea  <razvan at opensips dot org>
	* [ec25c07] :

	ratelimit: avoid deadlock if counter is not updated


2015-10-06  Vlad Paiu  <vladpaiu at opensips dot org>
	* [7ecb192] :

	Added millisecond precision of the call duration to the CDR accounting


2015-10-06  Di-Shi Sun  <di-shi at transnexus dot com>
	* [c7e1eab] :

	Updated to support CNAM diversion use case.


2015-10-05  ionutrazvanionita  <ionutionita at opensips dot org>
	* [db25690] :

	fix compression module bugs
	* proper error messages on compress
	* correct buffer size aproximation on gzip compress(10% + 12)
	* fix bug on decompression


2015-10-02  Răzvan Crainea  <razvan at opensips dot org>
	* [05c4d39] :

	Merge pull request #659 from ionel-cerghit/extra_mem_statistics
	add configurable statistics about shared memory usage


2015-10-02  Walter Doekes  <walter+github at wjd dot nu>
	* [7849b7f] :

	dialog: Document that unset_dlg_profile can be used from request_route.
	This has been possible since 23f2322d in 1.8 and higher.


2015-10-02  ionutrazvanionita  <ionutionita at opensips dot org>
	* [165d833] :

	fix failover default value when M max results not specified in ds_select_dst/domain


2015-10-01  Sergey Khripchenko  <shripchenko at intermedia dot net>
	* [35be9c9] :

	properly handle wrong params count in fixup functions


2015-10-01  Sergey KHripchenko  <shripchenko at intermedia dot net>
	* [0a347bd] :

	Merge pull request #2 from OpenSIPS/master
	Merge upstream OpenSIPS/master to fork


2015-10-01  Cerghit Ionel  <ionel.cerghit at gmail dot com>
	* [d7ecb73] :

	add configurable statistics about shared memory usage
	groups of modules can be defined in the .cfg file that would lead
	to statistics being generated with the number of fragments, used memory
	and real-used memory by those modules.
	The global fragments statistics now show the nuber of fragments alocated
	and in use.(for q_malloc, f_malloc) Please enter the commit message for your changes. Lines starting Please enter the commit message for your changes. Lines starting


2015-09-30  Bogdan Andrei IANCU  <bogdan at opensips dot org>
	* [98dccc5] :

	Merge pull request #654 from eseanucristian/tls-rework
	Tls rework


2015-09-30  Bogdan Andrei IANCU  <bogdan at opensips dot org>
	* [5a07ba0] :

	Merge pull request #658 from eseanucristian/clusterer-schema
	clusterer: fix readme


2015-09-30  Eseanu Marius Cristian  <eseanu.cristian at gmail dot com>
	* [c5b3fe3] :

	tls_mgm: remove unnecessary api functions


2015-09-30  Eseanu Marius Cristian  <eseanu.cristian at gmail dot com>
	* [47243b3] :

	clusterer: fix readme


2015-09-30  Eseanu Marius Cristian  <eseanu.cristian at gmail dot com>
	* [ff5ab68] :

	tls: fix locking issues


2015-09-30  Eseanu Marius Cristian  <eseanu.cristian at gmail dot com>
	* [b419b56] :

	config.h: TLS_PKEY_FILE and TLS_CERT_FILE have different values


2015-09-30  Eseanu Marius Cristian  <eseanu.cristian at gmail dot com>
	* [571fd70] :

	tls_mgm: add database schema


2015-09-30  ionutrazvanionita  <ionutionita at opensips dot org>
	* [db84363] :

	on DB error: avoid double free;release only in destroy function


2015-09-30  Eseanu Marius Cristian  <eseanu.cristian at gmail dot com>
	* [a19b772] :

	tls_mgm: remove unnecessary DBG messages


2015-09-30  Eseanu Marius Cristian  <eseanu.cristian at gmail dot com>
	* [1d5dacc] :

	tls_mgm: can not change domain attributes from the script when the db mode is enabled


2015-09-30  ionutrazvanionita  <ionutionita at opensips dot org>
	* [b4ffc0d] :

	fix possible non '\0' terminated table name bug


2015-09-29  ionutrazvanionita  <ionutionita at opensips dot org>
	* [6ed6cd7] :

	memset all connection memory to 0 to avoid unwanted values


2015-09-29  Eseanu Marius Cristian  <eseanu.cristian at gmail dot com>
	* [2012468] :

	tls_mgm: update readme


2015-09-28  Ionut Ionita  <ionutionita at opensips dot org>
	* [4488d95] :

	Merge pull request #653 from wdoekes/wjd-exec_admindoc_safety
	exec: Clarify what not to do with exec().


2015-09-27  Walter Doekes  <walter+github at wjd dot nu>
	* [1051075] :

	exec: Clarify what not to do with exec().
	See:
	https://github.com/OpenSIPS/opensips/pull/375#discussion-diff-19524753


2015-09-25  rvlad-patrascu  <rvlad.patrascu at gmail dot com>
	* [0f8540e] :

	add reload version int in cachedb for full caching reload


2015-09-25  Eseanu Marius Cristian  <eseanu.cristian at gmail dot com>
	* [23f767f] :

	tls_mgm: updated readme


2015-09-25  Eseanu Marius Cristian  <eseanu.cristian at gmail dot com>
	* [6826357] :

	add db support for tls


2015-09-24  Bogdan Andrei IANCU  <bogdan at opensips dot org>
	* [1e1ea14] :

	Merge pull request #648 from dsanders11/patch-3
	Dispatcher module should honor db_default_url


2015-09-24  Bogdan Andrei IANCU  <bogdan at opensips dot org>
	* [d6cbbff] :

	Merge pull request #649 from dsanders11/patch-4
	Dialplan module should honor db_default_url


2015-09-24  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [cdc5803] :

	Check if at least one DB URL is provided in avpops
	Reported by David Sanders (@dsanders11).
	Closes #644 .
	(cherry picked from commit 34fab0d51ffb473b25871eddd3acef88664c4ec4)


2015-09-24  David Sanders  <dsanders11 at ucsbalum dot com>
	* [566d4db] :

	Dialplan module should honor db_default_url


2015-09-24  David Sanders  <dsanders11 at ucsbalum dot com>
	* [684846d] :

	Dispatcher module should honor db_default_url


2015-09-23  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [16019d3] :

	Fix usage of t_reply_with_body() with reply lumps.
	Force pushing all reply lumps (headers added to the reply) when using t_reply_with_body() - the function takes the msg from the transaction, not the real msg; so we need to be sure that the msg in transaction was fully cloned.

	Reported by Giuseppe Cardone on mailing list.
	(cherry picked from commit 783a18a8df4b8e9dcfd147ec0c63caceeeaa7bb9)


2015-09-22  rvlad-patrascu  <rvlad.patrascu at gmail dot com>
	* [f59d4bb] :

	improve on demand loading


2015-09-22  ionutrazvanionita  <ionutionita at opensips dot org>
	* [8a745d9] :

	uri module: remove parameter with given key script function


2015-09-22  ionutrazvanionita  <ionutionita at opensips dot org>
	* [fa854c4] :

	no need to set proto since this is determined in parse_proto function


2015-09-22  Bogdan Andrei IANCU  <bogdan at opensips dot org>
	* [9874ff1] :

	Merge pull request #627 from eseanucristian/master
	Clusterer readme


2015-09-21  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [a6a896f] :

	Fix auth via B2B module.
	Remove the bogus hooks placed by TM in the outbound SIP buffer (as the buffer may change in local route) and rebuild the B2B invite (with credentials) from the initial sent invite.
	Reported by @DMOsipov and @xxReaper on GITHUB.
	Closing #577 and #628 .


2015-09-21  Eseanu Marius Cristian  <eseanu.cristian at gmail dot com>
	* [70c4701] :

	usrloc: updated readme


2015-09-21  Eseanu Marius Cristian  <eseanu.cristian at gmail dot com>
	* [23d0a4e] :

	ratelimit: updated readme


2015-09-21  Eseanu Marius Cristian  <eseanu.cristian at gmail dot com>
	* [09de554] :

	dialog: updated readme


2015-09-18  ionutrazvanionita  <ionutionita at opensips dot org>
	* [6a565b8] :

	also check input parameter for exec_async


2015-09-18  ionutrazvanionita  <ionutionita at opensips dot org>
	* [8f5aab6] :

	correctly check input parameter in exec_sync; close pipe with pclose to avoid leaving unfreed structs in kernel; correctly handle errors in exec_syc


2015-09-17  rvlad-patrascu  <rvlad.patrascu at gmail dot com>
	* [604b67a] :

	add per process  db handlers list


2015-09-16  rvlad-patrascu  <rvlad.patrascu at gmail dot com>
	* [5012365] :

	sql_cacher: immplement on demand caching


2015-09-16  Razvan Crainea  <razvan at opensips dot org>
	* [72926c2] :

	Merge branch 'tls-rework'


2015-09-16  Răzvan Crainea  <razvan at opensips dot org>
	* [67143b1] :

	Merge pull request #636 from mgwilliams/debian_init
	add missing space in debian/opensips.init


2015-09-16  Matthew Williams  <mgwilliams at gmail dot com>
	* [fd11c7d] :

	add missing space in debian/opensips.init


2015-09-15  Razvan Crainea  <razvan at opensips dot org>
	* [878f79e] :

	tls-modules: update readme


2015-09-15  Razvan Crainea  <razvan at opensips dot org>
	* [5ff322d] :

	Makefile-readme: allow different xsl-stylesheets versions


2015-09-14  Razvan Crainea  <razvan at opensips dot org>
	* [bbc2c63] :

	Merge branch 'saghul-xcap-doc-size'


2015-09-14  Razvan Crainea  <razvan at opensips dot org>
	* [70a587f] :

	dbschema: re-generate SQL scripts


2015-09-14  Razvan Crainea  <razvan at opensips dot org>
	* [00489e0] :

	ssl cert: remove passphrase


2015-09-14  Saúl Ibarra Corretgé  <saghul at gmail dot com>
	* [d419f05] :

	xcap: make the 'doc' column a LONGBLOB on MySQL
	A normal-sized XCAP document with external references easily exceedes
	the default column size, leading to all sorts of problems.


2015-09-14  Razvan Crainea  <razvan at opensips dot org>
	* [a9486e5] :

	tls: remove unnecessary TLS init


2015-09-14  Eseanu Marius Cristian  <eseanu.cristian at gmail dot com>
	* [d71e8f2] :

	tls_mgm: update dependency list; modify mod_init


2015-09-14  Razvan Crainea  <razvan at opensips dot org>
	* [aa7429e] :

	regex: release the memory for unused pattern strings
	Thanks go to Federico Edorna <fedorna@anura.com.ar> for reporting and giving
	the solution for this memory leak.


2015-09-11  Razvan Crainea  <razvan at opensips dot org>
	* [0faac6a] :

	Revert "Merge pull request #629 from eseanucristian/tls_rework"
	This reverts commit 4a807466714b7228f074e46e0bc5e5669f02d4ee, reversing
	changes made to 579a82b7977e2ee8115048a255dfbdfd0aeb2676.


2015-09-11  Razvan Crainea  <razvan at opensips dot org>
	* [5da100b] :

	emergency: fix compile warning


2015-09-11  Eseanu Marius Cristian  <eseanu.cristian at gmail dot com>
	* [b9b4aab] :

	tls_mgm: added readme


2015-09-11  Eseanu Marius Cristian  <eseanu.cristian at gmail dot com>
	* [ace2d5f] :

	proto_tls: readme updated


2015-09-11  Eseanu Marius Cristian  <eseanu.cristian at gmail dot com>
	* [b2b25a1] :

	tls_mgm: fixed exports; improved find_server_domain api function


2015-09-11  Eseanu Marius Cristian  <eseanu.cristian at gmail dot com>
	* [35343cd] :

	proto_tls: added tls_mgm dependency; simplified tls_conn_init


2015-09-11  root  <evillaron at gmail dot com>
	* [3a80eb4] :

	emergency -- last test cases


2015-09-11  Razvan Crainea  <razvan at opensips dot org>
	* [1d411bb] :

	dialog: return 0 profile size if no value in cache
	Reported by Damien Sanders
	Closes #562


2015-09-11  Razvan Crainea  <razvan at opensips dot org>
	* [6bf0cff] :

	packaging: fix to properly build on jessie


2015-09-11  Vlad Paiu  <vladpaiu at opensips dot org>
	* [2f6abab] :

	Fixed increasing the CSEQ for in-dialog generated message when uac_auth is used in combination with the dialog module
	(cherry picked from commit d9d254a2fe93700748dd4cc5268409647a209e7f)


2015-09-11  Eseanu Marius Cristian  <eseanu.cristian at gmail dot com>
	* [7a32301] :

	proto_tls: new module tls_mgm


2015-09-11  Ovidiu Sas  <osas at voipembedded dot com>
	* [fbc2f78] :

	nathelper: fix some -Wformat compiler warnings


2015-09-11  ionutrazvanionita  <ionutionita at opensips dot org>
	* [0038231] :

	fix possible leak cause by sqlite3_closev2; easier to understand error message on sqlite3_column_metadata


2015-09-11  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [752dfc2] :

	Fix callid for "ul_add" MI command.
	As now the callid is updatable, we need to provide a callid string.
	Reported by Stas Kobzar
	(cherry picked from commit 02e886f34ba0a6a147ef4fda0035fb1179bbf835)


2015-09-11  Di-Shi Sun  <di-shi at transnexus dot com>
	* [9fad08f] :

	1. Updated to support reporting media addresses, proxy local addresses and provider post dial delay. 2. Updated to support CNAM.


2015-09-11  Liviu Chircu  <liviu at opensips dot org>
	* [1586af2] :

	Fix `make menuconfig` compile warnings


2015-09-11  Liviu Chircu  <liviu at opensips dot org>
	* [440b44f] :

	DBG_LOCK compile flag: Add menuconfig help line


2015-09-11  ionutrazvanionita  <ionutionita at opensips dot org>
	* [633f6b6] :

	added hex2int 64 bit versions


2015-09-11  ionutrazvanionita  <ionutionita at opensips dot org>
	* [d6d5b83] :

	fix unique label in nathelper


2015-09-11  ionutrazvanionita  <ionutionita at opensips dot org>
	* [b8cfd17] :

	stateful ping for nathelper


2015-09-11  Saúl Ibarra Corretgé  <saghul at gmail dot com>
	* [b0f65d1] :

	build: fix setting LIBDIR correctly


2015-09-11  Saúl Ibarra Corretgé  <saghul at gmail dot com>
	* [c8ecd8c] :

	build: fix setting HOST_ARCH on Solaris


2015-09-11  Bogdan Andrei IANCU  <bogdan at opensips dot org>
	* [0bbb099] :

	Merge pull request #588 from jalung/patch-4
	Update nathelper.c
	(cherry picked from commit 079de59850d9b9e199c5ff5285ba11600a8d2faf)


2015-09-11  Razvan Crainea  <razvan at opensips dot org>
	* [2b5aeb0] :

	perl: Makefile NICER implementation


2015-09-11  Cerghit Ionel  <ionel.cerghit at gmail dot com>
	* [6af5a11] :

	lock_ops.h: fixed typo for SYSV semaphores


2015-09-11  Razvan Crainea  <razvan at opensips dot org>
	* [62d4ace] :

	copyright: remove duplicate license


2015-09-11  Razvan Crainea  <razvan at opensips dot org>
	* [9df20a3] :

	travis: run in containers


2015-09-11  Razvan Crainea  <razvan at opensips dot org>
	* [7235629] :

	copyright: remove flex generated files


2015-09-11  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [cb18eb6] :

	Re-try the writing on EAGAIN.
	As the UDP sockets were moved to non blocking, sendto() may generate EAGAIN if the prev write operation was not yet completed by the stack.


2015-09-11  Cerghit Ionel  <ionel.cerghit at gmail dot com>
	* [c1c277a] :

	lock_ops.h: added support for debugging locks
	with the flag DBG_LOCK set(from menuconfig for example), with each
	lock will be stored information regarding the place from where the
	lock was aquired (file, function, line)


2015-09-11  Steve Frécinaux  <sfrecinaux at beip dot be>
	* [9144672] :

	Debian: add package opensips-rest-module
	This package contains the rest_client.so module.


2015-09-11  Steve Frécinaux  <sfrecinaux at beip dot be>
	* [ee9dfb5] :

	Debian: add systemd unit file.
	This unit file supports the configuration check before restart and
	retains the P_MEMORY and S_MEMORY variable usage.

	Since both the systemd configuration and the init script take care of
	creating /var/run/opensips, the opensips.dirs file has been removed.


2015-09-11  Steve Frécinaux  <sfrecinaux at beip dot be>
	* [185c15d] :

	Debian: update dependencies to build on Jessie.
	Unfortunately, the lua module doesn't build anymore because it depends
	on libmemcache, which is not present in Jessie. The other
	memcached-related modules depend on libmemcached, which is fine.

	See https://github.com/OpenSIPS/opensips/issues/580


2015-09-11  Steve Frécinaux  <sfrecinaux at beip dot be>
	* [eeeadd3] :

	Debian: do not make opensips-module-mysql depend on mysql-client
	This makes it impossible to use opensips with mariadb.


2015-09-11  Steve Frécinaux  <sfrecinaux at beip dot be>
	* [c86c386] :

	Debian: make the init script use LSB functions.
	This is more consistent with the other init scripts, and most
	importantly fixes the behaviour of the init script when it comes to
	systemd-enabled systems.


2015-09-11  Ryan Bullock  <rrb3942 at gmail dot com>
	* [85c42c2] :

	Remove use of deprecated synchronous mode in couchbase


2015-09-10  Sergey Khripchenko  <shripchenko at intermedia dot net>
	* [39e34d4] :

	* allow alias_db_find() to be called from startup route (f.e. to pre-potulate dbtext cache for a table) * allow alias_db_find(,input,) parameter to be strng or PV or mix of them instead of just PV


2015-09-10  Sergey KHripchenko  <shripchenko at intermedia dot net>
	* [505fcb2] :

	Merge pull request #1 from OpenSIPS/master
	Update fork to origin


2015-09-10  ionutrazvanionita  <ionutionita at opensips dot org>
	* [bf1d089] :

	sqlite: store int values as bigint, but set their type to int


2015-09-10  ionutrazvanionita  <ionutionita at opensips dot org>
	* [97491fc] :

	fix nathelper flag check


2015-09-10  ionutrazvanionita  <ionutionita at opensips dot org>
	* [ab0e7c4] :

	fix sqlite bug: autoincrement check skipped on raw queries


2015-09-09  ionutrazvanionita  <ionutionita at opensips dot org>
	* [3df19e5] :

	Revert "retrieve table name from select queries on raw_query in order to use sqlite library functions later"
	This reverts commit 779996d9b37ad11f01420961ac708c6daa4d2828.


2015-09-09  ionutrazvanionita  <ionutionita at opensips dot org>
	* [a5e4a71] :

	Revert "sqlite raw query: fix table name parsing"
	This reverts commit 46c2f42a5f28dd8c8d29c2a73d352b51e04e0938.


2015-09-09  ionutrazvanionita  <ionutionita at opensips dot org>
	* [46c2f42] :

	sqlite raw query: fix table name parsing


2015-09-09  ionutrazvanionita  <ionutionita at opensips dot org>
	* [779996d] :

	retrieve table name from select queries on raw_query in order to use sqlite library functions later


2015-09-09  Razvan Crainea  <razvan at opensips dot org>
	* [3d7c6c2] :

	emergency: fix compile warning


2015-09-09  Stas Kobzar  <stas at modulis dot ca>
	* [ec8ff54] :

	Fixing bug in debian init script.


2015-09-08  Răzvan Crainea  <razvan at opensips dot org>
	* [4a80746] :

	Merge pull request #629 from eseanucristian/tls_rework
	Tls rework


2015-09-08  Eseanu Marius Cristian  <eseanu.cristian at gmail dot com>
	* [b2ac11f] :

	tls_mgm: added readme


2015-09-08  Eseanu Marius Cristian  <eseanu.cristian at gmail dot com>
	* [2f59c7a] :

	proto_tls: readme updated


2015-09-08  Eseanu Marius Cristian  <eseanu.cristian at gmail dot com>
	* [5919f27] :

	tls_mgm: fixed exports; improved find_server_domain api function


2015-09-08  Eseanu Marius Cristian  <eseanu.cristian at gmail dot com>
	* [0579d43] :

	proto_tls: added tls_mgm dependency; simplified tls_conn_init


2015-09-08  root  <evillaron at gmail dot com>
	* [579a82b] :

	emergency -- last test cases


2015-09-07  rvlad-patrascu  <rvlad.patrascu at gmail dot com>
	* [4cc712a] :

	add function to get value from cachedb; full caching completed


2015-09-04  Razvan Crainea  <razvan at opensips dot org>
	* [7781342] :

	dialog: return 0 profile size if no value in cache
	Reported by Damien Sanders
	Closes #562


2015-09-04  vladpaiu  <vladpaiu at opensips dot org>
	* [1cb5a2e] :

	Merge pull request #560 from rrb3942/master
	Remove use of deprecated synchronous mode in couchbase


2015-09-04  Razvan Crainea  <razvan at opensips dot org>
	* [230d97a] :

	packaging: fix to properly build on jessie


2015-09-04  Razvan Crainea  <razvan at opensips dot org>
	* [65bfc1a] :

	Merge branch 'BeIP-debian-jessie'


2015-09-04  Razvan Crainea  <razvan at opensips dot org>
	* [cda3986] :

	Merge branch 'debian-jessie' of https://github.com/BeIP/opensips into BeIP-debian-jessie


2015-09-04  Vlad Paiu  <vladpaiu at opensips dot org>
	* [086fe7c] :

	Fixed increasing the CSEQ for in-dialog generated message when uac_auth is used in combination with the dialog module
	(cherry picked from commit d9d254a2fe93700748dd4cc5268409647a209e7f)


2015-09-04  Eseanu Marius Cristian  <eseanu.cristian at gmail dot com>
	* [40f5841] :

	proto_tls: new module tls_mgm


2015-09-03  Razvan Crainea  <razvan at opensips dot org>
	* [f36a8a1] :

	add secure websocket support in parser


2015-09-03  Razvan Crainea  <razvan at opensips dot org>
	* [a889f1e] :

	proto_ws: refactor code
	Split the connection specific logic from the WS implementation


2015-09-02  Ovidiu Sas  <osas at voipembedded dot com>
	* [28a7b2b] :

	nathelper: fix some -Wformat compiler warnings


2015-09-02  ionutrazvanionita  <ionutionita at opensips dot org>
	* [eac7b82] :

	fix possible leak cause by sqlite3_closev2; easier to understand error message on sqlite3_column_metadata


2015-09-02  Razvan Crainea  <razvan at opensips dot org>
	* [a2e73ba] :

	fix WS SRV scheme according to the draft


2015-09-02  rvlad-patrascu  <rvlad.patrascu at gmail dot com>
	* [6c22820] :

	remove duplicate code by using macro in parse_cache_entries function


2015-09-02  rvlad-patrascu  <rvlad.patrascu at gmail dot com>
	* [e706558] :

	sql_cacher: add sql_cached_value pseudo-variable; parse pvar name and optimize for next pvar get


2015-09-02  Razvan Crainea  <razvan at opensips dot org>
	* [77f77e3] :

	proto_tls: split tls init in different header


2015-09-01  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [3191ed2] :

	Fix callid for "ul_add" MI command.
	As now the callid is updatable, we need to provide a callid string.
	Reported by Stas Kobzar
	(cherry picked from commit 02e886f34ba0a6a147ef4fda0035fb1179bbf835)


2015-09-01  Di-Shi Sun  <di-shi at transnexus dot com>
	* [0fc5816] :

	1. Updated to support reporting media addresses, proxy local addresses and provider post dial delay. 2. Updated to support CNAM.


2015-08-31  Liviu Chircu  <liviu at opensips dot org>
	* [b9fe3c2] :

	Fix `make menuconfig` compile warnings


2015-08-31  Liviu Chircu  <liviu at opensips dot org>
	* [4bf31be] :

	DBG_LOCK compile flag: Add menuconfig help line


2015-08-31  ionutrazvanionita  <ionutionita at opensips dot org>
	* [d6129b6] :

	added hex2int 64 bit versions


2015-08-31  ionutrazvanionita  <ionutionita at opensips dot org>
	* [56d17be] :

	fix unique label in nathelper


2015-08-31  ionutrazvanionita  <ionutionita at opensips dot org>
	* [a1992cd] :

	stateful ping for nathelper


2015-08-31  Liviu Chircu  <liviu at opensips dot org>
	* [89d06e8] :

	Merge pull request #621 from ionel-cerghit/locking-debug
	lock_ops.h: added support for debugging locks


2015-08-29  Bogdan Andrei IANCU  <bogdan at opensips dot org>
	* [b4d60f7] :

	Merge pull request #626 from saghul/fix-libdir
	Fix setting LIBDIR


2015-08-28  Saúl Ibarra Corretgé  <saghul at gmail dot com>
	* [3d485cd] :

	build: fix setting LIBDIR correctly


2015-08-28  Saúl Ibarra Corretgé  <saghul at gmail dot com>
	* [63bccb4] :

	build: fix setting HOST_ARCH on Solaris


2015-08-28  Bogdan Andrei IANCU  <bogdan at opensips dot org>
	* [f0fb16f] :

	Merge pull request #588 from jalung/patch-4
	Update nathelper.c
	(cherry picked from commit 079de59850d9b9e199c5ff5285ba11600a8d2faf)


2015-08-28  Razvan Crainea  <razvan at opensips dot org>
	* [7ab18e2] :

	perl: Makefile NICER implementation


2015-08-28  Cerghit Ionel  <ionel.cerghit at gmail dot com>
	* [0d939a2] :

	lock_ops.h: fixed typo for SYSV semaphores


2015-08-28  Razvan Crainea  <razvan at opensips dot org>
	* [7d6cc39] :

	copyright: remove duplicate license


2015-08-28  Razvan Crainea  <razvan at opensips dot org>
	* [e11409d] :

	travis: run in containers


2015-08-27  Razvan Crainea  <razvan at opensips dot org>
	* [b8fbf7f] :

	copyright: remove flex generated files


2015-08-27  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [d3aaf44] :

	Re-try the writing on EAGAIN.
	As the UDP sockets were moved to non blocking, sendto() may generate EAGAIN if the prev write operation was not yet completed by the stack.


2015-08-27  Cerghit Ionel  <ionel.cerghit at gmail dot com>
	* [a5e23d8] :

	lock_ops.h: added support for debugging locks
	with the flag DBG_LOCK set(from menuconfig for example), with each
	lock will be stored information regarding the place from where the
	lock was aquired (file, function, line)


2015-08-27  Razvan Crainea  <razvan at opensips dot org>
	* [5e19a94] :

	travis: rename liblua5.1-dev to liblua5.1-0-dev


2015-08-27  Razvan Crainea  <razvan at opensips dot org>
	* [1fac483] :

	travis: switch to legacy until dependencies are added upstream


2015-08-27  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [3cb77f9] :

	Fix warning of printing uint64_t variables.


2015-08-27  Bogdan Andrei IANCU  <bogdan at opensips dot org>
	* [491e38c] :

	Merge pull request #620 from eseanucristian/clusterer-schema
	Clusterer dependencies


2015-08-27  Eseanu Marius Cristian  <eseanu.cristian at gmail dot com>
	* [a9a8312] :

	generated sql scripts for clusterer module


2015-08-27  Eseanu Marius Cristian  <eseanu.cristian at gmail dot com>
	* [98c0533] :

	added default database schema for clusterer module


2015-08-27  Eseanu Marius Cristian  <eseanu.cristian at gmail dot com>
	* [f614272] :

	ratelimit: added clusterer dependencies


2015-08-27  Eseanu Marius Cristian  <eseanu.cristian at gmail dot com>
	* [73f5fd3] :

	dialog: added clusterer dependencies


2015-08-27  Eseanu Marius Cristian  <eseanu.cristian at gmail dot com>
	* [1fcb875] :

	usrloc: added clusterer dependencies


2015-08-27  Razvan Crainea  <razvan at opensips dot org>
	* [489c300] :

	travis: use FASTER compile time


2015-08-27  Razvan Crainea  <razvan at opensips dot org>
	* [a047da9] :

	Revert "travis: install dependencies in a restricted way"
	This reverts commit f5850238d4f1e7d09c9e803480284aa94827ed8f.


2015-08-27  Razvan Crainea  <razvan at opensips dot org>
	* [f585023] :

	travis: install dependencies in a restricted way


2015-08-27  Razvan Crainea  <razvan at opensips dot org>
	* [4a240df] :

	travis: use container-based infrastructure


2015-08-26  Eseanu Marius Cristian  <eseanu.cristian at gmail dot com>
	* [95d30de] :

	clusterer: changed default name for a column


2015-08-26  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [db65681] :

	Fix migration of location table to BIGINT index.
	DBTEXT accepts autoincrement for BIGINT columns too.
	Closes #617
	Reported by @arovetto


2015-08-25  Eseanu Marius Cristian  <eseanu.cristian at gmail dot com>
	* [d12e877] :

	clusterer: added dependencies


2015-08-25  Liviu Chircu  <liviu at opensips dot org>
	* [82c3fd6] :

	-c and -C binary args: Properly validate module dependencies
	Along with script syntax validation, the "-c" and "-C" binary arguments should
	also ensure all necessary modules are loaded.

	Reported by Maxim Sobolev
	Fixes #616


2015-08-25  Razvan Crainea  <razvan at opensips dot org>
	* [aad2e1c] :

	rtpproxy: dialog is not a mandatory dependency


2015-08-25  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [134dd72] :

	Merge branch 'eseanucristian-clusterer'


2015-08-25  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [e0493bf] :

	Merge branch 'clusterer' of https://github.com/eseanucristian/opensips into eseanucristian-clusterer
	Conflicts:
		modules/ratelimit/ratelimit_helper.c


2015-08-25  Răzvan Crainea  <razvan at opensips dot org>
	* [6b265e8] :

	Merge pull request #613 from chiforbogdan/tls-crl-and-serial
	Tls crl and serial


2015-08-25  Bogdan Andrei IANCU  <bogdan at opensips dot org>
	* [21a07ba] :

	Merge pull request #615 from sippy/master
	Fix build on FreeBSD.


2015-08-25  Răzvan Crainea  <razvan at opensips dot org>
	* [c0a0f12] :

	Merge pull request #614 from sippy/2.1
	Fix build on FreeBSD (2.1 branch)
	(cherry picked from commit 76a0a56347cfc77775e37fe9944de1fd8c37798f)


2015-08-24  Maksym Sobolyev  <sobomax at sippysoft dot com>
	* [e348489] :

	Fix build on FreeBSD.


2015-08-24  Bogdan Chifor  <chiforbogdan86 at gmail dot com>
	* [d532f41] :

	Extract serial number from certificate subject (TLS module)
	Serial number field from the certificate subject was extracted and
	exposed
	in a script variable. Even though this certificate DN field in quite
	unusual it could be used for a granular client authorization after the
	TLS process. The following script variables were added:
	tls_peer_subject_serial and tls_my_subject_serial. The variable
	tls_peer_subject_serial contains the client certificate subject serial
	number and tls_my_subject_serial contains the server certificate subject
	serial number. In the following example is presented a certificate CN
	field which has a serial number:
	CN=opensips_user/serialNumber=129/emailAddress=opensips_user@opensips.com


2015-08-24  Bogdan Chifor  <chiforbogdan86 at gmail dot com>
	* [5503634] :

	Add CRL (Certificate Revocation List) verification for TLS
	CRL verification was added in the proto tls module. By adding this
	feature revoked client certificates can be detected during the TLS
	process, thus permitting a robust security mechanism. The following
	parameters where added to the proto tls module in the configuration
	script: crl_dir and crl_check_all. The crl_dir parameter specifies the
	directory which contains the CRL files (multiple CRL files can be
	added).
	The crl_check_all parameter must be 0 or 1 and specifies whether all the
	certificates from the chain are verified against a CRL or not.
	By default, CRL verification is enabled only for client certificates
	(or when crl_check_all is 0). If crl_check_all is 1 then the
	issuer (chain) certificates are also verified against the given CRL
	files.


2015-08-24  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [019494b] :

	Removed useless 'mi_xmlrpc_ng' prefix in param names


2015-08-24  Bogdan Andrei IANCU  <bogdan at opensips dot org>
	* [e7d27b8] :

	Merge pull request #611 from ionel-cerghit/mi_xmlrpc_ng_format
	mi_xmlrpc_ng: updated documentation


2015-08-24  Cerghit Ionel  <ionel.cerghit at gmail dot com>
	* [021b18a] :

	mi_xmlrpc_ng: updated documentation the documentation now offers information about the module parameter used to switch between the output formating


2015-08-24  Bogdan Andrei IANCU  <bogdan at opensips dot org>
	* [33ab7b2] :

	Merge pull request #610 from shripchenko/lb_fl_random
	A new flag for LB module lb_start() function to pick a rand()'om destinations with equal load


2015-08-24  Bogdan Andrei IANCU  <bogdan at opensips dot org>
	* [30d5f9c] :

	Merge pull request #609 from shripchenko/dbtext_dbt_reload
	New MI command dbt_reload - causes db_text module to reload cached tables from disk.


2015-08-24  Bogdan Andrei IANCU  <bogdan at opensips dot org>
	* [9ee1c23] :

	Merge pull request #608 from shripchenko/dbtext_bugs
	two bugs fixed in db_text module


2015-08-24  Sergey Khripchenko  <shripchenko at intermedia dot net>
	* [e904af7] :

	+ documentation of lb_start() 's' flag


2015-08-24  Sergey Khripchenko  <shripchenko at intermedia dot net>
	* [3d00c09] :

	A new flag for LB module lb_start() function to pick a rand()'om destinations with equal load, if multiple destinations selected.
	This could help to offload an excessive load from first destination and distribute load in situations when calls duration is near to zero (like failed calls)
	and counts in resources are almost always zero and does not reflect an actual calls flow.

	Already discussed in PR: OpenSIPS/opensips#345


2015-08-24  Sergey Khripchenko  <shripchenko at intermedia dot net>
	* [8cfe55f] :

	New MI command dbt_reload - causes db_text module to reload cached tables from disk.
	Depending on parameters it could be a whole cache or a specified database or a single table.
	If any table cannot be reloaded from disk - the old version
	preserved and error reported.


2015-08-24  Eseanu Marius Cristian  <eseanu.cristian at gmail dot com>
	* [69cc93e] :

	dialog: readme - added necessary parameters to use clusterer api


2015-08-24  Eseanu Marius Cristian  <eseanu.cristian at gmail dot com>
	* [33603b1] :

	clusterer: changed data structure


2015-08-24  Eseanu Marius Cristian  <eseanu.cristian at gmail dot com>
	* [745d362] :

	clusterer: readme


2015-08-24  Eseanu Marius Cristian  <eseanu.cristian at gmail dot com>
	* [c52c4e9] :

	ratelimit: fixed segmentation fault when server_timeout is received


2015-08-24  Eseanu Marius Cristian  <eseanu.cristian at gmail dot com>
	* [3db517b] :

	dialog: added auth_check and timeout parameters


2015-08-24  Eseanu Marius Cristian  <eseanu.cristian at gmail dot com>
	* [e01751d] :

	ratelimit: added auth_check and timeout parameters


2015-08-24  Eseanu Marius Cristian  <eseanu.cristian at gmail dot com>
	* [2dd5b4c] :

	usrloc: improved clusterer api usage for replication


2015-08-24  Eseanu Marius Cristian  <eseanu.cristian at gmail dot com>
	* [778fe7d] :

	ratelimit: improved clusterer api usagefor replication


2015-08-24  Eseanu Marius Cristian  <eseanu.cristian at gmail dot com>
	* [156096b] :

	dialog: improved clusterer api usage for replication


2015-08-24  Eseanu Marius Cristian  <eseanu.cristian at gmail dot com>
	* [f088632] :

	usrloc: clusterer_api is used for replication


2015-08-24  Eseanu Marius Cristian  <eseanu.cristian at gmail dot com>
	* [6c496d4] :

	ratelimit: clusterer api usage for replication


2015-08-24  Eseanu Marius Cristian  <eseanu.cristian at gmail dot com>
	* [22c720d] :

	dialog:added clusterer api usage for replication


2015-08-24  Razvan Crainea  <razvan at opensips dot org>
	* [d2c08e9] :

	fix gcc 5.2 warnings


2015-08-24  Sergey Khripchenko  <shripchenko at intermedia dot net>
	* [de9224b] :

	two bugs fixed in db_text module + incorrect use of strncasecmp() + lost pkg_malloc


2015-08-22  Razvan Crainea  <razvan at opensips dot org>
	* [d13c844] :

	add packaging/ copyrights
	(cherry picked from commit cbfbed00dd9be7f0287decfdbc9f1a3b2fed0337)


2015-08-21  Razvan Crainea  <razvan at opensips dot org>
	* [9073e5b] :

	debian: Makefile skip tests (cherry picked from commit 446e44c3aff6f8e82d29620ef33caadb202a37d9)
	Conflicts:
		packaging/debian/changelog


2015-08-21  Razvan Crainea  <razvan at opensips dot org>
	* [2d64c2c] :

	update copyright files
	(cherry picked from commit eda0ae2088d64a69028d67c6907cb39f0b998049)


2015-08-20  Razvan Crainea  <razvan at opensips dot org>
	* [4bb9e46] :

	debian update build dependency


2015-08-20  Razvan Crainea  <razvan at opensips dot org>
	* [641338b] :

	debian/copyright: remove gentoo files
	They are not included in the tar anyway
	(cherry picked from commit 871d4ebc857ba747d7c9aca8b165d92bc35d6e45)


2015-08-20  Razvan Crainea  <razvan at opensips dot org>
	* [3bf5519] :

	remove invalid Makefile line
	(cherry picked from commit 4e1aa91b826ccdf7725fe00c70124f0066692d79)


2015-08-20  Răzvan Crainea  <razvan at opensips dot org>
	* [3099f80] :

	debian: move to new dh_ packaging system
	(cherry picked from commit f45a92998cc9a787b9936753a4965f18edc915b1)


2015-08-20  Răzvan Crainea  <razvan at opensips dot org>
	* [6dbf6e1] :

	copyright: fix license names
	(cherry picked from commit b595b829c3f202cad0d42af032c30368dde86bdb)


2015-08-20  Răzvan Crainea  <razvan at opensips dot org>
	* [7c261a9] :

	copyright: sync with Julien's work
	http://anonscm.debian.org/viewvc/pkg-voip/opensips/trunk/debian/copyright?view=markup
	(cherry picked from commit ba9c9328e56bb5cc62251b77e7d934250e0cf2a1)


2015-08-20  Răzvan Crainea  <razvan at opensips dot org>
	* [8690c30] :

	licence: add BSD and MIT licences


2015-08-20  Răzvan Crainea  <razvan at opensips dot org>
	* [4dbfb6b] :

	licence: update FSF address


2015-08-20  Răzvan Crainea  <razvan at opensips dot org>
	* [cf81803] :

	radius: move custom install inside module
	Thanks go to Nick Altman for reporting this


2015-08-19  Razvan Crainea  <razvan at opensips dot org>
	* [70a34b9] :

	tm: fix bavp leaks in case of error
	Thanks go to Mickael Marrache for spotting and debugging


2015-08-19  Razvan Crainea  <razvan at opensips dot org>
	* [dcd3ec4] :

	fix previous commit


2015-08-19  Razvan Crainea  <razvan at opensips dot org>
	* [14b3bb6] :

	Makefile.defs: print target info only if changed


2015-08-19  Răzvan Crainea  <razvan at opensips dot org>
	* [47c5ced] :

	debian: change from native to quilt
	(cherry picked from commit 3eaa77fa8d2a382ce37f01750213306206e1c605)


2015-08-19  Răzvan Crainea  <razvan at opensips dot org>
	* [e6d60ad] :

	remove useless route.c include (cherry picked from commit 857857cd708aa2a7a278cd682debffa123ee4bc3)
	Conflicts:
		modules/emergency/emergency_methods.c


2015-08-19  Răzvan Crainea  <razvan at opensips dot org>
	* [92baf28] :

	fix EXPRESSION typo
	(cherry picked from commit 6f07dab0bea530c6da593ab317aed46620deaea6)


2015-08-19  Răzvan Crainea  <razvan at opensips dot org>
	* [f6981da] :

	debian/rules: add build-{arch,indep} rules
	(cherry picked from commit f53761262947638f5c80cdcd25f75faab679522f)


2015-08-19  Răzvan Crainea  <razvan at opensips dot org>
	* [cddc950] :

	update github watch file
	(cherry picked from commit ac3ce34482dd7eb4402c5f08794160966cae6d7a)


2015-08-19  Răzvan Crainea  <razvan at opensips dot org>
	* [e14455a] :

	fix http package description
	(cherry picked from commit d094f09c74e15581d2d05f62ee168701bd1455b0)


2015-08-19  Răzvan Crainea  <razvan at opensips dot org>
	* [ef28834] :

	fix some spellchecks detected by lintian
	(cherry picked from commit 39bccea3282f94d2a34c6e448b118b99b0085799)


2015-08-19  Răzvan Crainea  <razvan at opensips dot org>
	* [800035b] :

	install-modules: each module install its own custom files (cherry picked from commit 4afbfefe1fa11d8a01e980fa9baf164a80e16b3c)
	Conflicts:
		Makefile


2015-08-19  Răzvan Crainea  <razvan at opensips dot org>
	* [f7025f3] :

	man: fix hyphens
	(cherry picked from commit 2ac0d082aafa6612d79a3479d132553910f380f0)


2015-08-19  Răzvan Crainea  <razvan at opensips dot org>
	* [3478180] :

	init: add LSB functions support
	(cherry picked from commit 7524b2bd47dcbac10b54f3333ad5af8be07a57b0)


2015-08-19  Răzvan Crainea  <razvan at opensips dot org>
	* [aa5ebb3] :

	debian: add python dependency for opensips
	(cherry picked from commit 2d1a5d954214fd3698c593fa7c1de6c967eec2a8)


2015-08-19  Răzvan Crainea  <razvan at opensips dot org>
	* [76c37f0] :

	Makefile: do not install docs on debian installs
	(cherry picked from commit 064d562fad49631be82c97850046a8e3689036ae)


2015-08-19  Răzvan Crainea  <razvan at opensips dot org>
	* [cb7bc74] :

	Fix man pages
	* add osipsconfig man page
	* fix lists info for opensipsconsole and opensipsdbctl
	(cherry picked from commit 979ee74cb537e71b2c73730386ff215903e30231)


2015-08-19  Răzvan Crainea  <razvan at opensips dot org>
	* [6e23554] :

	fix debian packaging (cherry picked from commit d4a5a6a5bf353d74d60f286b06e8bc4ffe83b227)
	Conflicts:
		packaging/debian/changelog
		packaging/debian/control


2015-08-19  Razvan Crainea  <razvan at opensips dot org>
	* [e2be56d] :

	ratelimit: rl_list show the last counter


2015-08-19  Răzvan Crainea  <razvan at opensips dot org>
	* [87a1958] :

	Merge pull request #605 from saghul/makefile-target-master
	makefile: detect target architecture using the compiler


2015-08-19  Saúl Ibarra Corretgé  <saghul at gmail dot com>
	* [1161779] :

	makefile: detect target architecture using the compiler
	Fixes producing a 32bit build in a 64bit system.

	Original patch by Andrei Pelinescu-Onciul:
	https://github.com/kamailio/kamailio/commit/c46e79709216c4975abc83869fbce9fa696eac74


2015-08-18  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [725573b] :

	Fix handling of ASYNC MI commands
	Similar to report #552.
	(cherry picked from commit 2b3a3ea9588854be5d7b64d4c04b48f6907a91ba)

	Conflicts:
		modules/mi_http/mi_http.c

	(cherry picked from commit 98435049c104151afa01864a8453957d9463ee51)


2015-08-18  rvlad-patrascu  <rvlad.patrascu at gmail dot com>
	* [e7faa3e] :

	sql_cacher: Full caching improvements
	-use fetch_result for queries if sql db supports
	-fix cachedb encoding for null sql db values
	-caching id added in cachedb key


2015-08-18  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [f01fe37] :

	Fix restoring/freeing the path_vec in failure route.
	The path_vec (array holding the PATH string) was not properly pushed into the faked requests before calling the failure route. This was generating a mixture of shm/pkg memory when the faked request had to be freed.
	This crash was trigger only if PATH support was used and requests were looked up with PATH header.

	Reported by @AVFedorov and @petekelly.
	Closes #484

	Many thanks to @AVFedorov for his details information and to @petekelly for support in investigating and testing.
	(cherry picked from commit cc033520ea5ab59fafd6ca7d52cc88fdad8574ef)


2015-08-18  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [69e5671] :

	Fix handling of ASYNC MI commands
	Part of fixing #552.
	Reported by @mqandeel .

	Closes #552
	(cherry picked from commit c08b03310b9d8001b346ff3ba5a45996b1a5dc45)

	Conflicts:
		modules/mi_xmlrpc_ng/http_fnc.h
		modules/mi_xmlrpc_ng/mi_xmlrpc_http.c

	(cherry picked from commit c8c8410d8a97288af40edbabed7b5360dec968fb)


2015-08-18  ionutrazvanionita  <ionutionita at opensips dot org>
	* [78da6d3] :

	fix usrloc clabel mask bug


2015-08-18  ionutrazvanionita  <ionutionita at opensips dot org>
	* [b9cb15f] :

	fix usrloc contact label mask; in get_ucontact_from_id check if contact not found


2015-08-18  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [2ff5bdf] :

	Fix handling of ASYNC MI commands
	Part of fixing #552.
	Reported by Damien Sandras.
	(cherry picked from commit 5244b54afe63bba02fe45f82b736c327672b221a)

	Conflicts:
		modules/mi_json/mi_json.c

	(cherry picked from commit b1ee3a579a292faa47b6bfb1e5051982882f0447)


2015-08-18  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [24def0d] :

	Fix reporting if t_request() failed.
	Capture and report futher if the t_request() failed to send out the PUBLISH request.
	(cherry picked from commit 4791a506912d67f90dfe66e7292500046d59ef4a)


2015-08-17  Eseanu Marius Cristian  <eseanu.cristian at gmail dot com>
	* [efb0c5b] :

	clusterer: added register and send_to API functions


2015-08-17  Eseanu Marius Cristian  <eseanu.cristian at gmail dot com>
	* [6b61980] :

	clusterer:Added clusterer api


2015-08-17  Eseanu Marius Cristian  <eseanu.cristian at gmail dot com>
	* [0d104b7] :

	clusterer: added persistent mode


2015-08-17  Eseanu Marius Cristian  <eseanu.cristian at gmail dot com>
	* [e4bf577] :

	clusterer: improved load_info function


2015-08-17  Eseanu Marius Cristian  <eseanu.cristian at gmail dot com>
	* [ac90425] :

	clusterer: Added initial infrastructure


2015-08-17  Eseanu Marius Cristian  <eseanu.cristian at gmail dot com>
	* [10e2e7a] :

	bin_interface: changed bin_register_cb function


2015-08-17  Eseanu Marius Cristian  <eseanu.cristian at gmail dot com>
	* [a439b28] :

	Removed async forcing code


2015-08-17  Eseanu Marius Cristian  <eseanu.cristian at gmail dot com>
	* [eab11c2] :

	Set async to be disabled by default


2015-08-17  Eseanu Marius Cristian  <eseanu.cristian at gmail dot com>
	* [b8f9c55] :

	Fixed crash when failing to find a send socket
	Bogus free was done in case of error to find a socket
	Also, do not call raw callbacks for the BIN protocol


2015-08-13  rvlad-patrascu  <rvlad.patrascu at gmail dot com>
	* [230fa58] :

	sql_cacher: full caching in mod_init


2015-08-12  ionutrazvanionita  <ionutionita at opensips dot org>
	* [ac7c05c] :

	fix usrloc doc typo


2015-08-12  ionutrazvanionita  <ionutionita at opensips dot org>
	* [cce2a5b] :

	fixed bug: set contact id val nul to 0 when inserting to db


2015-08-12  Liviu Chircu  <liviu at opensips dot org>
	* [a85c14c] :

	Merge pull request #598 from jarrodb/593
	Do not append colon if uri password is NULL


2015-08-12  Jarrod Baumann  <jarrod at unixc dot org>
	* [76dc734] :

	Do not append colon if uri password is NULL


2015-08-11  ionutrazvanionita  <ionutionita at opensips dot org>
	* [40f56ca] :

	usrloc contact label now uses 14 bits instead of 16


2015-08-11  Bogdan Andrei IANCU  <bogdan at opensips dot org>
	* [18aa625] :

	Merge pull request #596 from rvlad-patrascu/master
	Add synchronous operation for raise functions for event_xmlrpc and event_rabbitmq


2015-08-11  Bogdan Andrei IANCU  <bogdan at opensips dot org>
	* [caaaf76] :

	Merge pull request #597 from ionel-cerghit/mi_xmlrpc_ng_format
	Mi_xmlrpc_ng response formatting improved


2015-08-11  Cerghit Ionel  <ionel.cerghit at gmail dot com>
	* [f2a1e3d] :

	Add module parameter to chose response formatting add mi_xmlrpc_ng_format_version parameter to let the user choose between the two ways of formatting output, a value of 1 means the old formating and a value of 2 means the new formatting which is the default.


2015-08-11  rvlad-patrascu  <rvlad.patrascu at gmail dot com>
	* [7f515f9] :

	event_rabbitmq: update documentation for sync_mode module parameter


2015-08-11  rvlad-patrascu  <rvlad.patrascu at gmail dot com>
	* [7c40030] :

	event_xmlrpc: update documentation for sync_mode module parameter


2015-08-10  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [0e1fabb] :

	Fix use_domain, escaping, cases in remove()
	Use extract_aor() in script function remove() ; extract_aor() takes into account the use_domain and cases settings and is also able to deal with escaped chars.

	Closes #557 .


2015-08-10  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [4ab975e] :

	Proper test on active destinatins for failover.
	Test both INACTIVE and PROBING flags before considering a destination suitable for failover.
	Reported by @gergelypeli
	Closes #564 .


2015-08-10  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [461cd33] :

	Simple text aligment to fit 80 chars wide.


2015-08-10  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [c8d102e] :

	Simple text aligment to fit 80 chars wide.


2015-08-10  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [4b3944f] :

	Fix race condition - the log must be under lock
	As information from the alias strucuture is printed, this must be done under lock protection.
	Closes #589 by @dbeskoek.
	(cherry picked from commit 22f4c1a2e05b5f3d8d3c7ba06ec30c21d75bc4de)


2015-08-10  Bogdan Andrei IANCU  <bogdan at opensips dot org>
	* [83cb342] :

	Merge pull request #595 from ionel-cerghit/add_bin_version
	Add version field in the header of bin protocol


2015-08-10  Cerghit Ionel  <ionel.cerghit at gmail dot com>
	* [a0dae0a] :

	mi_xmlrpc_ng: fixed formatting and flushing problems in module


2015-08-10  Cerghit Ionel  <ionel.cerghit at gmail dot com>
	* [87bd7a9] :

	Added version field in the header of bin protocol, to avoid compatibility problems between different versions of opensips


2015-08-07  ionutrazvanionita  <ionutionita at opensips dot org>
	* [750d36a] :

	Revert "stateful ping for nathelper"
	This reverts commit aecbf986eee2f931a41057a9c400e18c77bbbaed.


2015-08-07  ionutrazvanionita  <ionutionita at opensips dot org>
	* [35426b2] :

	fix bug: db key index when inserting


2015-08-07  ionutrazvanionita  <ionutionita at opensips dot org>
	* [aecbf98] :

	stateful ping for nathelper


2015-08-07  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [6112b8b] :

	MyISAM no longer default table engine.
	InnoDB is now the default, and this value can now be changed via MYSQL_ENGINE env variable in opensipsctlrc.

	Closes #399


2015-08-07  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [67c2c91] :

	Use SIP pinging when NAT traversal is on


2015-08-06  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [164dbe5] :

	Fix async sleep() in sync mode.
	If the timer FD cannot be placed in reactor, the resume will work (in sync way), but without any actual sleep. We fix this by remembering the time when the sleep should finish and checking it again in resume function.


2015-08-06  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [0ff15f6] :

	Remove double define.
	param_export_t is already defined by sr_module_deps.h which is included from here.


2015-08-06  Răzvan Crainea  <razvan at opensips dot org>
	* [2d15060] :

	fix debian packaging


2015-08-06  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [ad6a923] :

	Fix usage of timerfd on old systems.
	timerfd functions were introduced starting with glib 2.8, so disable them if older glib versions are detected.


2015-08-06  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [5af7010] :

	Fix int64_t printing.


2015-08-06  ionutrazvanionita  <ionutionita at opensips dot org>
	* [7ef4eaa] :

	Merge branch 'usrlocCID'


2015-08-06  ionutrazvanionita  <ionutionita at opensips dot org>
	* [7d20a36] :

	fix contact id in DB_ONLY mode issue


2015-08-06  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [21fb5cd] :

	Just fixing indentation.


2015-08-06  root  <evillaron at gmail dot com>
	* [570d7d7] :

	emergency -- code review


2015-08-05  Razvan Crainea  <razvan at opensips dot org>
	* [3dfc83c] :

	add rest_client specs for debian, fedora and rpms
	Closes #587


2015-07-30  ionutrazvanionita  <ionutionita at opensips dot org>
	* [5c33319] :

	delete multiple contacts in one db call for WRITE_THROUGH and WRITE_BACK


2015-07-30  Steve Frécinaux  <sfrecinaux at beip dot be>
	* [d20175e] :

	Debian: add package opensips-rest-module
	This package contains the rest_client.so module.


2015-07-29  Steve Frécinaux  <sfrecinaux at beip dot be>
	* [4b6996e] :

	Debian: add systemd unit file.
	This unit file supports the configuration check before restart and
	retains the P_MEMORY and S_MEMORY variable usage.

	Since both the systemd configuration and the init script take care of
	creating /var/run/opensips, the opensips.dirs file has been removed.


2015-07-29  Steve Frécinaux  <sfrecinaux at beip dot be>
	* [981c5e6] :

	Debian: update dependencies to build on Jessie.
	Unfortunately, the lua module doesn't build anymore because it depends
	on libmemcache, which is not present in Jessie. The other
	memcached-related modules depend on libmemcached, which is fine.

	See https://github.com/OpenSIPS/opensips/issues/580


2015-07-29  Steve Frécinaux  <sfrecinaux at beip dot be>
	* [459d61d] :

	Debian: do not make opensips-module-mysql depend on mysql-client
	This makes it impossible to use opensips with mariadb.


2015-07-29  Steve Frécinaux  <sfrecinaux at beip dot be>
	* [80143e1] :

	Debian: make the init script use LSB functions.
	This is more consistent with the other init scripts, and most
	importantly fixes the behaviour of the init script when it comes to
	systemd-enabled systems.


2015-07-29  ionutrazvanionita  <ionutionita at opensips dot org>
	* [a859a45] :

	updated usrloc documentation


2015-07-29  ionutrazvanionita  <ionutionita at opensips dot org>
	* [ece2774] :

	get_all/domain_ucontacts: posibility to fetch contact id


2015-07-29  ionutrazvanionita  <ionutionita at opensips dot org>
	* [91828e3] :

	possibility to delete a contact only with the id


2015-07-28  ionutrazvanionita  <ionutionita at opensips dot org>
	* [b46429e] :

	fix db_insert_ucontact: no value for contactid when AUTOINCREMENT wanted


2015-07-28  ionutrazvanionita  <ionutionita at opensips dot org>
	* [603a660] :

	for PRIMARY KEY AUTOINCREMENT in sqlite: value is stored as BIGINT, type is INT, allowing in code usage to see the key both int and bigint(default int)


2015-07-28  Liviu Chircu  <liviu at opensips dot org>
	* [b25164e] :

	Add new s.trim / s.trimr / s.triml transformations
	Closes #579


2015-07-28  ionutrazvanionita  <ionutionita at opensips dot org>
	* [bbccb7a] :

	updated location version


2015-07-27  ionutrazvanionita  <ionutionita at opensips dot org>
	* [9404a76] :

	update and delete based on contact_id


2015-07-27  ionutrazvanionita  <ionutionita at opensips dot org>
	* [4d7c67f] :

	on DB_ONLY insert contact id value is null(autoincrement is used)


2015-07-27  ionutrazvanionita  <ionutionita at opensips dot org>
	* [f1578b1] :

	modified id column to contact_id bigint primary key autoincrement in al dbs; regenerated scripts


2015-07-24  ionutrazvanionita  <ionutionita at opensips dot org>
	* [04c9add] :

	introduced contactid as composed of aorhash|recrod label|contact label


2015-07-23  ionutrazvanionita  <ionutionita at opensips dot org>
	* [3293358] :

	registrar: lookup for aors in branches and expand them to contacts


2015-07-22  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [ef0dc6f] :

	Fix broken condition in handling ASYNC_CONTINUE.
	(cherry picked from commit eaf3ca55148cffad9859fa00f6e7ccc4ce4ec938)


2015-07-22  rvlad-patrascu  <rvlad.patrascu at gmail dot com>
	* [1bc8baf] :

	event_rabbitmq: added synchronous operation for raise function


2015-07-22  rvlad-patrascu  <rvlad.patrascu at gmail dot com>
	* [5a3d230] :

	event_xmlrpc: added synchronous operation for raise function


2015-07-20  Răzvan Crainea  <razvan at opensips dot org>
	* [c959f49] :

	Merge pull request #575 from ar45/patch-1
	Update README - change db_mysql to db_postgres


2015-07-17  Aron Podrigal  <ar45 at users.noreply.github dot com>
	* [37f5449] :

	Update db_postgres_admin.xml
	changed db_mysql to db_postgres


2015-07-17  Aron Podrigal  <ar45 at users.noreply.github dot com>
	* [7ef27a9] :

	Update README


2015-07-17  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [0886073] :

	Fixed memeory exhausting during concurrent reloads.
	Add a new module parameter no_concurrent_reload to prevent multiple reloads in the same time.
	If you have a large routing set (millions of rules/prefixes), you should consider disabling concurrent reload as they will exhaust the shared memory (by reloading into memory, in the same time, multiple instances of routing data).
	(cherry picked from commit 4480d115ee8f15c077a86c41086537758105ba8a)


2015-07-16  Razvan Crainea  <razvan at opensips dot org>
	* [97ea216] :

	event_route: fix uninit _bogus_ warning


2015-07-16  Razvan Crainea  <razvan at opensips dot org>
	* [9eb48f0] :

	ememrgency: fix curl cast warning


2015-07-16  Razvan Crainea  <razvan at opensips dot org>
	* [621bd5a] :

	httpd: fix cb cast warning


2015-07-16  Răzvan Crainea  <razvan at opensips dot org>
	* [dc0edf5] :

	lua: fix compile warning


2015-07-16  Răzvan Crainea  <razvan at opensips dot org>
	* [668533e] :

	mi_xmlrpc_ng: fix include warning


2015-07-16  Răzvan Crainea  <razvan at opensips dot org>
	* [544db1e] :

	xcap_client: fix timer include


2015-07-16  Liviu Chircu  <liviu at opensips dot org>
	* [2649a3a] :

	for-each statement: Add support for $json iterators
	Example way of usage:
	    for ($json(foo) in $(avp(bar)[*]))
	        xlog("JSON fields: $json(foo/baz) $json(foo/qux)\n");


2015-07-16  Liviu Chircu  <liviu at opensips dot org>
	* [3607208] :

	regex: Fix implicit declaration of 'isspace'


2015-07-16  Liviu Chircu  <liviu at opensips dot org>
	* [b391ea3] :

	db_virtual: Do not crash if no DB sets are defined


2015-07-16  Razvan Crainea  <razvan at opensips dot org>
	* [e6fb1c1] :

	emergency: fix warnings


2015-07-16  Razvan Crainea  <razvan at opensips dot org>
	* [9da7c53] :

	gcc 5.1 warnings fix
	re-arranged code to comply with gnu11


2015-07-16  Ovidiu Sas  <osas at voipembedded dot com>
	* [084ed77] :

	avpops: fix undefined symbol: is_script_async_func_used


2015-07-15  Razvan Crainea  <razvan at opensips dot org>
	* [b9d0ad2] :

	add lua proper dependencies


2015-07-15  Razvan Crainea  <razvan at opensips dot org>
	* [a02d31b] :

	travis: add all dependencies


2015-07-15  Razvan Crainea  <razvan at opensips dot org>
	* [bfd6895] :

	travis: add extra dependecies


2015-07-15  Razvan Crainea  <razvan at opensips dot org>
	* [08e0277] :

	travis: skip cachedb_{cassandra,couchbase}


2015-07-15  Razvan Crainea  <razvan at opensips dot org>
	* [96e680a] :

	travis: update dependecies


2015-07-15  Razvan Crainea  <razvan at opensips dot org>
	* [6181434] :

	add markup readme


2015-07-15  Razvan Crainea  <razvan at opensips dot org>
	* [f09522f] :

	travis: check all modules


2015-07-15  Vlad Paiu  <vladpaiu at opensips dot org>
	* [babfdab] :

	Fixed ctl & ctlrc changes introduced by proto_bin commit


2015-07-15  Razvan Crainea  <razvan at opensips dot org>
	* [2b89a69] :

	travis: remove clang compiler


2015-07-15  rvlad-patrascu  <rvlad.patrascu at gmail dot com>
	* [75acc35] :

	event_virtual: Added documentation


2015-07-15  rvlad-patrascu  <rvlad.patrascu at gmail dot com>
	* [0bbd1c7] :

	event_virtual: Added comments, minor changes to socket printing


2015-07-15  rvlad-patrascu  <rvlad.patrascu at gmail dot com>
	* [c22ad08] :

	event_virtual: Added free function; fixed printing of the virtual socket


2015-07-15  rvlad-patrascu  <rvlad.patrascu at gmail dot com>
	* [f2ea585] :

	event_virtual: Added raise function


2015-07-15  rvlad-patrascu  <rvlad.patrascu at gmail dot com>
	* [9f54c5f] :

	event_virtual: created new module: event_virtual, added parse and match functions


2015-07-15  Răzvan Crainea  <razvan at opensips dot org>
	* [ae39a9c] :

	Merge pull request #573 from ionel-cerghit/master
	add new proto_bin module


2015-07-15  Razvan Crainea  <razvan at opensips dot org>
	* [e6dbf9e] :

	add travis file


2015-07-15  Cerghit Ionel  <ionel.cerghit at gmail dot com>
	* [bfe6bc6] :

	added new proto_bin moudle


2015-07-09  Liviu Chircu  <liviu at opensips dot org>
	* [5a832d9] :

	db_virtual: Do not crash if no DB URLs are defined


2015-07-09  Liviu Chircu  <liviu at opensips dot org>
	* [5415531] :

	config parser: Exit if no more memory available
	Otherwise, some code paths would generate segmentation faults


2015-07-09  Liviu Chircu  <liviu at opensips dot org>
	* [1e675ac] :

	avpops: Proper handling for async with non-async drivers
	Fallback to normal mode in case of no async capabilities.
	If this behaviour is employed, a startup warning will be issued.


2015-07-09  Liviu Chircu  <liviu at opensips dot org>
	* [aad94da] :

	db_mysql: Improve error handling in async mode
	i.e. Logging and error handling in case of bad async queries


2015-07-09  Liviu Chircu  <liviu at opensips dot org>
	* [87acbbc] :

	core API: Add detection for async script function usage


2015-07-09  root  <evillaron at gmail dot com>
	* [0962723] :

	emergency -- change configuration of the module for a new table


2015-07-09  root  <evillaron at gmail dot com>
	* [3cbebd4] :

	emergency -- change configuration of the module for a new table


2015-07-07  Răzvan Crainea  <razvan at opensips dot org>
	* [1b15064] :

	Merge pull request #569 from vladpaiu/master
	New features for OpenSIPS 2.2


2015-07-07  Razvan Crainea  <razvan at opensips dot org>
	* [35ae885] :

	fix inline functions to comply with gnu11
	The new gcc 5.1 version uses by default gnu11 standard, which behaves a bit
	differently with inline functions (more details here:
	https://gcc.gnu.org/gcc-5/porting_to.html)

	Closes #555


2015-07-07  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [912b0d1] :

	More verbous logging.
	Log the error reported by stat() when it fails.
	(cherry picked from commit 8fefc911e643142b4206fa574896171dbdb1eb82)


2015-07-07  ionutrazvanionita  <ionutionita at opensips dot org>
	* [f077ee7] :

	fix 32 bit warning


2015-07-06  ionutrazvanionita  <ionutionita at opensips dot org>
	* [d9eec58] :

	Also build sqlite files on all Makefile rule


2015-07-06  Vlad Paiu  <vladpaiu at opensips dot org>
	* [43a2619] :

	Fixed typo in encoding the callid


2015-07-06  Eseanu Marius Cristian  <eseanu.cristian at gmail dot com>
	* [0eb9a8c] :

	db_postgres: Added module parameter max_db_queries


2015-07-06  Eseanu Marius Cristian  <eseanu.cristian at gmail dot com>
	* [140cc8c] :

	db_mysql: Added module parameters max_db_queries and max_db_retries


2015-07-03  Cerghit Ionel  <ionel.cerghit at gmail dot com>
	* [524bd1c] :

	dispatcher: first_hit_counter


2015-07-03  rvlad-patrascu  <rvlad.patrascu at gmail dot com>
	* [c1dd6d2] :

	added global parameter for config file: default logging level for xlog


2015-07-03  Eseanu Marius Cristian  <eseanu.cristian at gmail dot com>
	* [19ac2ea] :

	digiplan.c: Fixed memory leak


2015-07-03  Eseanu Marius Cristian  <eseanu.cristian at gmail dot com>
	* [322c2cb] :

	dialplan.c: Fixed memory leak


2015-07-03  ionutrazvanionita  <ionutionita at opensips dot org>
	* [c53b81d] :

	fix db/schmea Makefile bug V2


2015-07-03  ionutrazvanionita  <ionutionita at opensips dot org>
	* [5a018a0] :

	fixed db/schema Makefile bug; regenerated files that were affected by this bug


2015-07-03  Eseanu Marius Cristian  <eseanu.cristian at gmail dot com>
	* [d5691f6] :

	dialplan.c: Fixed mi_show_partition to not show the password


2015-07-03  ionutrazvanionita  <ionutionita at opensips dot org>
	* [f55095e] :

	added record and contact labels; currently no usage


2015-07-03  ionutrazvanionita  <ionutionita at opensips dot org>
	* [dd89571] :

	exposed get_domain_ucontacts; get_all_ucontacts now calls get_domain_ucontacts


2015-07-03  Cerghit Ionel  <ionel.cerghit at gmail dot com>
	* [a814271] :

	event_flatstore: added documentation


2015-07-02  Vlad Paiu  <vladpaiu at opensips dot org>
	* [a0ec25a] :

	Fixed generated callid
	= is not a valid character in a callid, so replaced it with a hyphen


2015-07-02  Liviu Chircu  <liviu at opensips dot org>
	* [649a35e] :

	Merge pull request #565 from jarrodb/b64_xor
	Add b64encode, b64decode and xor string transformations


2015-07-02  Jarrod Baumann  <jarrod at unixc dot org>
	* [6eb4431] :

	adds better error reporting and fixes typos


2015-07-02  rvlad-patrascu  <rvlad.patrascu at gmail dot com>
	* [b8b48a3] :

	event_flatstore: fixed coding style


2015-07-02  Cerghit Ionel  <ionel.cerghit at gmail dot com>
	* [223f0c7] :

	event_flatstore: small fix iov buffer incrementing


2015-07-02  ionutrazvanionita  <ionutionita at opensips dot org>
	* [6036215] :

	proper error message when ldap tls fails to start


2015-07-02  Cerghit Ionel  <ionel.cerghit at gmail dot com>
	* [121afc8] :

	event_flatstore: fixed delete and parse for expire


2015-07-02  Cerghit Ionel  <ionel.cerghit at gmail dot com>
	* [60f2c6b] :

	event_flatstore:fixed raise event


2015-07-01  Jarrod Baumann  <jarrod at unixc dot org>
	* [9d35613] :

	Added b64encode, b64decode, and xor string transformations


2015-07-01  Cerghit Ionel  <ionel.cerghit at gmail dot com>
	* [dfd548a] :

	Merge branch 'master' of https://github.com/vladpaiu/opensips
	Conflicts:
		modules/event_flatstore/event_flatstore.c


2015-07-01  Cerghit Ionel  <ionel.cerghit at gmail dot com>
	* [875f727] :

	event_flatstore: fixed rotation funcion


2015-07-01  rvlad-patrascu  <rvlad.patrascu at gmail dot com>
	* [d650a69] :

	event_flatstore: added file permission parameter, fixed delimiter parameter


2015-07-01  Cerghit Ionel  <ionel.cerghit at gmail dot com>
	* [4e76482] :

	event_flatstore: added debugging messages


2015-07-01  Eseanu Marius Cristian  <eseanu.cristian at gmail dot com>
	* [ce287e2] :

	Merge branch 'master' of https://github.com/vladpaiu/opensips


2015-07-01  Eseanu Marius Cristian  <eseanu.cristian at gmail dot com>
	* [787eaff] :

	event_flatstore: added debug info for rotating and delete functions


2015-07-01  Cerghit Ionel  <ionel.cerghit at gmail dot com>
	* [63a7aa3] :

	Merge branch 'master' of https://github.com/vladpaiu/opensips


2015-07-01  Cerghit Ionel  <ionel.cerghit at gmail dot com>
	* [fbd5020] :

	event_flatstore: added debuging prints


2015-07-01  rvlad-patrascu  <rvlad.patrascu at gmail dot com>
	* [b5481fc] :

	event_flatstore: added debug prints for flat_raise


2015-07-01  Cerghit Ionel  <ionel.cerghit at gmail dot com>
	* [034fe68] :

	event_flatstore: check if path is valid (parse)


2015-07-01  Cerghit Ionel  <ionel.cerghit at gmail dot com>
	* [182f421] :

	event_flatstore:modified raise and parse functions


2015-06-30  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [d6cd8b0] :

	Expose unset_dlg_profile() to Request Route.
	Related to issue #554.
	(cherry picked from commit 23f2322db56540be4d0b36a099a02e380aeafe19)


2015-06-30  Cerghit Ionel  <ionel.cerghit at gmail dot com>
	* [5ef4a84] :

	event_flatstore: fixed mod_init


2015-06-30  Eseanu Marius Cristian  <eseanu.cristian at gmail dot com>
	* [c90fc34] :

	event_flatstore: added destroy and param function


2015-06-30  Cerghit Ionel  <ionel.cerghit at gmail dot com>
	* [6f2934d] :

	event_flatstore: merged all functions


2015-06-30  Cerghit Ionel  <ionel.cerghit at gmail dot com>
	* [a6ee51e] :

	event_flatstore: solved conflicts


2015-06-30  Cerghit Ionel  <ionel.cerghit at gmail dot com>
	* [2a815a2] :

	event_flatstore: added parse function


2015-06-30  rvlad-patrascu  <rvlad.patrascu at gmail dot com>
	* [807df79] :

	event_flatstore: fixed errors


2015-06-30  Eseanu Marius Cristian  <eseanu.cristian at gmail dot com>
	* [9cdbc24] :

	Added print, match, rotate and partial raise functions


2015-06-30  Eseanu Marius Cristian  <eseanu.cristian at gmail dot com>
	* [56eba63] :

	Added print, match, rotate and partial raise functions


2015-06-30  rvlad-patrascu  <rvlad.patrascu at gmail dot com>
	* [11f61cf] :

	event_flatstore: added flat_free and verify_delete functions


2015-06-29  Cerghit Ionel  <ionel.cerghit at gmail dot com>
	* [9642050] :

	event_flatstore: defined used structures and mod_init


2015-06-26  Cerghit Ionel  <ionel.cerghit at gmail dot com>
	* [cb13543] :

	event_flatstore: infrastructure


2015-06-26  Cerghit Ionel  <ionel.cerghit at gmail dot com>
	* [996fadf] :

	event_route: fix route name when no sync/async


2015-06-26  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [d171b7a] :

	Fix TH for BYEs used as CANCEL
	Trigger the dialog callbacks (used by TH) for BYEs which do not terminate the call (BYEs in early state can be used as CANCELs).
	Reported by Antonis Psaras.
	Closes #555
	(cherry picked from commit b0f52d559e615e8dfecd1e7630b15a9c7584af4f)


2015-06-26  Razvan Crainea  <razvan at opensips dot org>
	* [31f46c2] :

	always create tar with TLS files


2015-06-25  Razvan Crainea  <razvan at opensips dot org>
	* [ea2a041] :

	acc: fix column type mismatch for db missed calls
	This bug was making OpenSIPS crash when a missed call was inserted in DB

	Thanks go to Peter Baines for reporting it (Issue #559)


2015-06-25  Razvan Crainea  <razvan at opensips dot org>
	* [307388d] :

	acc: fix multi_leg_bye info behavior
	This bug was making the ACC module to print less information in case there
	were no AVPs populated for the BYE multi_leg_info


2015-06-24  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [cc06843] :

	Fix $ct and $ct.fields variables.
	Force parsing of all Contact headers.
	Reported by Nick Altmann.


2015-06-22  Ryan Bullock  <rrb3942 at gmail dot com>
	* [80233f8] :

	Remove use of deprecated synchronous mode in couchbase


2015-06-18  Ovidiu Sas  <osas at voipembedded dot com>
	* [237b771] :

	event_rabbitmq: reconnect to rabbit-mq server on "Socket error"  - closes #535


2015-06-15  Razvan Crainea  <razvan at opensips dot org>
	* [1a89f57] :

	dialog: fix profile_get_values to get the proper counter


2015-06-15  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [cfb7415] :

	Fix compile without RADIUS ASYNC support.
	Credits go to Rudy Pedraza.


2015-06-15  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [1bd25ca] :

	Fix name of coumns in emergency tables


2015-06-15  ionutrazvanionita  <ionutionita at opensips dot org>
	* [c98caf5] :

	async support for ldap module


2015-06-12  Razvan Crainea  <razvan at opensips dot org>
	* [2e8b265] :

	dialog: add missing header file


2015-06-12  Razvan Crainea  <razvan at opensips dot org>
	* [307c593] :

	dialog: add bin profiles replication


2015-06-11  Ovidiu Sas  <osas at voipembedded dot com>
	* [8450630] :

	mi_xmlrpc_ng: unescape xml strings  - related to bug #537


2015-06-11  Ovidiu Sas  <osas at voipembedded dot com>
	* [f6386ca] :

	core: adding unescape_xml() function helper to strcommon.[ch]


2015-06-11  Nick Altmann  <nick.altmann at gmail dot com>
	* [611b9bb] :

	RPM spec: enabled restart feature (in case of crash) in systemd service


2015-06-11  Nick Altmann  <nick.altmann at gmail dot com>
	* [92ffe5b] :

	RPM spec: returned missed m4 feature, changed version number


2015-06-11  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [2421034] :

	Fix documentation on loose_route().
	loose_route() returns FALSE only if there is no Route header or if preloaded local Route only.
	Reported by @gergelypeli on github
	Closes #550


2015-06-11  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [800117b] :

	Revert "Fix parsing for Diversion header."
	This reverts commit 36384927a5d2fd1d900ac36adc2ee15b2acad0c9.


2015-06-11  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [44f740b] :

	Fix fixing hdr names shorter than 3 chars.
	The fixup function fails to identify header names shorter than 3 (like To or short formats). This affected script functions like is_present_hf() or remove_hf().
	Reported by Nick Altmann
	(cherry picked from commit 1f7bae0915ac93ca231ede55c5540560e5489a7b)


2015-06-10  Razvan Crainea  <razvan at opensips dot org>
	* [37cd34d] :

	ratelimit: add rl_count(name) variable


2015-06-10  ionutrazvanionita  <ionutionita at opensips dot org>
	* [769cae8] :

	async support for radius module


2015-06-09  Bogdan Andrei IANCU  <bogdan at opensips dot org>
	* [1bc3a58] :

	Merge pull request #545 from dynamicpacket/master
	fixes for Debian packaging


2015-06-09  User  <user at Users-Mac-Pro dot local>
	* [b0fed16] :

	* Check for freeradius libs in Makefile * Check for json lib include paths in Makefile * Update debian/changelog to reflect 2.1.0 stable * Update debian/control with new dependency names and standards * Update debian/rules to remove deprecated dpatch


2015-06-09  root  <evillaron at gmail dot com>
	* [65444d9] :

	emergency module - change from list to hash


2015-06-08  ionutrazvanionita  <ionutionita at opensips dot org>
	* [42ec45a] :

	fix partition list bug


2015-06-08  ionutrazvanionita  <ionutionita at opensips dot org>
	* [c2fd6c8] :

	fixed permission table_name bug


2015-06-08  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [84e78f2] :

	Add emergency tables to TABLES_EXTRA


2015-06-08  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [95328b5] :

	DB schema regenerated (to add the emergency tables)


2015-06-08  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [6cc12f1] :

	Add DB schema for the emergency module.
	Credits go to Robison Gonçalves Tesini.
	Closes #543


2015-06-05  Razvan Crainea  <razvan at opensips dot org>
	* [1e998bb] :

	ratelimit: print the actual counter for the PIPE


2015-06-05  Razvan Crainea  <razvan at opensips dot org>
	* [b3b5888] :

	ratelimit: do not multiply the expiration with the interval


2015-06-05  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [0708685] :

	Add folded_string token.
	This token is now used by xlog, so you can have a multi-chunk (even multi line folded) string as parameter, like:
		xlog("Bob"
				"hates Alice" " very much\n");

	Based on the idea from #538, but done at grammar level.


2015-06-04  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [c146594] :

	Fix init of UDP listener in nofork mode.
	Init the UDP listener before forking the MI procs, otherwise they will not be aware of the network sockets.
	Closes #541
	Self reported.


2015-06-04  Razvan Crainea  <razvan at opensips dot org>
	* [fd8036c] :

	ratelimit: update the last time used for the pipe


2015-06-04  Di-Shi Sun  <di-shi at transnexus dot com>
	* [ab60f69] :

	Updated for OSP Toolkit 4.5.0.


2015-06-03  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [3638492] :

	Fix parsing for Diversion header.
	As Diversion header may be a multi-body header, do not use the parse_to() function as it does not accept multiple bodies. Use parse_rr() function.
	Reported by Nick Altmann.


2015-06-03  Vlad Paiu  <vladpaiu at opensips dot org>
	* [eea8476] :

	Removed bogus ERR message


2015-06-03  Razvan Crainea  <razvan at opensips dot org>
	* [842588f] :

	ratelimit: add bin support
	Added bin interface replication support. This provides distributed pipes
	features


2015-06-03  Ionut Ionita  <ionutionita at opensips dot org>
	* [4d3ab1f] :

	Merge pull request #528 from jarrodb/db_sqlite_datetime
	update sqlite convert DB_DATETIME types to proper time values


2015-06-03  Bogdan Andrei IANCU  <bogdan at opensips dot org>
	* [e45cc1f] :

	Merge pull request #534 from seanchann/1.11
	fix rpm build error on centos
	(cherry picked from commit 715914848153678c473dc3d4211b8b534bf66fa1)


2015-06-02  Razvan Crainea  <razvan at opensips dot org>
	* [05bc754] :

	event_xmlrpc: only retry send/recv a couple of times if there are errors
	Credits go to Joseph Frazier (onsip) for spotting this


2015-06-02  Razvan Crainea  <razvan at opensips dot org>
	* [008b423] :

	event_rabbitmq: EINTR is not an error and should not be considered for retry


2015-06-02  Eric Tamme  <eric.tamme at onsip dot com>
	* [ac419bc] :

	do not always retry write to pipe if we get blocking errors as this causes the proxy to lock up and consume cpu


2015-06-02  Liviu Chircu  <liviu at opensips dot org>
	* [0db7e0e] :

	s.fill transformation: Prioritize string pvars over integer ones
	Reason for this is that a pvar which holds a string is a more
	particular occurrence than an int one, since integers can be
	easily stringified.

	This fixes some issues with pvars which have multiple internal
	representations (e.g. $rm is "INVITE" and 1 at the same time)

	Reported by Eric Tamme


2015-06-02  Liviu Chircu  <liviu at opensips dot org>
	* [954e771] :

	s.width transformation: Fix a rare crash
	Prevent double free in case a negative number is given


2015-06-02  Liviu Chircu  <liviu at opensips dot org>
	* [5ff8ff5] :

	Merge pull request #530 from jarrodb/transformations
	add width string transformation


2015-06-02  Vlad Paiu  <vladpaiu at opensips dot org>
	* [5bf5479] :

	Fixed typo


2015-06-02  Jarrod Baumann  <jarrod at unixc dot org>
	* [1bc334b] :

	Add support for hiredis type REDIS_REPLY_NIL in redis_raw_query


2015-06-02  Liviu Chircu  <liviu at opensips dot org>
	* [ee4374f] :

	s.fill transformations: Allow whitespace in quoted params
	This patch actually fixes several issues:
	    * allows the "s.fill" functions to be used for alignment purposes
	    * bugfix: possible "s.fill" usage which caused infinite loop
	    * new: trim.h string trimming macros
	    * some code refactoring

	Fixes #531


2015-06-02  Liviu Chircu  <liviu at opensips dot org>
	* [21de1c7] :

	Merge pull request #533 from jarrodb/pvar_529
	verify pv_export_t parse_name function is set before calling


2015-06-01  Ovidiu Sas  <osas at voipembedded dot com>
	* [1288d26] :

	event_rabbitmq: add specif error probe for AMQP_STATUS_SOCKET_ERROR  - triggered after rabbitmq server restart


2015-06-01  Ovidiu Sas  <osas at voipembedded dot com>
	* [b516510] :

	event_rabbitmq: enhance AMQP connection error probe


2015-05-31  Jarrod Baumann  <jarrod at unixc dot org>
	* [a9d3150] :

	cleanup code and add comments


2015-05-30  Jarrod Baumann  <jarrod at unixc dot org>
	* [3c47edd] :

	verify pv_export_t parse_name function is set before calling


2015-05-30  Liviu Chircu  <liviu at opensips dot org>
	* [bcf8524] :

	vim syntax: Add full support for OpenSIPS variables
	    * coloured context, indexes and transformations
	    * matching coloured variable parantheses
	    * everything is also shown within strings


2015-05-30  Jarrod Baumann  <jarrod at unixc dot org>
	* [f70fdb9] :

	add string transformation  e.g.


2015-05-29  Jarrod Baumann  <jarrod at unixc dot org>
	* [65e3a6c] :

	update sqlite convert DB_DATETIME types to proper time values


2015-05-29  Liviu Chircu  <liviu at opensips dot org>
	* [94e3593] :

	script parser: fix bad startup error message


2015-05-29  Liviu Chircu  <liviu at opensips dot org>
	* [57938c0] :

	vim syntax: proper matching for route statements
	    * conflicts with route() calls are now solved
	    * add syslog facility validation


2015-05-29  ionutrazvanionita  <ionutionita at opensips dot org>
	* [84b4e7e] :

	partition support for permission module


2015-05-29  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [1713bb2] :

	Fix debug log.
	Do not print un-initialized variables.

	Reported by miha- on IRC.
	(cherry picked from commit 59d0f336083f262c36cac522117addf989c87f99)


2015-05-28  Liviu Chircu  <liviu at opensips dot org>
	* [69f6510] :

	binary interface: skip() functions now return skipped bytes


2015-05-28  Liviu Chircu  <liviu at opensips dot org>
	* [23f6a26] :

	binary interface: Add retcode for too many pop() operations


2015-05-28  Liviu Chircu  <liviu at opensips dot org>
	* [1a396bf] :

	binary interface: push() functions now return added bytes


2015-05-27  Liviu Chircu  <liviu at opensips dot org>
	* [84554f5] :

	bin_interface: also provide source IP address to all callbacks


2015-05-27  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [3f806a3] :

	Add aysnc sleep() and usleep() functions.
	The sleep() and usleep() script functions can now be used with the async statement - the waiting is done non-blocking, but with suspend and resume.


2015-05-27  Liviu Chircu  <liviu at opensips dot org>
	* [91d1b4f] :

	avpops: Fix possible runtime crash
	The patch corrects a bug in commit 685da74670, since mod_init() is
	actually run _before_ module function fixups.

	Detection for raw SQL function calls is now done (properly) at fixup time,
	rather than at module initialization.

	Reported by Antonis Psaras
	Closes #523


2015-05-26  Liviu Chircu  <liviu at opensips dot org>
	* [724d16d] :

	residential cfg: Set db_url for "uri" module when doing auth


2015-05-26  Vlad Paiu  <vladpaiu at opensips dot org>
	* [74a52d0] :

	Set the upsert flag when incrementing / decrementing counters This way the counters don't need to be pre-populated in the DB ( eg. when using them for dialog profiles )


2015-05-26  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [607fb3e] :

	Fix "dialplan addrule" command.
	The match_len column was replaced with match_flags
	Closes #513


2015-05-22  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [032c425] :

	Fix NULL value as route param.
	Closes #516, open by @liviuchircu.


2015-05-22  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [6f5dde4] :

	Fix handling of gw_priprefix_avp param.
	Closes #518, reported by @apsaras.
	(cherry picked from commit 3870a57702595a4816e2520c708bb4f337a17546)


2015-05-21  root  <evillaron at gmail dot com>
	* [b667632] :

	emergency -- change callcell identity


2015-05-21  root  <evillaron at gmail dot com>
	* [8221c64] :

	Merge branch 'master' of github.com:OpenSIPS/opensips


2015-05-21  root  <evillaron at gmail dot com>
	* [1c56870] :

	emergency -- change callcell identity


2015-05-20  Bogdan Andrei IANCU  <bogdan at opensips dot org>
	* [899bbdd] :

	Merge pull request #517 from staskobzar/1.11
	Make sure httpd can recognize Content-Type headers with parameters.
	(cherry picked from commit a8971c2fcb0207a34005a2ee586de97ecf759638)

	Conflicts:
		modules/httpd/httpd_proc.c


2015-05-20  Liviu Chircu  <liviu at opensips dot org>
	* [564acbe] :

	route params: increment nesting level on no-param routes
	Completes commit f3ed4db99


2015-05-20  ionutrazvanionita  <ionutionita at opensips dot org>
	* [6164d1c] :

	Closed connection in child init after data load; Connected to db from mi process in mi_child_init


2015-05-20  Vlad Paiu  <vladpaiu at opensips dot org>
	* [a57d67f] :

	Expose API for setting connection attributes in WS module Fix so that tcp_persistent_flag in registrar also works for WS connections


2015-05-20  ionutrazvanionita  <ionutionita at opensips dot org>
	* [fa14431] :

	move db data initialization from mi_child_init to child init


2015-05-19  Ovidiu Sas  <osas at voipembedded dot com>
	* [67948ce] :

	dialplan: documentation for MI command: dp_show_partiton


2015-05-19  Ovidiu Sas  <osas at voipembedded dot com>
	* [3710087] :

	dialplan: doc updates - compact partition example


2015-05-19  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [1c1d732] :

	Fix $proto to read from loaded protocols


2015-05-18  ionutrazvanionita  <ionutionita at opensips dot org>
	* [7846e63] :

	fixed partition parsing


2015-05-18  vladpaiu  <vladpaiu at opensips dot org>
	* [31fb1bc] :

	Merge pull request #507 from jarrodb/cachedb_cassandra
	set local variable memory to 0 to prevent core dump


2015-05-18  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [9597bc9] :

	Fix restoring the route type after async jump.
	A more accurate fix on preserving the route type after an async jump - see commit 950966.


2015-05-16  Liviu Chircu  <liviu at opensips dot org>
	* [be87372] :

	fix doc typo
	Reported by Nick Altmann


2015-05-16  Liviu Chircu  <liviu at opensips dot org>
	* [9509665] :

	async: set route type before running resume routes


2015-05-16  Liviu Chircu  <liviu at opensips dot org>
	* [6353c5a] :

	vim syntax: update with all script parameters


2015-05-16  root  <evillaron at gmail dot com>
	* [961752e] :

	Merge branch 'master' of github.com:OpenSIPS/opensips


2015-05-16  root  <evillaron at gmail dot com>
	* [70b662c] :

	emergency -- Notifier Implementation


2015-05-15  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [e461b65] :

	Fix - DLG_STATE_CHANGED event contains the DID too
	Reported by Dan Bogos.
	This is a bug, as without the Dialog ID, the DLG_STATE_CHANGED event is useless.


2015-05-15  Ovidiu Sas  <osas at voipembedded dot com>
	* [b3a0b3e] :

	dialplan: dp_show_partition shows db_url for each partition


2015-05-15  Razvan Crainea  <razvan at opensips dot org>
	* [a5d16d2] :

	proto_tls: fix README tcp typo


2015-05-15  Razvan Crainea  <razvan at opensips dot org>
	* [a63d6fe] :

	dialog: do not raise event under lock
	This allows nested dialog operations and prevents opensips from dialog
	deadlock


2015-05-15  Liviu Chircu  <liviu at opensips dot org>
	* [df2c030] :

	bin_interface: use blocking I/O
	The 2.1 code uses non-blocking UDP socket init primitives.
	This specifically made the binary interface workers do a lot of busy-waiting

	Reported by Rik Broers
	Fixes #502


2015-05-14  Ovidiu Sas  <osas at voipembedded dot com>
	* [37ce047] :

	dialplan: new 'dp_show_partition' mi command


2015-05-12  Jarrod Baumann  <jarrod at unixc dot org>
	* [d84df19] :

	set local variable memory to 0 to prevent core dump


2015-05-11  Liviu Chircu  <liviu at opensips dot org>
	* [4d6baa5] :

	io_wait.h: always include pt.h
	pt.h is required even without HAVE_SIGIO_RT

	Reported by @narunask
	Fixes #505


2015-05-11  Liviu Chircu  <liviu at opensips dot org>
	* [999364e] :

	build system: properly parse "uname -r" output
	Also handle "MAJOR.MINOR-SUB" types of strings


2015-05-11  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [885097d] :

	Fix bogus jump to "error" label.
	if unhash_fd_map() is not done, do not try to do fix_fd_array() .
	(cherry picked from commit 9c066e61673ed35225a4b5a78483c3e6722cc413)


2015-05-11  Liviu Chircu  <liviu at opensips dot org>
	* [c358997] :

	Add vim syntax highlighting script
	Also add INSTALL instructions


2015-05-08  Liviu Chircu  <liviu at opensips dot org>
	* [fd8fc60] :

	async DB core: fix noisy logs


2015-05-07  Liviu Chircu  <liviu at opensips dot org>
	* [2ef34a5] :

	rest_client: properly free ctype buffer


2015-05-07  Liviu Chircu  <liviu at opensips dot org>
	* [910990c] :

	rest_client: update doc & README


2015-05-07  Liviu Chircu  <liviu at opensips dot org>
	* [a614e21] :

	rest_client: properly handle async calls in local deployments
	Proper libcurl usage is to poll for handle status updates after
	each perform operation.

	This patch also fixes a few cleanup issues with the global list of
	pending HTTP headers

	Thanks to Dan Bogos for reporting and helping with troubleshooting


2015-05-07  Vlad Paiu  <vladpaiu at opensips dot org>
	* [147ee7f] :

	While doing retransmissions, set the current processing transaction - in case anybody uses it
	(cherry picked from commit ef3c2539323580c713d86b9c554700dff058d7e0)


2015-05-07  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [271c7be] :

	Fix crash on building CANCEL requests.
	Avoid the race condition between building a local cancel and handling a negative reply (for the same branch, in different processes). The build_local mya use the temporary uac->reply and end up with a dnagling pointer. Anyhow, in CANCEL situation, you never have a stored reply in transaction (storing is done only during parallel forking for nagative branches - which are not to be cancelled anyhow).
	(cherry picked from commit 156fba8d5eeedaa3bbb5cd89a525e1591a288123)


2015-05-06  Liviu Chircu  <liviu at opensips dot org>
	* [4072c47] :

	revert previous commit (4b5b16f9a)
	Only 1.11 and 1.10 branches are affected by this bug


2015-05-06  Liviu Chircu  <liviu at opensips dot org>
	* [4b5b16f] :

	async TCP: fix memory leak
	Also free the array of chunk pointers when freeing up TCP conns


2015-05-06  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [409ca2a] :

	README file updated from XML


2015-05-06  Bogdan Andrei IANCU  <bogdan at opensips dot org>
	* [4d3e2cb] :

	Merge pull request #499 from jarrodb/rest_client_docs
	Added documentation for rest_client:rest_append_hf command


2015-05-05  Jarrod Baumann  <j at rrod dot org>
	* [9764a88] :

	Added documentation for rest_client:rest_append_hf command


2015-05-05  Liviu Chircu  <liviu at opensips dot org>
	* [2e9b36c] :

	sipmsgops: fix possible crash with debug=4
	Introduced in commit 445d90bc7
	Reported by Hieu Ta


2015-05-05  Liviu Chircu  <liviu at opensips dot org>
	* [21344d1] :

	core fd management: suppress DEL errors for closed fds (EBADF)
	Reasons:
	    * library-specific corner-case (e.g. libcurl with async ops)
	    * network core removes the fds anyway


2015-05-05  Liviu Chircu  <liviu at opensips dot org>
	* [82eded8] :

	core fd management: properly remove fds on DEL errors
	Also improve debug printing


2015-05-05  Liviu Chircu  <liviu at opensips dot org>
	* [aa88b5f] :

	Merge pull request #497 from jarrodb/rest_append_hf
	addition of rest_append_hf command


2015-05-05  Răzvan Crainea  <razvan at opensips dot org>
	* [7ba692d] :

	Merge pull request #488 from jarrodb/scripts
	Removed default DBPORT from opensipsdbctl.base 


2015-05-05  Bogdan Andrei IANCU  <bogdan at opensips dot org>
	* [a91de4c] :

	Merge pull request #498 from olivermt/master
	Make rtpengine retry sending command on UDP fragmentation


2015-05-05  Oliver Severin Mulelid-Tynes  <olivermt at users.noreply.github dot com>
	* [61c5e71] :

	Make rtpengine retry sending command on UDP fragmentation


2015-05-05  Liviu Chircu  <liviu at opensips dot org>
	* [3e82c48] :

	fraud_detection: fix "daysoftheweek" parsing bug
	Parsing was incorrect for sequences such as "Fri-Mon", "Thu-Wed" etc.


2015-05-05  Liviu Chircu  <liviu at opensips dot org>
	* [2d5dcad] :

	fraud_detection: properly release stats lock on error


2015-05-05  Jarrod Baumann  <jarrod at unixc dot org>
	* [6a8c14f] :

	moved curl_slist to global process variable to support addition of rest_append_hf command


2015-05-04  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [447301c] :

	Fix order of rows during query; respect file order
	When buidling the response to a select query, respect the order of rows as given by the file; before the selected rows were given in the reverted order.
	Reported by @jockmckechnie on github.
	Closes bug #479 .
	(cherry picked from commit 54f6c22303f0d258c9e5f24520bba342aeb11ac3)


2015-05-04  Vlad Paiu  <vladpaiu at opensips dot org>
	* [c4eafa7] :

	Fixed json results for negative integers
	(cherry picked from commit 3bf8b49ec8ee3d29409c75e54581141792ee54e9)


2015-05-04  Liviu Chircu  <liviu at opensips dot org>
	* [4d651f4] :

	rest_client: caseless matching when searching for Content-Type
	Also properly handle missing "Content-Type"


2015-05-04  Razvan Crainea  <razvan at opensips dot org>
	* [89eb9dc] :

	acc: when doing no-cdr accounting, do not use CDR-generated info
	Related to ticket #495


2015-05-01  vladpaiu  <vladpaiu at opensips dot org>
	* [ee2a7a2] :

	Merge pull request #491 from jarrodb/event_rabbitmq
	Updated log macro used for reporting event_rabbitmq heartbeat modparam


2015-04-30  Jarrod Baumann  <j at rrod dot org>
	* [25fc10c] :

	Updated log macro used for reporting event_rabbitmq heartbeat modparam


2015-04-30  Jarrod Baumann  <j at rrod dot org>
	* [901c3f7] :

	Removed mandatory statement from opensipsctlrc for PostgreSQL


2015-04-30  Jarrod Baumann  <j at rrod dot org>
	* [c06b45d] :

	Removed default DBPORT from opensipsdbctl.base so it will be determined by the client


2015-04-30  Răzvan Crainea  <razvan at opensips dot org>
	* [6340435] :

	Merge pull request #486 from jarrodb/scripts
	Add DBPORT parameter with comment to opensipsctlrc


2015-04-30  Jarrod Baumann  <j at rrod dot org>
	* [c168307] :

	Add DBPORT parameter with comment to opensipsctlrc to alleviate confusion when using PostgreSQL


2015-04-29  Razvan Crainea  <razvan at opensips dot org>
	* [bf3ae34] :

	socket_info: return socket list only for known protocols


2015-04-27  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [d154fe2] :

	Docs updated and refurbished.


2015-04-27  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [ed82ac8] :

	Fix: do not try to kill procs which were not created.


2015-04-25  Bogdan Andrei IANCU  <bogdan at opensips dot org>
	* [dd7b8c8] :

	Merge pull request #474 from jarrodb/ipv6
	resolve inet6 records for hosts and prefer them if dns_try_ipv6 is set


2015-04-25  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [4588f84] :

	Fix name of variable in passwd test


2015-04-25  Bogdan Andrei IANCU  <bogdan at opensips dot org>
	* [c7eb0d6] :

	Merge pull request #477 from satishdotpatel/patch-2
	Fix reading password from prompt for PGSQL


2015-04-24  Liviu Chircu  <liviu at opensips dot org>
	* [a51be51] :

	Merge pull request #481 from jarrodb/rest
	Populate the rcode pval in rest get/post methods before returning error


2015-04-24  Jarrod Baumann  <jarrod at unixc dot org>
	* [9945b9d] :

	Populate the rcode pval in rest get/post methods before returning error


2015-04-23  Ionut Ionita  <ionutionita at opensips dot org>
	* [cd38248] :

	Merge pull request #478 from jarrodb/sqlite
	Resolves the core dump of issue #473


2015-04-23  Jarrod Baumann  <jarrod at unixc dot org>
	* [0f1576d] :

	Resolves the core dump of issue #473


2015-04-22  satishdotpatel  <satish.lx at gmail dot com>
	* [e0ab1ce] :

	Fix reading password from prompt for PGSQ
	root@dopensips:/etc/opensips# opensipsdbctl create
	INFO: creating database opensips ...
	Password for user postgres:
	Password for user postgres:
	Password for user postgres:
	NOTICE:  CREATE TABLE / UNIQUE will create implicit index "version_t_name_idx" for table "version"
	Password for user postgres:
	NOTICE:  CREATE TABLE will create implicit sequence "acc_id_seq" for serial column "acc.id"
	NOTICE:  CREATE TABLE / PRIMARY KEY will create implicit index "acc_pkey" for table "acc"
	NOTICE:  CREATE TABLE will create implicit sequence "missed_calls_id_seq" for serial column "missed_calls.id"
	NOTICE:  CREATE TABLE / PRIMARY KEY will create implicit index "missed_calls_pkey" for table "missed_calls"
	Password for user postgres:
	NOTICE:  CREATE TABLE will create implicit sequence "domain_id_seq" for serial column "domain.id"
	NOTICE:  CREATE TABLE / PRIMARY KEY will create implicit index "domain_pkey" for table "domain"
	NOTICE:  CREATE TABLE / UNIQUE will create implicit index "domain_domain_idx" for table "domain"
	Password for user postgres:
	NOTICE:  CREATE TABLE will create implicit sequence "grp_id_seq" for serial column "grp.id"
	NOTICE:  CREATE TABLE / PRIMARY KEY will create implicit index "grp_pkey" for table "grp"
	NOTICE:  CREATE TABLE / UNIQUE will create implicit index "grp_account_group_idx" for table "grp"
	NOTICE:  CREATE TABLE will create implicit sequence "re_grp_id_seq" for serial column "re_grp.id"
	NOTICE:  CREATE TABLE / PRIMARY KEY will create implicit index "re_grp_pkey" for table "re_grp"
	Password for user postgres:
	NOTICE:  CREATE TABLE will create implicit sequence "address_id_seq" for serial column "address.id"
	NOTICE:  CREATE TABLE / PRIMARY KEY will create implicit index "address_pkey" for table "address"
	Password for user postgres:
	NOTICE:  CREATE TABLE will create implicit sequence "aliases_id_seq" for serial column "aliases.id"
	NOTICE:  CREATE TABLE / PRIMARY KEY will create implicit index "aliases_pkey" for table "aliases"
	NOTICE:  CREATE TABLE / UNIQUE will create implicit index "aliases_alias_idx" for table "aliases"
	Password for user postgres:
	NOTICE:  CREATE TABLE will create implicit sequence "location_id_seq" for serial column "location.id"
	NOTICE:  CREATE TABLE / PRIMARY KEY will create implicit index "location_pkey" for table "location"
	NOTICE:  CREATE TABLE / UNIQUE will create implicit index "location_account_contact_idx" for table "location"
	Password for user postgres:
	NOTICE:  CREATE TABLE will create implicit sequence "silo_id_seq" for serial column "silo.id"
	NOTICE:  CREATE TABLE / PRIMARY KEY will create implicit index "silo_pkey" for table "silo"
	Password for user postgres:
	NOTICE:  CREATE TABLE will create implicit sequence "dbaliases_id_seq" for serial column "dbaliases.id"
	NOTICE:  CREATE TABLE / PRIMARY KEY will create implicit index "dbaliases_pkey" for table "dbaliases"
	NOTICE:  CREATE TABLE / UNIQUE will create implicit index "dbaliases_alias_idx" for table "dbaliases"
	Password for user postgres:
	NOTICE:  CREATE TABLE will create implicit sequence "uri_id_seq" for serial column "uri.id"
	NOTICE:  CREATE TABLE / PRIMARY KEY will create implicit index "uri_pkey" for table "uri"
	NOTICE:  CREATE TABLE / UNIQUE will create implicit index "uri_account_idx" for table "uri"
	Password for user postgres:
	NOTICE:  CREATE TABLE will create implicit sequence "rtpproxy_sockets_id_seq" for serial column "rtpproxy_sockets.id"
	NOTICE:  CREATE TABLE / PRIMARY KEY will create implicit index "rtpproxy_sockets_pkey" for table "rtpproxy_sockets"
	Password for user postgres:
	NOTICE:  CREATE TABLE will create implicit sequence "speed_dial_id_seq" for serial column "speed_dial.id"
	NOTICE:  CREATE TABLE / PRIMARY KEY will create implicit index "speed_dial_pkey" for table "speed_dial"
	NOTICE:  CREATE TABLE / UNIQUE will create implicit index "speed_dial_speed_dial_idx" for table "speed_dial"
	Password for user postgres:
	NOTICE:  CREATE TABLE will create implicit sequence "usr_preferences_id_seq" for serial column "usr_preferences.id"
	NOTICE:  CREATE TABLE / PRIMARY KEY will create implicit index "usr_preferences_pkey" for table "usr_preferences"
	Password for user postgres:
	NOTICE:  CREATE TABLE will create implicit sequence "subscriber_id_seq" for serial column "subscriber.id"
	NOTICE:  CREATE TABLE / PRIMARY KEY will create implicit index "subscriber_pkey" for table "subscriber"
	NOTICE:  CREATE TABLE / UNIQUE will create implicit index "subscriber_account_idx" for table "subscriber"
	Password for user postgres:
	NOTICE:  CREATE TABLE will create implicit sequence "pdt_id_seq" for serial column "pdt.id"
	NOTICE:  CREATE TABLE / PRIMARY KEY will create implicit index "pdt_pkey" for table "pdt"
	NOTICE:  CREATE TABLE / UNIQUE will create implicit index "pdt_sdomain_prefix_idx" for table "pdt"
	Password for user postgres:
	NOTICE:  CREATE TABLE / PRIMARY KEY will create implicit index "dialog_pkey" for table "dialog"
	Password for user postgres:
	NOTICE:  CREATE TABLE will create implicit sequence "dispatcher_id_seq" for serial column "dispatcher.id"
	NOTICE:  CREATE TABLE / PRIMARY KEY will create implicit index "dispatcher_pkey" for table "dispatcher"
	Password for user postgres:
	NOTICE:  CREATE TABLE will create implicit sequence "dialplan_id_seq" for serial column "dialplan.id"
	NOTICE:  CREATE TABLE / PRIMARY KEY will create implicit index "dialplan_pkey" for table "dialplan"
	Password for user postgres:
	NOTICE:  CREATE TABLE will create implicit sequence "dr_gateways_id_seq" for serial column "dr_gateways.id"
	NOTICE:  CREATE TABLE / PRIMARY KEY will create implicit index "dr_gateways_pkey" for table "dr_gateways"
	NOTICE:  CREATE TABLE / UNIQUE will create implicit index "dr_gateways_dr_gw_idx" for table "dr_gateways"
	NOTICE:  CREATE TABLE will create implicit sequence "dr_rules_ruleid_seq" for serial column "dr_rules.ruleid"
	NOTICE:  CREATE TABLE / PRIMARY KEY will create implicit index "dr_rules_pkey" for table "dr_rules"
	NOTICE:  CREATE TABLE will create implicit sequence "dr_carriers_id_seq" for serial column "dr_carriers.id"
	NOTICE:  CREATE TABLE / PRIMARY KEY will create implicit index "dr_carriers_pkey" for table "dr_carriers"
	NOTICE:  CREATE TABLE / UNIQUE will create implicit index "dr_carriers_dr_carrier_idx" for table "dr_carriers"
	NOTICE:  CREATE TABLE will create implicit sequence "dr_groups_id_seq" for serial column "dr_groups.id"
	NOTICE:  CREATE TABLE / PRIMARY KEY will create implicit index "dr_groups_pkey" for table "dr_groups"
	Password for user postgres:
	NOTICE:  CREATE TABLE will create implicit sequence "load_balancer_id_seq" for serial column "load_balancer.id"
	NOTICE:  CREATE TABLE / PRIMARY KEY will create implicit index "load_balancer_pkey" for table "load_balancer"
	Password for user postgres:
	Password for user postgres:
	Password for user postgres:
	Password for user postgres:
	Password for user postgres:


2015-04-22  Jarrod Baumann  <jarrod at unixc dot org>
	* [101b3e4] :

	Reverted to original logic based on comments from @bogdan-iancu and @etamme but preferring v6 records if dns_try_ipv6 is enabled


2015-04-22  ionutrazvanionita  <ionutionita at opensips dot org>
	* [52d3ec6] :

	fix escaping issue; two ways of binding values(using sqlite3_bind* interface or sqlite3_snprintf); removed unecessary code


2015-04-22  ionutrazvanionita  <ionutionita at opensips dot org>
	* [91fc6cc] :

	added CON_SET_CURR_PS macro


2015-04-22  ionutrazvanionita  <ionutionita at opensips dot org>
	* [0b6402c] :

	fixed url '\0' issue


2015-04-22  Liviu Chircu  <liviu at opensips dot org>
	* [17d639b] :

	F_MALLOC: suppress warnings for free(NULL)


2015-04-21  Vlad Paiu  <vladpaiu at opensips dot org>
	* [138813f] :

	Fixed json lib dependency


2015-04-21  Razvan Crainea  <razvan at opensips dot org>
	* [cb9f46b] :

	rtpproxy: store the notification buffer in the main stack frame
	Thanks go to Hamid Elaosta for reporting and helping me debug this bug


2015-04-21  Liviu Chircu  <liviu at opensips dot org>
	* [0e80ba3] :

	proto_tcp: fix "microsec" -> "millisec" doc typo


2015-04-20  ionutrazvanionita  <ionutionita at opensips dot org>
	* [b7db080] :

	don't log errors in case connection closed by the other peer; don't call SSL_shutdown when connection is bad/eof


2015-04-20  Liviu Chircu  <liviu at opensips dot org>
	* [1f154c0] :

	db_mysql: properly set TCP-related timeouts
	According to official documentation,  mysql_options() must be used _after_
	mysql_init()


2015-04-20  Vlad Paiu  <vladpaiu at opensips dot org>
	* [57f331f] :

	Do not leak the dialog in case there's an error on creation, after linking


2015-04-20  Bogdan Andrei IANCU  <bogdan at opensips dot org>
	* [ead1033] :

	Merge pull request #442 from rgagnon24/redirect_fix
	Fix get_redirects(max, reason)


2015-04-20  Razvan Crainea  <razvan at opensips dot org>
	* [c26a4a3] :

	rtpproxy: properly parse rtpproxy timeout notifications


2015-04-17  ionutrazvanionita  <ionutionita at opensips dot org>
	* [a32b92a] :

	Merge branch 'jarrodb-sqlite'


2015-04-17  ionutrazvanionita  <ionutionita at opensips dot org>
	* [a97d357] :

	modified and tested sqlite opensipsdbctl create, drop, reinit backup, restore, copy


2015-04-16  Jarrod Baumann  <jarrod at unixc dot org>
	* [40308f9] :

	Reset default /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin references back to original script (had copied from an already installed file)


2015-04-16  Jarrod Baumann  <jarrod at unixc dot org>
	* [0606435] :

	Fixed Makefile script sqlite references that move the database related files into the library path


2015-04-16  Jarrod Baumann  <jarrod at unixc dot org>
	* [5b557d0] :

	updated osipsconsolerc to match the opensipsctlrc header for the DBENGINE definition


2015-04-16  Jarrod Baumann  <jarrod at unixc dot org>
	* [bfde3a3] :

	Updated control scripts to include considerations for the new db_sqlite


2015-04-16  ionutrazvanionita  <ionutionita at opensips dot org>
	* [24341a0] :

	fix extension loading; fix bigint separate case


2015-04-16  ionutrazvanionita  <ionutionita at opensips dot org>
	* [7366daa] :

	redesigned sqlite module


2015-04-16  Razvan Crainea  <razvan at opensips dot org>
	* [0a38032] :

	do not add Makefile.conf to the tarball
	Since every tarball install is independent, Makefile.conf should not be
	inherited


2015-04-15  Liviu Chircu  <liviu at opensips dot org>
	* [00cdfc6] :

	hp_malloc.h: properly include sys/time.h
	Prevents compilation issues with some modules

	Credits to Hamid Elaosta for reporting


2015-04-15  Liviu Chircu  <liviu at opensips dot org>
	* [008fba1] :

	fix compilation issues with no -DSTATISTICS


2015-04-15  Vlad Paiu  <vladpaiu at opensips dot org>
	* [3583989] :

	Set T to T_UNDEFINED
	(cherry picked from commit 6c0625e1f7218265f944d8ee69f7d8fb332b40de)


2015-04-15  Vlad Paiu  <vladpaiu at opensips dot org>
	* [eeff37f] :

	Set the current transaction to NULL when adding FD to reactor for async jump


2015-04-15  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [1ebf813] :

	Removed useless var setting.


2015-04-15  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [4884d6c] :

	Fix race condition on terminating child procs.
	There is a race condition between a child getting initalized (and properly setting all its vars like is_main, pid, etc) and main process trying to terminate that child proc (due a failed startup).
	Use the pt[].pid as a marker to know when the child is init (to be filled only by child). Main proc (when delivering signals) will do a busy waiting if a proc haven't set its pid (still doing init).

	Closes #463


2015-04-14  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [dbf2aec] :

	Fix dont_fork mode.
	Closes #445.


2015-04-14  Razvan Crainea  <razvan at opensips dot org>
	* [b8c0740] :

	rr: do not force send socket on preloaded routes


2015-04-14  Vlad Paiu  <vladpaiu at opensips dot org>
	* [521bfc0] :

	Maintain rport and received in VIA header of replies when doing topology hiding


2015-04-14  Razvan Crainea  <razvan at opensips dot org>
	* [3ac458f] :

	acc: always populate the created AVP


2015-04-14  Răzvan Crainea  <razvan at opensips dot org>
	* [432c9cc] :

	Merge pull request #462 from jarrodb/dlg_hash
	Verify the dialog mi parameter is not null before passing to dlg_hash


2015-04-13  Jarrod Baumann  <j at rrod dot org>
	* [c745068] :

	Verify the dialog mi parameter is not null before passing to dlg_hash


2015-04-10  ionutrazvanionita  <ionutionita at opensips dot org>
	* [8d8ea6f] :

	fix: extension list free after first connect; when reconnect was done extensions were already freed; now free is done when conn is closed


2015-04-10  Razvan Crainea  <razvan at opensips dot org>
	* [44fa562] :

	proto_ws: send error message before closing the connection
	Spotted by Rik Broers


2015-04-10  Razvan Crainea  <razvan at opensips dot org>
	* [e252740] :

	proto_ws: store mask in request when msg is not complete
	Reported by Rik Broers


2015-04-09  ionutrazvanionita  <ionutionita at opensips dot org>
	* [baa342d] :

	added dbschema scripts and tables


2015-04-09  Bogdan Andrei IANCU  <bogdan at opensips dot org>
	* [0fed048] :

	Merge pull request #456 from jarrodb/pike_rm
	Added pike mi command  for unblocking IP addresses


2015-04-09  Razvan Crainea  <razvan at opensips dot org>
	* [7e1bded] :

	tcp: drop CRLF TCP messages


2015-04-09  ionutrazvanionita  <ionutionita at opensips dot org>
	* [7bedddd] :

	fixed buffer overflow check when query too big; fixed null value return; query string/blob value is now copied into opensips pkg memory


2015-04-09  Jarrod Baumann  <j at rrod dot org>
	* [3a37fa4] :

	updated logic to reset the block flags and counters instead of actually removing the node from the tree


2015-04-09  Răzvan Crainea  <razvan at opensips dot org>
	* [9dd26b8] :

	proto_ws: update doc to reflect WS client implementation


2015-04-09  Jarrod Baumann  <j at rrod dot org>
	* [996c989] :

	Added simple section to the pike_admin.xml docs detailing the command


2015-04-09  Jarrod Baumann  <j at rrod dot org>
	* [d506309] :

	Added pike mi command  for unblocking IP addresses


2015-04-08  ionutrazvanionita  <ionutionita at opensips dot org>
	* [8627946] :

	cc_calls: modified b2buaid to unique and put index on int; id is noi int primary key autoincrement


2015-04-08  ionutrazvanionita  <ionutionita at opensips dot org>
	* [b2e2a62] :

	username comparation not necessary anymore on db_id


2015-04-08  ionutrazvanionita  <ionutionita at opensips dot org>
	* [82648c2] :

	fixed memset bug when alloc; fixed select query detection in db_raw query; fixed null query parameter in raw_query; fixed lock error in wrapper_single_sqlite_stmt_prepare


2015-04-07  Vlad Paiu  <vladpaiu at opensips dot org>
	* [4cb4272] :

	Silence t_newtrani log error in case transaction was already created
	(cherry picked from commit 9e9818f86ca61cc22bf1273fd5eefda7a62e4ffc)


2015-04-07  Vlad Paiu  <vladpaiu at opensips dot org>
	* [210a096] :

	Do not crash when faked req has no lumps added to it


2015-04-06  Ovidiu Sas  <osas at voipembedded dot com>
	* [0a404a7] :

	nathelper: fix documentation typo


2015-04-05  Liviu Chircu  <liviu at opensips dot org>
	* [445d90b] :

	sipmsgops: fix buffer management issue
	is_present_hf() and remove_hf() would sometimes misbehave
	when used with pseudo-variables (commit 6e88f653702).

	Reported by Eric Werkhoven

	Also fix a couple of noisy log messages.


2015-04-03  Ovidiu Sas  <osas at voipembedded dot com>
	* [1119c66] :

	Makefile.conf.template: add db_sqlite to the list of excluded modules


2015-04-03  ionutrazvanionita  <ionutionita at opensips dot org>
	* [0a2be49] :

	introducing sqlite module


2015-04-03  ionutrazvanionita  <ionutionita at opensips dot org>
	* [2682925] :

	added str_strstr function


2015-04-03  ionutrazvanionita  <ionutionita at opensips dot org>
	* [2f192ca] :

	hold original url in id structure


2015-04-02  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [4a12950] :

	Better err logging
	(cherry picked from commit a9ea0a142fc0e18f36e17e5129f522407edcab80)


2015-04-02  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [ac8c2e6] :

	Fix changing proto via force_send_socket().
	If the RURI does not request any protocol, use the proto of the forced socket (if any).
	Related to #420


2015-04-01  Liviu Chircu  <liviu at opensips dot org>
	* [5a346da] :

	force_send_socket(): update error message on bad parameter
	The transport protocol is now mandatory

	Reported by @hydrosine
	Closes #447


2015-04-01  Liviu Chircu  <liviu at opensips dot org>
	* [bc160a7] :

	flag fixups: fix a sign conversion bug
	Reported by @hydrosine
	Fixes #448


2015-04-01  Vlad Paiu  <vladpaiu at opensips dot org>
	* [d62bc96] :

	Accept TCP aliases by default Do not rely on the previous hop signaling alias via param


2015-03-31  Liviu Chircu  <liviu at opensips dot org>
	* [54b3291] :

	Merge pull request #444 from etamme/master
	fixed flex sub version check for isatty definition 


2015-03-31  Ovidiu Sas  <osas at voipembedded dot com>
	* [b52b2b9] :

	parser: fix memory leak  - add Supported header to the list of headers that performs memory allocation


2015-03-30  Eric Tamme  <eric at uphreak dot com>
	* [9393492] :

	fixed flex sub version check to include unistd.h for anything subversion 36 or higher


2015-03-30  Eric Tamme  <eric at uphreak dot com>
	* [4015747] :

	fixed flex sub version check for isatty definition - isatty was removed in .36


2015-03-30  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [3da2b0d] :

	Fix documentation typo.
	Credits go to Antonis Psaras.


2015-03-30  Razvan Crainea  <razvan at opensips dot org>
	* [4c5e226] :

	proto_ws: proper clen print


2015-03-30  Razvan Crainea  <razvan at opensips dot org>
	* [5883393] :

	Add client support for websocket


2015-03-30  Razvan Crainea  <razvan at opensips dot org>
	* [12467f2] :

	net expose tcp destroy


2015-03-30  Razvan Crainea  <razvan at opensips dot org>
	* [6572930] :

	split tcp_create function in two
	this allows you to first create the connection, do stuff with it and
	only then release it


2015-03-27  Razvan Crainea  <razvan at opensips dot org>
	* [9a4ae5c] :

	proto_ws: prevent buffer overflow when masking


2015-03-27  rgagnon24  <rgagnon24 at gmail dot com>
	* [53a1700] :

	Maintain "n/a" string if none supplied for backward compatibility


2015-03-27  rgagnon24  <rgagnon24 at gmail dot com>
	* [832295c] :

	Name prototype variables the same as function usage


2015-03-27  rgagnon24  <rgagnon24 at gmail dot com>
	* [f842752] :

	Remove whitespace change


2015-03-27  rgagnon24  <rgagnon24 at gmail dot com>
	* [a25753a] :

	Fix function prototypes and casts


2015-03-27  rgagnon24  <rgagnon24 at gmail dot com>
	* [ddbe64b] :

	Add editor, fix <email> tags


2015-03-27  rgagnon24  <rgagnon24 at gmail dot com>
	* [2567b63] :

	Fix get_redirects(max, reason) so that reason is properly transferred to the acc module function


2015-03-25  ionutrazvanionita  <ionutionita at opensips dot org>
	* [d29cd9d] :

	no warnings from emergency; modified list deletion logic; removed trailing whitespaces


2015-03-25  Razvan Crainea  <razvan at opensips dot org>
	* [adc4455] :

	rename modules_obsolete to obsolete_modules
	this makes tree browsing easier using autocompletion


2015-03-24  Razvan Crainea  <razvan at opensips dot org>
	* [e5b793e] :

	replace libmysqlclient*-dev with metapackage libmysqlclient-dev
	Credits go to Leo for reporting this


2015-03-24  Razvan Crainea  <razvan at opensips dot org>
	* [a305152] :

	tcp & tls: preserve fd after connect succeeds
	Credits go to Peter Kelly for reporting this and helping with the testing


2015-03-24  Vlad Paiu  <vladpaiu at opensips dot org>
	* [558a4f1] :

	Fixed TLS CRLF pingpong regression
	Properly handle CRLFCRLF pings over TLS


2015-03-23  Vlad Paiu  <vladpaiu at opensips dot org>
	* [bfbb5bb] :

	Fixed TLS connection closing Update the SSL library with the TCP main socket before running SSL_Shutdown
	Thanks to Lirakis for the help in debugging this
	(cherry picked from commit 9ee50938482621e92074fd69cd5d0a078c47596b)


2015-03-23  ionutrazvanionita  <ionutionita at opensips dot org>
	* [e5b7abc] :

	removed unecessary rootCA files


2015-03-23  Răzvan Crainea  <razvan at opensips dot org>
	* [1dd83cf] :

	python: add documentation


2015-03-23  Liviu Chircu  <liviu at opensips dot org>
	* [1fdb716] :

	Merge pull request #437 from rgagnon24/master
	RTPEngine.c cleanup


2015-03-23  Rob Gagnon  <rgagnon at vcentos7.telepointglobal dot com>
	* [715f62e] :

	Fix functions to match their documented API Change function prototypes to use gparam_p instead of char *


2015-03-23  Razvan Crainea  <razvan at opensips dot org>
	* [593f269] :

	python: properly parse the script name


2015-03-23  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [8d953eb] :

	Have tcp_async by default ON.
	(cherry picked from commit 525bd70bef7de94a18bebaa61f6b18125598ebbd)


2015-03-23  Vlad Paiu  <vladpaiu at opensips dot org>
	* [712b75e] :

	opensipsdbctl : Fixed creating Postgres database
	(cherry picked from commit 3eb5f2bf9eb13451f621ced244c7d65ee40ae18c)

	Conflicts:
		scripts/opensipsdbctl.base


2015-03-23  Liviu Chircu  <liviu at opensips dot org>
	* [eed1c0a] :

	fix typo in previous commit


2015-03-23  Liviu Chircu  <liviu at opensips dot org>
	* [49ed85a] :

	opensipsdbctl: allow running from root dir for _all_ SQL backends
	(completes commit 31c472c)


2015-03-23  Razvan Crainea  <razvan at opensips dot org>
	* [5092a46] :

	python: add more verbose error reporting
	Even though the errors are only reported at stderr,
	this is still useful for debugging.
	In the future we should find a way to log the errors
	at the logging facility


2015-03-21  root  <evillaron at gmail dot com>
	* [5a167bc] :

	subscriber function for emergency module


2015-03-20  Vlad Paiu  <vladpaiu at opensips dot org>
	* [8cc812d] :

	Added compression and emergency to excluded modules list They depend on zlib and respectively libcurl for compiling


2015-03-19  Bogdan-Andrei Iancu  <bogdan at opensips dot org>
	* [1337a5f] :

	Fix compile err/warn on redhat.
	Reported by Nick Altmann.
	Credits go to Liviu Chircu.
	(cherry picked from commit a1ea06b97a9212378d21456afc750ad8ed0b9d86)


2015-03-19  Vlad Paiu  <vladpaiu at opensips dot org>
	* [eb9a063] :

	Fixed msilo README - added mention of the extra route types the function can be called in Credits to Nick Altmann


2015-03-19  Razvan Crainea  <razvan at opensips dot org>
	* [ab93408] :

	obsolete pdt module


2015-03-18  Bogdan Andrei IANCU  <bogdan at opensips dot org>
	* [ad6ef2c] :

	Merge pull request #435 from etamme/master
	fix rtpstat for rtpengine - thanks to jarrod for tracking down the fix


2015-03-18  Eric Tamme  <eric at uphreak dot com>
	* [d10e679] :

	fix rtpstat for rtpengine - thanks to jarrod for tracking down the fix


2015-03-18  Vlad Paiu  <vladpaiu at opensips dot org>
	* [f276691] :

	Fix PKG mem leak


2015-03-18  Razvan Crainea  <razvan at opensips dot org>
	* [dd81c75] :

	increase devel version


2015-03-18  Razvan Crainea  <razvan at opensips dot org>
	* [936e93b] :

	update version name


2015-03-18  Razvan Crainea  <razvan at opensips dot org>
	* [d1c151a] :

	update ChangeLog for 2.1


2015-03-18  Ovidiu Sas  <osas at voipembedded dot com>
	* [f1652d2] :

	mi_http: update copyright


2015-03-18  Ovidiu Sas  <osas at voipembedded dot com>
	* [b7e2137] :

	pi_http: fix compiler warning


2015-03-18  Vlad Paiu  <vladpaiu at opensips dot org>
	* [75c8154] :

	Fix route_to_carrier and route_to_gw Duplicate the RURI before pushing GWs for usage ( first gw will overwrite the actual URI )


2015-03-18  Liviu Chircu  <liviu at opensips dot org>
	* [3c6873c] :

	update acc SQL scripts


