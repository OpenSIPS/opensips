
eXtended JABber module
======================

This is new version of Jabber module that integrates XODE XML parser for
parsing Jabber messages. That introduces a new module dependece: expat library.

Expat is a common XML library and is the fastest available for Linux/Unix, 
the second over all, after msxml library. It is integrated in most of well known
Linux distributions.

New features
------------
- posibility to manage all kinds of Jabber messages (message/presence/iq)
- aliases - posibility to set host aliases for addresses (see parameter's desc.)
- gateways detection - ability to see whether an IM gateway is up or down

Features
--------
- send received SIP MESSAGE messages to different IM networks (Jabber, ICQ,
MSN, AIM, Yahoo) using a Jabber server
- send as SIP MESSAGE messages incoming Jabber instant messages

Exported parameters:
--------------------

Name:		contact
Type:		string 
Default:	none
Desc:		contact header for SIP messages - if not set, the header
			is filled with value of 'From'
			
Name:		db_url
Type:		string
Default:	"sql://root@127.0.0.1/sip_jab"
Desc:		username, password, host, port and database
			(ex: sql://username:password@hostname.com/database)

Name:		jaddress
Type:		string
Default:	"127.0.0.1"
Desc:		IP or hostname of Jabber server 

Name:		jport
Type:		integer
Default:	5222
Desc:		port of Jabber server

Name:		aliases
Type:		string
Default:	none
Desc:		aliases for hostnames. 
			Format: "N;alias1=name1;...;aliasN=nameN;"
			Example of real usage: main SER is running on 'domain.com', for 
			each IM	gateway exists a DNS alias 'im.domain.com'. When SIP users
			want to send messages to IM network, destination is like 
			'id@im.domain.com'. If Jabber server is on another machine 
			'alpha.domain.com', only messages with destination 
			'id@alpha.domain.com' are considered for itself. If 
			aliases="1;jabber.domain.com=alpha.domain.com;" all messages for 
			'id@jabber.domain.com' are sent to Jabber with destination 
			'id@alpha.domain.com', and now Jabber recognize that the message
			is for one of local Jabber users. If destination has a hostname,
			other than machine's name or IM gateways alias, Jabber server tries
			to connect to that host, considering that host another Jabber srv.

Name:		workers
Type:		integer
Default:	2
Desc:		number of workers

Name:		max_jobs
Type:		integer
Default:	10
Desc:		maximum jobs per worker

Name:		cache_time
Type:		integer (seconds)
Default:	600
Desc:		cache time of a Jabber conection

Name:		delay_time
Type:		integer (seconds)
Default:	90
Desc:		time to keep a SIP message

Name:		sleep_time
Type:		integer (seconds)
Default:	20
Desc:		time between expired Jabber connections checking

Exported Functions:
-------------------

Name: 	jab_send_message
Params:	none
Desc:	converts SIP MESSAGE message to a Jabber message and sends it to Jabber
		server.
