
eXtended JABber module
======================

This is new version of Jabber module that integrates XODE XML parser for
parsing Jabber messages. That introduces a new module dependence: expat library.

Expat is a common XML library and is the fastest available for Linux/Unix, 
the second over all, after msxml library. It is integrated in most of well known
Linux distributions.

New features
------------
- SIP to Jabber conference support
- possibility to manage all kinds of Jabber messages (message/presence/iq)
- aliases - possibility to set host aliases for addresses (see parameter's desc.)
- gateways detection - ability to see whether an IM gateway is up or down

Features
--------
- send received SIP MESSAGE messages to different IM networks (Jabber, ICQ,
MSN, AIM, Yahoo) using a Jabber server
- send as SIP MESSAGE messages incoming Jabber instant messages

Exported parameters:
--------------------

Name:		contact
Type:		string 
Default:	none
Desc:		contact header for SIP messages - if not set, the header
			is filled with value of 'From'
			
Name:		db_url
Type:		string
Default:	"sql://root@127.0.0.1/sip_jab"
Desc:		username, password, host, port and database
			(ex: sql://username:password@hostname.com/database)

Name:		jaddress
Type:		string
Default:	"127.0.0.1"
Desc:		IP or hostname of Jabber server 

Name:		jport
Type:		integer
Default:	5222
Desc:		port of Jabber server

Name:		jdomain
Type:		string
Default:	none
Desc:		Format: jabber.sipserver.com
			If the destination is for Jabber network the URI should be as:
			userbame%jabber_server@jdomain

Name:		aliases
Type:		string
Default:	none
Desc:		aliases for hostnames. 
			Format: "N;alias1;...;aliasN;"
			Jabber module expects destination as userid%jabber_server@jdomain,
			only destination like '*@aliasX' could have other form. If destination
			does not contains an alias then it will be transformed to
			userid@jabber_server before the message is sent to Jabber server

Name:		workers
Type:		integer
Default:	2
Desc:		number of workers

Name:		max_jobs
Type:		integer
Default:	10
Desc:		maximum jobs per worker

Name:		cache_time
Type:		integer (seconds)
Default:	600
Desc:		cache time of a Jabber conection

Name:		delay_time
Type:		integer (seconds)
Default:	90
Desc:		time to keep a SIP message

Name:		sleep_time
Type:		integer (seconds)
Default:	20
Desc:		time between expired Jabber connections checking

Exported Functions:
-------------------

Name: 	jab_send_message
Params:	none
Desc:	converts SIP MESSAGE message to a Jabber message and sends it to Jabber
		server.

Name: 	jab_join_jconf
Params:	none
Desc:	join a Jabber conference - the nickanme, room name and conference server
		address should be included in to header as:
		nickname%roomname%conference_server@jdomain . If the nickname is missing,
		then the SIP username is used.

Name: 	jab_exit_jconf
Params:	none
Desc:	leave a Jabber conference - the nickanme, room name and conference server
		address should be included in to header as:
		nickname%roomname%conference_server@jdomain .

Name: 	jab_go_online
Params:	none
Desc:	register to the Jabber server with associated Jabber ID of the SIP user

Name: 	jab_go_offline
Params:	none
Desc:	logoff from Jabber server the associated Jabber ID of the SIP user


