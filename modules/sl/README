# 
# $Id$
#

From: Bogdan Andrei Iancu <iancu@fokus.gmd.de>



                           StateLess (SL) Module


1.Description

The SL module provide possibilities to send stateless replies for the current 
request. Additional, a filter function is available for checking the ACK
requests generated by sending a SL reply to a INVITE req. Also, offers the
possibility to send explanatory SL replies in case of an internal error.


2.Module parameters

None.


3.Exported functions

 - sl_send_reply(code,text_reason)
For the current request, a reply is sent back having the given code and text
reason. The reply is sent stateless, totally independent of the Transaction
module and with no retranssmision for the INVITE's replies.

 - sl_filter_ACK()
Identifies and blocks the ACK requests generated by INVITE's replies sent
using the sl_send_reply() or sl_send_error() functions.

 - sl_reply_error()
Sends back an error reply describing the nature of the last internal error.
Usually this function should be used after a script function that returned an
error code.


4.Modules dependency

None.


5.Implementation details

For the SL module to be able to recognize the ACKs generated by INVITE's
replies sent by itself, all the sent replies will have attached to TO header
a "tag" param. having a unique value (that was random generated at ser 
startup).When an ACK is received, the TO tag param tag is checked if
corresponds - all UAS MUST copy the TO tag from replies into ACK requests!
TO speed up the filtering process, the module uses a timeout mechanism. When
a reply is sent, a timer us set. As time as the timer is valid, The incoming
ACK requests will be checked using TO tag value  Once the timer expires, all
the ACK are let through - a long time passed till it sent a reply, so it does
not expect any ACK that have to be blocked.

