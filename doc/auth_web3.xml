<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE section PUBLIC "-//OASIS//DTD DocBook XML V4.2//EN"
	"http://www.oasis-open.org/docbook/xml/4.2/docbookx.dtd"
	[ <!ENTITY % local.common.attrib
	 "xmlns:xi CDATA #FIXED 'http://www.w3.org/2001/XInclude'">
	 <!-- Include general documentation entities -->
	 <!ENTITY % docentities SYSTEM "../../../../doc/docbook/entities.xml">
	 %docentities;
	]
>

<book id="auth_web3" xmlns:xi="http://www.w3.org/2001/XInclude">
    <bookinfo>
        <title>The Web3 Auth Module</title>
        <authorgroup>
            <author>
                <firstname>Jonathan</firstname>
                <surname>Kandel</surname>
                <affiliation><orgname>Cellact B.V.</orgname></affiliation>
                <email>jonathan@cellact.com</email>
            </author>
        </authorgroup>

        <copyright>
            <year>2025</year>
            <holder>Cellact B.V.</holder>
        </copyright>

    </bookinfo>
    <toc></toc>

    <chapter>
        <title>Admin Guide</title>

    <section id="auth_web3.overview">
		<title>Overview</title>
		<para>
			The Web3 Auth module provides blockchain-based authentication for Kamailio
			with integrated ENS (Ethereum Name Service) support. This module replaces 
			traditional password-based verification with Web3 smart contract calls while 
			maintaining full SIP digest authentication compatibility.
		</para>
		<para>
			The module maintains full compatibility with standard <emphasis>SIP</emphasis> 
			digest authentication while using blockchain smart contracts to verify user 
			credentials. It supports all standard auth functions including 
			<emphasis>WWW-Authenticate</emphasis>, <emphasis>Proxy-Authenticate</emphasis>, 
			and various authentication challenges.
		</para>
		<para>
			Key features:
			<itemizedlist>
				<listitem><para>Blockchain authentication via Oasis Sapphire smart contracts</para></listitem>
				<listitem><para>ENS domain support (alice.eth authentication)</para></listitem>
				<listitem><para>Multi-network support (ENS on Ethereum, auth on Oasis)</para></listitem>
				<listitem><para>RFC2617/7616 digest authentication compliance</para></listitem>
				<listitem><para>Environment variable configuration for containers</para></listitem>
				<listitem><para>Drop-in replacement for auth_db module</para></listitem>
			</itemizedlist>
		</para>
	</section>

	<section id="auth_web3.dep">
		<title>Dependencies</title>
		<para>
			The following modules must be loaded before this module:
			<itemizedlist>
				<listitem><para><emphasis>auth</emphasis> - base authentication module</para></listitem>
			</itemizedlist>
		</para>
		<para>
			External dependencies:
			<itemizedlist>
				<listitem><para><emphasis>libcurl</emphasis> - HTTP client library for blockchain RPC calls</para></listitem>
				<listitem><para><emphasis>OpenSSL</emphasis> - cryptographic library for digest calculations</para></listitem>
			</itemizedlist>
		</para>
	</section>

	<xi:include href="auth_web3_params.xml"/>
	<xi:include href="auth_web3_functions.xml"/>
	<xi:include href="auth_web3_faq.xml"/>

    </chapter>
</book> 